flklrJsonp([ 179 ], {
    216: function(e, t) {
        !function() {
            function ka(e, t) {
                CKEDITOR.tools.extend(this, t, {
                    editor: e,
                    id: "cke-" + CKEDITOR.tools.getUniqueId(),
                    area: e._.notificationArea
                }), t.type || (this.type = "info"), this.element = this._createElement(), e.plugins.clipboard && CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element);
            }
            function la(e) {
                var t = this;
                this.editor = e, this.notifications = [], this.element = this._createElement(), 
                this._uiBuffer = CKEDITOR.tools.eventsBuffer(10, this._layout, this), this._changeBuffer = CKEDITOR.tools.eventsBuffer(500, this._layout, this), 
                e.on("destroy", function() {
                    t._removeListeners(), t.element.remove();
                });
            }
            window.CKEDITOR && window.CKEDITOR.dom || (window.CKEDITOR || (window.CKEDITOR = function() {
                var e = /(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i, t = {
                    timestamp: "H7HG",
                    version: "4.7.2 (Standard)",
                    revision: "c9b79c94c",
                    rnd: Math.floor(900 * Math.random()) + 100,
                    _: {
                        pending: [],
                        basePathSrcPattern: e
                    },
                    status: "unloaded",
                    basePath: function() {
                        var t = window.CKEDITOR_BASEPATH || "";
                        if (!t) for (var n = document.getElementsByTagName("script"), i = 0; i < n.length; i++) {
                            var o = n[i].src.match(e);
                            if (o) {
                                t = o[1];
                                break;
                            }
                        }
                        if (-1 == t.indexOf(":/") && "//" != t.slice(0, 2) && (t = 0 === t.indexOf("/") ? location.href.match(/^.*?:\/\/[^\/]*/)[0] + t : location.href.match(/^[^\?]*\/(?:)/)[0] + t), 
                        !t) throw 'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';
                        return t;
                    }(),
                    getUrl: function(e) {
                        return -1 == e.indexOf(":/") && 0 !== e.indexOf("/") && (e = this.basePath + e), 
                        this.timestamp && "/" != e.charAt(e.length - 1) && !/[&?]t=/.test(e) && (e += (0 <= e.indexOf("?") ? "&" : "?") + "t=" + this.timestamp), 
                        e;
                    },
                    domReady: function() {
                        function a() {
                            try {
                                document.addEventListener ? (document.removeEventListener("DOMContentLoaded", a, !1), 
                                b()) : document.attachEvent && "complete" === document.readyState && (document.detachEvent("onreadystatechange", a), 
                                b());
                            } catch (e) {}
                        }
                        function b() {
                            for (var t; t = e.shift(); ) t();
                        }
                        var e = [];
                        return function(t) {
                            function b() {
                                try {
                                    document.documentElement.doScroll("left");
                                } catch (e) {
                                    return void setTimeout(b, 1);
                                }
                                a();
                            }
                            if (e.push(t), "complete" === document.readyState && setTimeout(a, 1), 1 == e.length) if (document.addEventListener) document.addEventListener("DOMContentLoaded", a, !1), 
                            window.addEventListener("load", a, !1); else if (document.attachEvent) {
                                document.attachEvent("onreadystatechange", a), window.attachEvent("onload", a), 
                                t = !1;
                                try {
                                    t = !window.frameElement;
                                } catch (e) {}
                                document.documentElement.doScroll && t && b();
                            }
                        };
                    }()
                }, n = window.CKEDITOR_GETURL;
                if (n) {
                    var i = t.getUrl;
                    t.getUrl = function(e) {
                        return n.call(t, e) || i.call(t, e);
                    };
                }
                return t;
            }()), CKEDITOR.event || (CKEDITOR.event = function() {}, CKEDITOR.event.implementOn = function(e) {
                var t, n = CKEDITOR.event.prototype;
                for (t in n) null == e[t] && (e[t] = n[t]);
            }, CKEDITOR.event.prototype = function() {
                function a(n) {
                    var i = e(this);
                    return i[n] || (i[n] = new t(n));
                }
                var e = function(e) {
                    return e = e.getPrivate && e.getPrivate() || e._ || (e._ = {}), e.events || (e.events = {});
                }, t = function(e) {
                    this.name = e, this.listeners = [];
                };
                return t.prototype = {
                    getListenerIndex: function(e) {
                        for (var t = 0, n = this.listeners; t < n.length; t++) if (n[t].fn == e) return t;
                        return -1;
                    }
                }, {
                    define: function(e, t) {
                        var n = a.call(this, e);
                        CKEDITOR.tools.extend(n, t, !0);
                    },
                    on: function(e, t, n, i, o) {
                        function h(o, a, r, s) {
                            return o = {
                                name: e,
                                sender: this,
                                editor: o,
                                data: a,
                                listenerData: i,
                                stop: r,
                                cancel: s,
                                removeListener: m
                            }, !1 !== t.call(n, o) && o.data;
                        }
                        function m() {
                            s.removeListener(e, t);
                        }
                        var r = a.call(this, e);
                        if (0 > r.getListenerIndex(t)) {
                            r = r.listeners, n || (n = this), isNaN(o) && (o = 10);
                            var s = this;
                            h.fn = t, h.priority = o;
                            for (var l = r.length - 1; 0 <= l; l--) if (r[l].priority <= o) return r.splice(l + 1, 0, h), 
                            {
                                removeListener: m
                            };
                            r.unshift(h);
                        }
                        return {
                            removeListener: m
                        };
                    },
                    once: function() {
                        var e = Array.prototype.slice.call(arguments), t = e[1];
                        return e[1] = function(e) {
                            return e.removeListener(), t.apply(this, arguments);
                        }, this.on.apply(this, e);
                    },
                    capture: function() {
                        CKEDITOR.event.useCapture = 1;
                        var e = this.on.apply(this, arguments);
                        return CKEDITOR.event.useCapture = 0, e;
                    },
                    fire: function() {
                        var t = 0, n = function() {
                            t = 1;
                        }, i = 0, o = function() {
                            i = 1;
                        };
                        return function(a, r, s) {
                            var l = e(this)[a];
                            a = t;
                            var c = i;
                            if (t = i = 0, l) {
                                var d = l.listeners;
                                if (d.length) for (var u, d = d.slice(0), h = 0; h < d.length; h++) {
                                    if (l.errorProof) try {
                                        u = d[h].call(this, s, r, n, o);
                                    } catch (e) {} else u = d[h].call(this, s, r, n, o);
                                    if (!1 === u ? i = 1 : void 0 !== u && (r = u), t || i) break;
                                }
                            }
                            return r = !i && (void 0 === r || r), t = a, i = c, r;
                        };
                    }(),
                    fireOnce: function(t, n, i) {
                        return n = this.fire(t, n, i), delete e(this)[t], n;
                    },
                    removeListener: function(t, n) {
                        var i = e(this)[t];
                        if (i) {
                            var o = i.getListenerIndex(n);
                            0 <= o && i.listeners.splice(o, 1);
                        }
                    },
                    removeAllListeners: function() {
                        var t, n = e(this);
                        for (t in n) delete n[t];
                    },
                    hasListeners: function(t) {
                        return (t = e(this)[t]) && 0 < t.listeners.length;
                    }
                };
            }()), CKEDITOR.editor || (CKEDITOR.editor = function() {
                CKEDITOR._.pending.push([ this, arguments ]), CKEDITOR.event.call(this);
            }, CKEDITOR.editor.prototype.fire = function(e, t) {
                return e in {
                    instanceReady: 1,
                    loaded: 1
                } && (this[e] = !0), CKEDITOR.event.prototype.fire.call(this, e, t, this);
            }, CKEDITOR.editor.prototype.fireOnce = function(e, t) {
                return e in {
                    instanceReady: 1,
                    loaded: 1
                } && (this[e] = !0), CKEDITOR.event.prototype.fireOnce.call(this, e, t, this);
            }, CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)), CKEDITOR.env || (CKEDITOR.env = function() {
                var e = navigator.userAgent.toLowerCase(), t = e.match(/edge[ \/](\d+.?\d*)/), n = -1 < e.indexOf("trident/"), n = !(!t && !n), n = {
                    ie: n,
                    edge: !!t,
                    webkit: !n && -1 < e.indexOf(" applewebkit/"),
                    air: -1 < e.indexOf(" adobeair/"),
                    mac: -1 < e.indexOf("macintosh"),
                    quirks: "BackCompat" == document.compatMode && (!document.documentMode || 10 > document.documentMode),
                    mobile: -1 < e.indexOf("mobile"),
                    iOS: /(ipad|iphone|ipod)/.test(e),
                    isCustomDomain: function() {
                        if (!this.ie) return !1;
                        var e = document.domain, t = window.location.hostname;
                        return e != t && e != "[" + t + "]";
                    },
                    secure: "https:" == location.protocol
                };
                n.gecko = "Gecko" == navigator.product && !n.webkit && !n.ie, n.webkit && (-1 < e.indexOf("chrome") ? n.chrome = !0 : n.safari = !0);
                var i = 0;
                return n.ie && (i = t ? parseFloat(t[1]) : n.quirks || !document.documentMode ? parseFloat(e.match(/msie (\d+)/)[1]) : document.documentMode, 
                n.ie9Compat = 9 == i, n.ie8Compat = 8 == i, n.ie7Compat = 7 == i, n.ie6Compat = 7 > i || n.quirks), 
                n.gecko && (t = e.match(/rv:([\d\.]+)/)) && (t = t[1].split("."), i = 1e4 * t[0] + 100 * (t[1] || 0) + 1 * (t[2] || 0)), 
                n.air && (i = parseFloat(e.match(/ adobeair\/(\d+)/)[1])), n.webkit && (i = parseFloat(e.match(/ applewebkit\/(\d+)/)[1])), 
                n.version = i, n.isCompatible = !(n.ie && 7 > i || n.gecko && 4e4 > i || n.webkit && 534 > i), 
                n.hidpi = 2 <= window.devicePixelRatio, n.needsBrFiller = n.gecko || n.webkit || n.ie && 10 < i, 
                n.needsNbspFiller = n.ie && 11 > i, n.cssClass = "cke_browser_" + (n.ie ? "ie" : n.gecko ? "gecko" : n.webkit ? "webkit" : "unknown"), 
                n.quirks && (n.cssClass += " cke_browser_quirks"), n.ie && (n.cssClass += " cke_browser_ie" + (n.quirks ? "6 cke_browser_iequirks" : n.version)), 
                n.air && (n.cssClass += " cke_browser_air"), n.iOS && (n.cssClass += " cke_browser_ios"), 
                n.hidpi && (n.cssClass += " cke_hidpi"), n;
            }()), "unloaded" == CKEDITOR.status && function() {
                CKEDITOR.event.implementOn(CKEDITOR), CKEDITOR.loadFullCore = function() {
                    if ("basic_ready" != CKEDITOR.status) CKEDITOR.loadFullCore._load = 1; else {
                        delete CKEDITOR.loadFullCore;
                        var e = document.createElement("script");
                        e.type = "text/javascript", e.src = CKEDITOR.basePath + "ckeditor.js", document.getElementsByTagName("head")[0].appendChild(e);
                    }
                }, CKEDITOR.loadFullCoreTimeout = 0, CKEDITOR.add = function(e) {
                    (this._.pending || (this._.pending = [])).push(e);
                }, function() {
                    CKEDITOR.domReady(function() {
                        var e = CKEDITOR.loadFullCore, t = CKEDITOR.loadFullCoreTimeout;
                        e && (CKEDITOR.status = "basic_ready", e && e._load ? e() : t && setTimeout(function() {
                            CKEDITOR.loadFullCore && CKEDITOR.loadFullCore();
                        }, 1e3 * t));
                    });
                }(), CKEDITOR.status = "basic_loaded";
            }(), CKEDITOR.VERBOSITY_WARN = 1, CKEDITOR.VERBOSITY_ERROR = 2, CKEDITOR.verbosity = CKEDITOR.VERBOSITY_WARN | CKEDITOR.VERBOSITY_ERROR, 
            CKEDITOR.warn = function(e, t) {
                CKEDITOR.verbosity & CKEDITOR.VERBOSITY_WARN && CKEDITOR.fire("log", {
                    type: "warn",
                    errorCode: e,
                    additionalData: t
                });
            }, CKEDITOR.error = function(e, t) {
                CKEDITOR.verbosity & CKEDITOR.VERBOSITY_ERROR && CKEDITOR.fire("log", {
                    type: "error",
                    errorCode: e,
                    additionalData: t
                });
            }, CKEDITOR.on("log", function(e) {
                if (window.console && window.console.log) {
                    var t = console[e.data.type] ? e.data.type : "log", n = e.data.errorCode;
                    (e = e.data.additionalData) ? console[t]("[CKEDITOR] Error code: " + n + ".", e) : console[t]("[CKEDITOR] Error code: " + n + "."), 
                    console[t]("[CKEDITOR] For more information about this error go to http://docs.ckeditor.com/#!/guide/dev_errors-section-" + n);
                }
            }, null, null, 999), CKEDITOR.dom = {}, function() {
                var e = [], t = CKEDITOR.env.gecko ? "-moz-" : CKEDITOR.env.webkit ? "-webkit-" : CKEDITOR.env.ie ? "-ms-" : "", n = /&/g, i = />/g, o = /</g, a = /"/g, r = /&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g, s = {
                    lt: "<",
                    gt: ">",
                    amp: "&",
                    quot: '"',
                    nbsp: " ",
                    shy: "­"
                }, l = function(e, t) {
                    return "#" == t[0] ? String.fromCharCode(parseInt(t.slice(1), 10)) : s[t];
                };
                CKEDITOR.on("reset", function() {
                    e = [];
                }), CKEDITOR.tools = {
                    arrayCompare: function(e, t) {
                        if (!e && !t) return !0;
                        if (!e || !t || e.length != t.length) return !1;
                        for (var n = 0; n < e.length; n++) if (e[n] != t[n]) return !1;
                        return !0;
                    },
                    getIndex: function(e, t) {
                        for (var n = 0; n < e.length; ++n) if (t(e[n])) return n;
                        return -1;
                    },
                    clone: function(e) {
                        var t;
                        if (e && e instanceof Array) {
                            t = [];
                            for (var n = 0; n < e.length; n++) t[n] = CKEDITOR.tools.clone(e[n]);
                            return t;
                        }
                        if (null === e || "object" != typeof e || e instanceof String || e instanceof Number || e instanceof Boolean || e instanceof Date || e instanceof RegExp || e.nodeType || e.window === e) return e;
                        t = new e.constructor();
                        for (n in e) t[n] = CKEDITOR.tools.clone(e[n]);
                        return t;
                    },
                    capitalize: function(e, t) {
                        return e.charAt(0).toUpperCase() + (t ? e.slice(1) : e.slice(1).toLowerCase());
                    },
                    extend: function(e) {
                        var t, n, i = arguments.length;
                        "boolean" == typeof (t = arguments[i - 1]) ? i-- : "boolean" == typeof (t = arguments[i - 2]) && (n = arguments[i - 1], 
                        i -= 2);
                        for (var o = 1; o < i; o++) {
                            var a, r = arguments[o];
                            for (a in r) !0 !== t && null != e[a] || (!n || a in n) && (e[a] = r[a]);
                        }
                        return e;
                    },
                    prototypedCopy: function(e) {
                        var t = function() {};
                        return t.prototype = e, new t();
                    },
                    copy: function(e) {
                        var t, n = {};
                        for (t in e) n[t] = e[t];
                        return n;
                    },
                    isArray: function(e) {
                        return "[object Array]" == Object.prototype.toString.call(e);
                    },
                    isEmpty: function(e) {
                        for (var t in e) if (e.hasOwnProperty(t)) return !1;
                        return !0;
                    },
                    cssVendorPrefix: function(e, n, i) {
                        return i ? t + e + ":" + n + ";" + e + ":" + n : (i = {}, i[e] = n, i[t + e] = n, 
                        i);
                    },
                    cssStyleToDomStyle: function() {
                        var e = document.createElement("div").style, t = void 0 !== e.cssFloat ? "cssFloat" : void 0 !== e.styleFloat ? "styleFloat" : "float";
                        return function(e) {
                            return "float" == e ? t : e.replace(/-./g, function(e) {
                                return e.substr(1).toUpperCase();
                            });
                        };
                    }(),
                    buildStyleHtml: function(e) {
                        e = [].concat(e);
                        for (var t, n = [], i = 0; i < e.length; i++) (t = e[i]) && (/@import|[{}]/.test(t) ? n.push("<style>" + t + "</style>") : n.push('<link type="text/css" rel=stylesheet href="' + t + '">'));
                        return n.join("");
                    },
                    htmlEncode: function(e) {
                        return void 0 === e || null === e ? "" : String(e).replace(n, "&amp;").replace(i, "&gt;").replace(o, "&lt;");
                    },
                    htmlDecode: function(e) {
                        return e.replace(r, l);
                    },
                    htmlEncodeAttr: function(e) {
                        return CKEDITOR.tools.htmlEncode(e).replace(a, "&quot;");
                    },
                    htmlDecodeAttr: function(e) {
                        return CKEDITOR.tools.htmlDecode(e);
                    },
                    transformPlainTextToHtml: function(e, t) {
                        var n = t == CKEDITOR.ENTER_BR, i = this.htmlEncode(e.replace(/\r\n/g, "\n")), i = i.replace(/\t/g, "&nbsp;&nbsp; &nbsp;"), o = t == CKEDITOR.ENTER_P ? "p" : "div";
                        if (!n) {
                            var a = /\n{2}/g;
                            if (a.test(i)) var r = "<" + o + ">", s = "</" + o + ">", i = r + i.replace(a, function() {
                                return s + r;
                            }) + s;
                        }
                        return i = i.replace(/\n/g, "<br>"), n || (i = i.replace(new RegExp("<br>(?=</" + o + ">)"), function(e) {
                            return CKEDITOR.tools.repeat(e, 2);
                        })), i = i.replace(/^ | $/g, "&nbsp;"), i = i.replace(/(>|\s) /g, function(e, t) {
                            return t + "&nbsp;";
                        }).replace(/ (?=<)/g, "&nbsp;");
                    },
                    getNextNumber: function() {
                        var e = 0;
                        return function() {
                            return ++e;
                        };
                    }(),
                    getNextId: function() {
                        return "cke_" + this.getNextNumber();
                    },
                    getUniqueId: function() {
                        for (var e = "e", t = 0; 8 > t; t++) e += Math.floor(65536 * (1 + Math.random())).toString(16).substring(1);
                        return e;
                    },
                    override: function(e, t) {
                        var n = t(e);
                        return n.prototype = e.prototype, n;
                    },
                    setTimeout: function(e, t, n, i, o) {
                        return o || (o = window), n || (n = o), o.setTimeout(function() {
                            i ? e.apply(n, [].concat(i)) : e.apply(n);
                        }, t || 0);
                    },
                    trim: function() {
                        var e = /(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;
                        return function(t) {
                            return t.replace(e, "");
                        };
                    }(),
                    ltrim: function() {
                        var e = /^[ \t\n\r]+/g;
                        return function(t) {
                            return t.replace(e, "");
                        };
                    }(),
                    rtrim: function() {
                        var e = /[ \t\n\r]+$/g;
                        return function(t) {
                            return t.replace(e, "");
                        };
                    }(),
                    indexOf: function(e, t) {
                        if ("function" == typeof t) {
                            for (var n = 0, i = e.length; n < i; n++) if (t(e[n])) return n;
                        } else {
                            if (e.indexOf) return e.indexOf(t);
                            for (n = 0, i = e.length; n < i; n++) if (e[n] === t) return n;
                        }
                        return -1;
                    },
                    search: function(e, t) {
                        var n = CKEDITOR.tools.indexOf(e, t);
                        return 0 <= n ? e[n] : null;
                    },
                    bind: function(e, t) {
                        return function() {
                            return e.apply(t, arguments);
                        };
                    },
                    createClass: function(e) {
                        var t = e.$, n = e.base, i = e.privates || e._, o = e.proto;
                        if (e = e.statics, !t && (t = function() {
                            n && this.base.apply(this, arguments);
                        }), i) var a = t, t = function() {
                            var e, t = this._ || (this._ = {});
                            for (e in i) {
                                var n = i[e];
                                t[e] = "function" == typeof n ? CKEDITOR.tools.bind(n, this) : n;
                            }
                            a.apply(this, arguments);
                        };
                        return n && (t.prototype = this.prototypedCopy(n.prototype), t.prototype.constructor = t, 
                        t.base = n, t.baseProto = n.prototype, t.prototype.base = function() {
                            this.base = n.prototype.base, n.apply(this, arguments), this.base = arguments.callee;
                        }), o && this.extend(t.prototype, o, !0), e && this.extend(t, e, !0), t;
                    },
                    addFunction: function(t, n) {
                        return e.push(function() {
                            return t.apply(n || this, arguments);
                        }) - 1;
                    },
                    removeFunction: function(t) {
                        e[t] = null;
                    },
                    callFunction: function(t) {
                        var n = e[t];
                        return n && n.apply(window, Array.prototype.slice.call(arguments, 1));
                    },
                    cssLength: function() {
                        var e, t = /^-?\d+\.?\d*px$/;
                        return function(n) {
                            return e = CKEDITOR.tools.trim(n + "") + "px", t.test(e) ? e : n || "";
                        };
                    }(),
                    convertToPx: function() {
                        var e;
                        return function(t) {
                            return e || (e = CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>', CKEDITOR.document), 
                            CKEDITOR.document.getBody().append(e)), /%$/.test(t) ? t : (e.setStyle("width", t), 
                            e.$.clientWidth);
                        };
                    }(),
                    repeat: function(e, t) {
                        return Array(t + 1).join(e);
                    },
                    tryThese: function() {
                        for (var e, t = 0, n = arguments.length; t < n; t++) {
                            var i = arguments[t];
                            try {
                                e = i();
                                break;
                            } catch (e) {}
                        }
                        return e;
                    },
                    genKey: function() {
                        return Array.prototype.slice.call(arguments).join("-");
                    },
                    defer: function(e) {
                        return function() {
                            var t = arguments, n = this;
                            window.setTimeout(function() {
                                e.apply(n, t);
                            }, 0);
                        };
                    },
                    normalizeCssText: function(e, t) {
                        var n, i = [], o = CKEDITOR.tools.parseCssText(e, !0, t);
                        for (n in o) i.push(n + ":" + o[n]);
                        return i.sort(), i.length ? i.join(";") + ";" : "";
                    },
                    convertRgbToHex: function(e) {
                        return e.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi, function(e, t, n, i) {
                            for (e = [ t, n, i ], t = 0; 3 > t; t++) e[t] = ("0" + parseInt(e[t], 10).toString(16)).slice(-2);
                            return "#" + e.join("");
                        });
                    },
                    normalizeHex: function(e) {
                        return e.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi, function(e, t, n, i) {
                            return e = t.toLowerCase(), 3 == e.length && (e = e.split(""), e = [ e[0], e[0], e[1], e[1], e[2], e[2] ].join("")), 
                            "#" + e + i;
                        });
                    },
                    parseCssText: function(e, t, n) {
                        var i = {};
                        return n && (e = new CKEDITOR.dom.element("span").setAttribute("style", e).getAttribute("style") || ""), 
                        e && (e = CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(e))), e && ";" != e ? (e.replace(/&quot;/g, '"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g, function(e, n, o) {
                            t && (n = n.toLowerCase(), "font-family" == n && (o = o.replace(/\s*,\s*/g, ",")), 
                            o = CKEDITOR.tools.trim(o)), i[n] = o;
                        }), i) : i;
                    },
                    writeCssText: function(e, t) {
                        var n, i = [];
                        for (n in e) i.push(n + ":" + e[n]);
                        return t && i.sort(), i.join("; ");
                    },
                    objectCompare: function(e, t, n) {
                        var i;
                        if (!e && !t) return !0;
                        if (!e || !t) return !1;
                        for (i in e) if (e[i] != t[i]) return !1;
                        if (!n) for (i in t) if (e[i] != t[i]) return !1;
                        return !0;
                    },
                    objectKeys: function(e) {
                        var t, n = [];
                        for (t in e) n.push(t);
                        return n;
                    },
                    convertArrayToObject: function(e, t) {
                        var n = {};
                        1 == arguments.length && (t = !0);
                        for (var i = 0, o = e.length; i < o; ++i) n[e[i]] = t;
                        return n;
                    },
                    fixDomain: function() {
                        for (var e; ;) try {
                            e = window.parent.document.domain;
                            break;
                        } catch (t) {
                            if (!(e = e ? e.replace(/.+?(?:\.|$)/, "") : document.domain)) break;
                            document.domain = e;
                        }
                        return !!e;
                    },
                    eventsBuffer: function(e, t, n) {
                        function b() {
                            o = new Date().getTime(), i = !1, n ? t.call(n) : t();
                        }
                        var i, o = 0;
                        return {
                            input: function() {
                                if (!i) {
                                    var t = new Date().getTime() - o;
                                    t < e ? i = setTimeout(b, e - t) : b();
                                }
                            },
                            reset: function() {
                                i && clearTimeout(i), i = o = 0;
                            }
                        };
                    },
                    enableHtml5Elements: function(e, t) {
                        for (var n, i = "abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "), o = i.length; o--; ) n = e.createElement(i[o]), 
                        t && e.appendChild(n);
                    },
                    checkIfAnyArrayItemMatches: function(e, t) {
                        for (var n = 0, i = e.length; n < i; ++n) if (e[n].match(t)) return !0;
                        return !1;
                    },
                    checkIfAnyObjectPropertyMatches: function(e, t) {
                        for (var n in e) if (n.match(t)) return !0;
                        return !1;
                    },
                    keystrokeToString: function(e, t) {
                        var n = 16711680 & t, i = 65535 & t, o = CKEDITOR.env.mac, a = [], r = [];
                        return n & CKEDITOR.CTRL && (a.push(o ? "⌘" : e[17]), r.push(o ? e[224] : e[17])), 
                        n & CKEDITOR.ALT && (a.push(o ? "⌥" : e[18]), r.push(e[18])), n & CKEDITOR.SHIFT && (a.push(o ? "⇧" : e[16]), 
                        r.push(e[16])), i && (e[i] ? (a.push(e[i]), r.push(e[i])) : (a.push(String.fromCharCode(i)), 
                        r.push(String.fromCharCode(i)))), {
                            display: a.join("+"),
                            aria: r.join("+")
                        };
                    },
                    transparentImageData: "data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",
                    getCookie: function(e) {
                        e = e.toLowerCase();
                        for (var t, n = document.cookie.split(";"), i = 0; i < n.length; i++) if (t = n[i].split("="), 
                        decodeURIComponent(CKEDITOR.tools.trim(t[0]).toLowerCase()) === e) return decodeURIComponent(1 < t.length ? t[1] : "");
                        return null;
                    },
                    setCookie: function(e, t) {
                        document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + ";path=/";
                    },
                    getCsrfToken: function() {
                        var e = CKEDITOR.tools.getCookie("ckCsrfToken");
                        if (!e || 40 != e.length) {
                            var e = [], t = "";
                            if (window.crypto && window.crypto.getRandomValues) e = new Uint8Array(40), window.crypto.getRandomValues(e); else for (var n = 0; 40 > n; n++) e.push(Math.floor(256 * Math.random()));
                            for (n = 0; n < e.length; n++) var i = "abcdefghijklmnopqrstuvwxyz0123456789".charAt(e[n] % 36), t = t + (.5 < Math.random() ? i.toUpperCase() : i);
                            e = t, CKEDITOR.tools.setCookie("ckCsrfToken", e);
                        }
                        return e;
                    },
                    escapeCss: function(e) {
                        return e ? window.CSS && CSS.escape ? CSS.escape(e) : isNaN(parseInt(e.charAt(0), 10)) ? e : "\\3" + e.charAt(0) + " " + e.substring(1, e.length) : "";
                    },
                    style: {
                        parse: {
                            _colors: {
                                aliceblue: "#F0F8FF",
                                antiquewhite: "#FAEBD7",
                                aqua: "#00FFFF",
                                aquamarine: "#7FFFD4",
                                azure: "#F0FFFF",
                                beige: "#F5F5DC",
                                bisque: "#FFE4C4",
                                black: "#000000",
                                blanchedalmond: "#FFEBCD",
                                blue: "#0000FF",
                                blueviolet: "#8A2BE2",
                                brown: "#A52A2A",
                                burlywood: "#DEB887",
                                cadetblue: "#5F9EA0",
                                chartreuse: "#7FFF00",
                                chocolate: "#D2691E",
                                coral: "#FF7F50",
                                cornflowerblue: "#6495ED",
                                cornsilk: "#FFF8DC",
                                crimson: "#DC143C",
                                cyan: "#00FFFF",
                                darkblue: "#00008B",
                                darkcyan: "#008B8B",
                                darkgoldenrod: "#B8860B",
                                darkgray: "#A9A9A9",
                                darkgreen: "#006400",
                                darkgrey: "#A9A9A9",
                                darkkhaki: "#BDB76B",
                                darkmagenta: "#8B008B",
                                darkolivegreen: "#556B2F",
                                darkorange: "#FF8C00",
                                darkorchid: "#9932CC",
                                darkred: "#8B0000",
                                darksalmon: "#E9967A",
                                darkseagreen: "#8FBC8F",
                                darkslateblue: "#483D8B",
                                darkslategray: "#2F4F4F",
                                darkslategrey: "#2F4F4F",
                                darkturquoise: "#00CED1",
                                darkviolet: "#9400D3",
                                deeppink: "#FF1493",
                                deepskyblue: "#00BFFF",
                                dimgray: "#696969",
                                dimgrey: "#696969",
                                dodgerblue: "#1E90FF",
                                firebrick: "#B22222",
                                floralwhite: "#FFFAF0",
                                forestgreen: "#228B22",
                                fuchsia: "#FF00FF",
                                gainsboro: "#DCDCDC",
                                ghostwhite: "#F8F8FF",
                                gold: "#FFD700",
                                goldenrod: "#DAA520",
                                gray: "#808080",
                                green: "#008000",
                                greenyellow: "#ADFF2F",
                                grey: "#808080",
                                honeydew: "#F0FFF0",
                                hotpink: "#FF69B4",
                                indianred: "#CD5C5C",
                                indigo: "#4B0082",
                                ivory: "#FFFFF0",
                                khaki: "#F0E68C",
                                lavender: "#E6E6FA",
                                lavenderblush: "#FFF0F5",
                                lawngreen: "#7CFC00",
                                lemonchiffon: "#FFFACD",
                                lightblue: "#ADD8E6",
                                lightcoral: "#F08080",
                                lightcyan: "#E0FFFF",
                                lightgoldenrodyellow: "#FAFAD2",
                                lightgray: "#D3D3D3",
                                lightgreen: "#90EE90",
                                lightgrey: "#D3D3D3",
                                lightpink: "#FFB6C1",
                                lightsalmon: "#FFA07A",
                                lightseagreen: "#20B2AA",
                                lightskyblue: "#87CEFA",
                                lightslategray: "#778899",
                                lightslategrey: "#778899",
                                lightsteelblue: "#B0C4DE",
                                lightyellow: "#FFFFE0",
                                lime: "#00FF00",
                                limegreen: "#32CD32",
                                linen: "#FAF0E6",
                                magenta: "#FF00FF",
                                maroon: "#800000",
                                mediumaquamarine: "#66CDAA",
                                mediumblue: "#0000CD",
                                mediumorchid: "#BA55D3",
                                mediumpurple: "#9370DB",
                                mediumseagreen: "#3CB371",
                                mediumslateblue: "#7B68EE",
                                mediumspringgreen: "#00FA9A",
                                mediumturquoise: "#48D1CC",
                                mediumvioletred: "#C71585",
                                midnightblue: "#191970",
                                mintcream: "#F5FFFA",
                                mistyrose: "#FFE4E1",
                                moccasin: "#FFE4B5",
                                navajowhite: "#FFDEAD",
                                navy: "#000080",
                                oldlace: "#FDF5E6",
                                olive: "#808000",
                                olivedrab: "#6B8E23",
                                orange: "#FFA500",
                                orangered: "#FF4500",
                                orchid: "#DA70D6",
                                palegoldenrod: "#EEE8AA",
                                palegreen: "#98FB98",
                                paleturquoise: "#AFEEEE",
                                palevioletred: "#DB7093",
                                papayawhip: "#FFEFD5",
                                peachpuff: "#FFDAB9",
                                peru: "#CD853F",
                                pink: "#FFC0CB",
                                plum: "#DDA0DD",
                                powderblue: "#B0E0E6",
                                purple: "#800080",
                                rebeccapurple: "#663399",
                                red: "#FF0000",
                                rosybrown: "#BC8F8F",
                                royalblue: "#4169E1",
                                saddlebrown: "#8B4513",
                                salmon: "#FA8072",
                                sandybrown: "#F4A460",
                                seagreen: "#2E8B57",
                                seashell: "#FFF5EE",
                                sienna: "#A0522D",
                                silver: "#C0C0C0",
                                skyblue: "#87CEEB",
                                slateblue: "#6A5ACD",
                                slategray: "#708090",
                                slategrey: "#708090",
                                snow: "#FFFAFA",
                                springgreen: "#00FF7F",
                                steelblue: "#4682B4",
                                tan: "#D2B48C",
                                teal: "#008080",
                                thistle: "#D8BFD8",
                                tomato: "#FF6347",
                                turquoise: "#40E0D0",
                                violet: "#EE82EE",
                                wheat: "#F5DEB3",
                                white: "#FFFFFF",
                                whitesmoke: "#F5F5F5",
                                yellow: "#FFFF00",
                                yellowgreen: "#9ACD32"
                            },
                            _rgbaRegExp: /rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,
                            _hslaRegExp: /hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,
                            background: function(e) {
                                var t = {}, n = this._findColor(e);
                                return n.length && (t.color = n[0], CKEDITOR.tools.array.forEach(n, function(t) {
                                    e = e.replace(t, "");
                                })), (e = CKEDITOR.tools.trim(e)) && (t.unprocessed = e), t;
                            },
                            margin: function(e) {
                                function g(e) {
                                    t.top = n[e[0]], t.right = n[e[1]], t.bottom = n[e[2]], t.left = n[e[3]];
                                }
                                var t = {}, n = e.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset)/g) || [ "0px" ];
                                switch (n.length) {
                                  case 1:
                                    g([ 0, 0, 0, 0 ]);
                                    break;

                                  case 2:
                                    g([ 0, 1, 0, 1 ]);
                                    break;

                                  case 3:
                                    g([ 0, 1, 2, 1 ]);
                                    break;

                                  case 4:
                                    g([ 0, 1, 2, 3 ]);
                                }
                                return t;
                            },
                            _findColor: function(e) {
                                var t = [], n = CKEDITOR.tools.array, t = t.concat(e.match(this._rgbaRegExp) || []), t = t.concat(e.match(this._hslaRegExp) || []);
                                return t = t.concat(n.filter(e.split(/\s+/), function(e) {
                                    return !!e.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi) || e.toLowerCase() in CKEDITOR.tools.style.parse._colors;
                                }));
                            }
                        }
                    },
                    array: {
                        filter: function(e, t, n) {
                            var i = [];
                            return this.forEach(e, function(o, a) {
                                t.call(n, o, a, e) && i.push(o);
                            }), i;
                        },
                        forEach: function(e, t, n) {
                            var i, o = e.length;
                            for (i = 0; i < o; i++) t.call(n, e[i], i, e);
                        },
                        map: function(e, t, n) {
                            for (var i = [], o = 0; o < e.length; o++) i.push(t.call(n, e[o], o, e));
                            return i;
                        },
                        reduce: function(e, t, n, i) {
                            for (var o = 0; o < e.length; o++) n = t.call(i, n, e[o], o, e);
                            return n;
                        }
                    },
                    object: {
                        findKey: function(e, t) {
                            if ("object" != typeof e) return null;
                            for (var n in e) if (e[n] === t) return n;
                            return null;
                        }
                    }
                }, CKEDITOR.tools.array.indexOf = CKEDITOR.tools.indexOf, CKEDITOR.tools.array.isArray = CKEDITOR.tools.isArray;
            }(), CKEDITOR.dtd = function() {
                var e = CKEDITOR.tools.extend, t = function(e, t) {
                    for (var n = CKEDITOR.tools.clone(e), i = 1; i < arguments.length; i++) {
                        t = arguments[i];
                        for (var o in t) delete n[o];
                    }
                    return n;
                }, n = {}, i = {}, o = {
                    address: 1,
                    article: 1,
                    aside: 1,
                    blockquote: 1,
                    details: 1,
                    div: 1,
                    dl: 1,
                    fieldset: 1,
                    figure: 1,
                    footer: 1,
                    form: 1,
                    h1: 1,
                    h2: 1,
                    h3: 1,
                    h4: 1,
                    h5: 1,
                    h6: 1,
                    header: 1,
                    hgroup: 1,
                    hr: 1,
                    main: 1,
                    menu: 1,
                    nav: 1,
                    ol: 1,
                    p: 1,
                    pre: 1,
                    section: 1,
                    table: 1,
                    ul: 1
                }, a = {
                    command: 1,
                    link: 1,
                    meta: 1,
                    noscript: 1,
                    script: 1,
                    style: 1
                }, r = {}, s = {
                    "#": 1
                }, l = {
                    center: 1,
                    dir: 1,
                    noframes: 1
                };
                return e(n, {
                    a: 1,
                    abbr: 1,
                    area: 1,
                    audio: 1,
                    b: 1,
                    bdi: 1,
                    bdo: 1,
                    br: 1,
                    button: 1,
                    canvas: 1,
                    cite: 1,
                    code: 1,
                    command: 1,
                    datalist: 1,
                    del: 1,
                    dfn: 1,
                    em: 1,
                    embed: 1,
                    i: 1,
                    iframe: 1,
                    img: 1,
                    input: 1,
                    ins: 1,
                    kbd: 1,
                    keygen: 1,
                    label: 1,
                    map: 1,
                    mark: 1,
                    meter: 1,
                    noscript: 1,
                    object: 1,
                    output: 1,
                    progress: 1,
                    q: 1,
                    ruby: 1,
                    s: 1,
                    samp: 1,
                    script: 1,
                    select: 1,
                    small: 1,
                    span: 1,
                    strong: 1,
                    sub: 1,
                    sup: 1,
                    textarea: 1,
                    time: 1,
                    u: 1,
                    var: 1,
                    video: 1,
                    wbr: 1
                }, s, {
                    acronym: 1,
                    applet: 1,
                    basefont: 1,
                    big: 1,
                    font: 1,
                    isindex: 1,
                    strike: 1,
                    style: 1,
                    tt: 1
                }), e(i, o, n, l), t = {
                    a: t(n, {
                        a: 1,
                        button: 1
                    }),
                    abbr: n,
                    address: i,
                    area: r,
                    article: i,
                    aside: i,
                    audio: e({
                        source: 1,
                        track: 1
                    }, i),
                    b: n,
                    base: r,
                    bdi: n,
                    bdo: n,
                    blockquote: i,
                    body: i,
                    br: r,
                    button: t(n, {
                        a: 1,
                        button: 1
                    }),
                    canvas: n,
                    caption: i,
                    cite: n,
                    code: n,
                    col: r,
                    colgroup: {
                        col: 1
                    },
                    command: r,
                    datalist: e({
                        option: 1
                    }, n),
                    dd: i,
                    del: n,
                    details: e({
                        summary: 1
                    }, i),
                    dfn: n,
                    div: i,
                    dl: {
                        dt: 1,
                        dd: 1
                    },
                    dt: i,
                    em: n,
                    embed: r,
                    fieldset: e({
                        legend: 1
                    }, i),
                    figcaption: i,
                    figure: e({
                        figcaption: 1
                    }, i),
                    footer: i,
                    form: i,
                    h1: n,
                    h2: n,
                    h3: n,
                    h4: n,
                    h5: n,
                    h6: n,
                    head: e({
                        title: 1,
                        base: 1
                    }, a),
                    header: i,
                    hgroup: {
                        h1: 1,
                        h2: 1,
                        h3: 1,
                        h4: 1,
                        h5: 1,
                        h6: 1
                    },
                    hr: r,
                    html: e({
                        head: 1,
                        body: 1
                    }, i, a),
                    i: n,
                    iframe: s,
                    img: r,
                    input: r,
                    ins: n,
                    kbd: n,
                    keygen: r,
                    label: n,
                    legend: n,
                    li: i,
                    link: r,
                    main: i,
                    map: i,
                    mark: n,
                    menu: e({
                        li: 1
                    }, i),
                    meta: r,
                    meter: t(n, {
                        meter: 1
                    }),
                    nav: i,
                    noscript: e({
                        link: 1,
                        meta: 1,
                        style: 1
                    }, n),
                    object: e({
                        param: 1
                    }, n),
                    ol: {
                        li: 1
                    },
                    optgroup: {
                        option: 1
                    },
                    option: s,
                    output: n,
                    p: n,
                    param: r,
                    pre: n,
                    progress: t(n, {
                        progress: 1
                    }),
                    q: n,
                    rp: n,
                    rt: n,
                    ruby: e({
                        rp: 1,
                        rt: 1
                    }, n),
                    s: n,
                    samp: n,
                    script: s,
                    section: i,
                    select: {
                        optgroup: 1,
                        option: 1
                    },
                    small: n,
                    source: r,
                    span: n,
                    strong: n,
                    style: s,
                    sub: n,
                    summary: e({
                        h1: 1,
                        h2: 1,
                        h3: 1,
                        h4: 1,
                        h5: 1,
                        h6: 1
                    }, n),
                    sup: n,
                    table: {
                        caption: 1,
                        colgroup: 1,
                        thead: 1,
                        tfoot: 1,
                        tbody: 1,
                        tr: 1
                    },
                    tbody: {
                        tr: 1
                    },
                    td: i,
                    textarea: s,
                    tfoot: {
                        tr: 1
                    },
                    th: i,
                    thead: {
                        tr: 1
                    },
                    time: t(n, {
                        time: 1
                    }),
                    title: s,
                    tr: {
                        th: 1,
                        td: 1
                    },
                    track: r,
                    u: n,
                    ul: {
                        li: 1
                    },
                    var: n,
                    video: e({
                        source: 1,
                        track: 1
                    }, i),
                    wbr: r,
                    acronym: n,
                    applet: e({
                        param: 1
                    }, i),
                    basefont: r,
                    big: n,
                    center: i,
                    dialog: r,
                    dir: {
                        li: 1
                    },
                    font: n,
                    isindex: r,
                    noframes: i,
                    strike: n,
                    tt: n
                }, e(t, {
                    $block: e({
                        audio: 1,
                        dd: 1,
                        dt: 1,
                        figcaption: 1,
                        li: 1,
                        video: 1
                    }, o, l),
                    $blockLimit: {
                        article: 1,
                        aside: 1,
                        audio: 1,
                        body: 1,
                        caption: 1,
                        details: 1,
                        dir: 1,
                        div: 1,
                        dl: 1,
                        fieldset: 1,
                        figcaption: 1,
                        figure: 1,
                        footer: 1,
                        form: 1,
                        header: 1,
                        hgroup: 1,
                        main: 1,
                        menu: 1,
                        nav: 1,
                        ol: 1,
                        section: 1,
                        table: 1,
                        td: 1,
                        th: 1,
                        tr: 1,
                        ul: 1,
                        video: 1
                    },
                    $cdata: {
                        script: 1,
                        style: 1
                    },
                    $editable: {
                        address: 1,
                        article: 1,
                        aside: 1,
                        blockquote: 1,
                        body: 1,
                        details: 1,
                        div: 1,
                        fieldset: 1,
                        figcaption: 1,
                        footer: 1,
                        form: 1,
                        h1: 1,
                        h2: 1,
                        h3: 1,
                        h4: 1,
                        h5: 1,
                        h6: 1,
                        header: 1,
                        hgroup: 1,
                        main: 1,
                        nav: 1,
                        p: 1,
                        pre: 1,
                        section: 1
                    },
                    $empty: {
                        area: 1,
                        base: 1,
                        basefont: 1,
                        br: 1,
                        col: 1,
                        command: 1,
                        dialog: 1,
                        embed: 1,
                        hr: 1,
                        img: 1,
                        input: 1,
                        isindex: 1,
                        keygen: 1,
                        link: 1,
                        meta: 1,
                        param: 1,
                        source: 1,
                        track: 1,
                        wbr: 1
                    },
                    $inline: n,
                    $list: {
                        dl: 1,
                        ol: 1,
                        ul: 1
                    },
                    $listItem: {
                        dd: 1,
                        dt: 1,
                        li: 1
                    },
                    $nonBodyContent: e({
                        body: 1,
                        head: 1,
                        html: 1
                    }, t.head),
                    $nonEditable: {
                        applet: 1,
                        audio: 1,
                        button: 1,
                        embed: 1,
                        iframe: 1,
                        map: 1,
                        object: 1,
                        option: 1,
                        param: 1,
                        script: 1,
                        textarea: 1,
                        video: 1
                    },
                    $object: {
                        applet: 1,
                        audio: 1,
                        button: 1,
                        hr: 1,
                        iframe: 1,
                        img: 1,
                        input: 1,
                        object: 1,
                        select: 1,
                        table: 1,
                        textarea: 1,
                        video: 1
                    },
                    $removeEmpty: {
                        abbr: 1,
                        acronym: 1,
                        b: 1,
                        bdi: 1,
                        bdo: 1,
                        big: 1,
                        cite: 1,
                        code: 1,
                        del: 1,
                        dfn: 1,
                        em: 1,
                        font: 1,
                        i: 1,
                        ins: 1,
                        label: 1,
                        kbd: 1,
                        mark: 1,
                        meter: 1,
                        output: 1,
                        q: 1,
                        ruby: 1,
                        s: 1,
                        samp: 1,
                        small: 1,
                        span: 1,
                        strike: 1,
                        strong: 1,
                        sub: 1,
                        sup: 1,
                        time: 1,
                        tt: 1,
                        u: 1,
                        var: 1
                    },
                    $tabIndex: {
                        a: 1,
                        area: 1,
                        button: 1,
                        input: 1,
                        object: 1,
                        select: 1,
                        textarea: 1
                    },
                    $tableContent: {
                        caption: 1,
                        col: 1,
                        colgroup: 1,
                        tbody: 1,
                        td: 1,
                        tfoot: 1,
                        th: 1,
                        thead: 1,
                        tr: 1
                    },
                    $transparent: {
                        a: 1,
                        audio: 1,
                        canvas: 1,
                        del: 1,
                        ins: 1,
                        map: 1,
                        noscript: 1,
                        object: 1,
                        video: 1
                    },
                    $intermediate: {
                        caption: 1,
                        colgroup: 1,
                        dd: 1,
                        dt: 1,
                        figcaption: 1,
                        legend: 1,
                        li: 1,
                        optgroup: 1,
                        option: 1,
                        rp: 1,
                        rt: 1,
                        summary: 1,
                        tbody: 1,
                        td: 1,
                        tfoot: 1,
                        th: 1,
                        thead: 1,
                        tr: 1
                    }
                }), t;
            }(), CKEDITOR.dom.event = function(e) {
                this.$ = e;
            }, CKEDITOR.dom.event.prototype = {
                getKey: function() {
                    return this.$.keyCode || this.$.which;
                },
                getKeystroke: function() {
                    var e = this.getKey();
                    return (this.$.ctrlKey || this.$.metaKey) && (e += CKEDITOR.CTRL), this.$.shiftKey && (e += CKEDITOR.SHIFT), 
                    this.$.altKey && (e += CKEDITOR.ALT), e;
                },
                preventDefault: function(e) {
                    var t = this.$;
                    t.preventDefault ? t.preventDefault() : t.returnValue = !1, e && this.stopPropagation();
                },
                stopPropagation: function() {
                    var e = this.$;
                    e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0;
                },
                getTarget: function() {
                    var e = this.$.target || this.$.srcElement;
                    return e ? new CKEDITOR.dom.node(e) : null;
                },
                getPhase: function() {
                    return this.$.eventPhase || 2;
                },
                getPageOffset: function() {
                    var e = this.getTarget().getDocument().$;
                    return {
                        x: this.$.pageX || this.$.clientX + (e.documentElement.scrollLeft || e.body.scrollLeft),
                        y: this.$.pageY || this.$.clientY + (e.documentElement.scrollTop || e.body.scrollTop)
                    };
                }
            }, CKEDITOR.CTRL = 1114112, CKEDITOR.SHIFT = 2228224, CKEDITOR.ALT = 4456448, CKEDITOR.EVENT_PHASE_CAPTURING = 1, 
            CKEDITOR.EVENT_PHASE_AT_TARGET = 2, CKEDITOR.EVENT_PHASE_BUBBLING = 3, CKEDITOR.dom.domObject = function(e) {
                e && (this.$ = e);
            }, CKEDITOR.dom.domObject.prototype = function() {
                var e = function(e, t) {
                    return function(n) {
                        "undefined" != typeof CKEDITOR && e.fire(t, new CKEDITOR.dom.event(n));
                    };
                };
                return {
                    getPrivate: function() {
                        var e;
                        return (e = this.getCustomData("_")) || this.setCustomData("_", e = {}), e;
                    },
                    on: function(t) {
                        var n = this.getCustomData("_cke_nativeListeners");
                        return n || (n = {}, this.setCustomData("_cke_nativeListeners", n)), n[t] || (n = n[t] = e(this, t), 
                        this.$.addEventListener ? this.$.addEventListener(t, n, !!CKEDITOR.event.useCapture) : this.$.attachEvent && this.$.attachEvent("on" + t, n)), 
                        CKEDITOR.event.prototype.on.apply(this, arguments);
                    },
                    removeListener: function(e) {
                        if (CKEDITOR.event.prototype.removeListener.apply(this, arguments), !this.hasListeners(e)) {
                            var t = this.getCustomData("_cke_nativeListeners"), n = t && t[e];
                            n && (this.$.removeEventListener ? this.$.removeEventListener(e, n, !1) : this.$.detachEvent && this.$.detachEvent("on" + e, n), 
                            delete t[e]);
                        }
                    },
                    removeAllListeners: function() {
                        var e, t = this.getCustomData("_cke_nativeListeners");
                        for (e in t) {
                            var n = t[e];
                            this.$.detachEvent ? this.$.detachEvent("on" + e, n) : this.$.removeEventListener && this.$.removeEventListener(e, n, !1), 
                            delete t[e];
                        }
                        CKEDITOR.event.prototype.removeAllListeners.call(this);
                    }
                };
            }(), function(e) {
                var t = {};
                CKEDITOR.on("reset", function() {
                    t = {};
                }), e.equals = function(e) {
                    try {
                        return e && e.$ === this.$;
                    } catch (e) {
                        return !1;
                    }
                }, e.setCustomData = function(e, n) {
                    var i = this.getUniqueId();
                    return (t[i] || (t[i] = {}))[e] = n, this;
                }, e.getCustomData = function(e) {
                    var n = this.$["data-cke-expando"];
                    return (n = n && t[n]) && e in n ? n[e] : null;
                }, e.removeCustomData = function(e) {
                    var n, i, o = this.$["data-cke-expando"], o = o && t[o];
                    return o && (n = o[e], i = e in o, delete o[e]), i ? n : null;
                }, e.clearCustomData = function() {
                    this.removeAllListeners();
                    var e = this.$["data-cke-expando"];
                    e && delete t[e];
                }, e.getUniqueId = function() {
                    return this.$["data-cke-expando"] || (this.$["data-cke-expando"] = CKEDITOR.tools.getNextNumber());
                }, CKEDITOR.event.implementOn(e);
            }(CKEDITOR.dom.domObject.prototype), CKEDITOR.dom.node = function(e) {
                return e ? new CKEDITOR.dom[e.nodeType == CKEDITOR.NODE_DOCUMENT ? "document" : e.nodeType == CKEDITOR.NODE_ELEMENT ? "element" : e.nodeType == CKEDITOR.NODE_TEXT ? "text" : e.nodeType == CKEDITOR.NODE_COMMENT ? "comment" : e.nodeType == CKEDITOR.NODE_DOCUMENT_FRAGMENT ? "documentFragment" : "domObject"](e) : this;
            }, CKEDITOR.dom.node.prototype = new CKEDITOR.dom.domObject(), CKEDITOR.NODE_ELEMENT = 1, 
            CKEDITOR.NODE_DOCUMENT = 9, CKEDITOR.NODE_TEXT = 3, CKEDITOR.NODE_COMMENT = 8, CKEDITOR.NODE_DOCUMENT_FRAGMENT = 11, 
            CKEDITOR.POSITION_IDENTICAL = 0, CKEDITOR.POSITION_DISCONNECTED = 1, CKEDITOR.POSITION_FOLLOWING = 2, 
            CKEDITOR.POSITION_PRECEDING = 4, CKEDITOR.POSITION_IS_CONTAINED = 8, CKEDITOR.POSITION_CONTAINS = 16, 
            CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype, {
                appendTo: function(e, t) {
                    return e.append(this, t), e;
                },
                clone: function(e, t) {
                    function b(n) {
                        if (n["data-cke-expando"] && (n["data-cke-expando"] = !1), (n.nodeType == CKEDITOR.NODE_ELEMENT || n.nodeType == CKEDITOR.NODE_DOCUMENT_FRAGMENT) && (t || n.nodeType != CKEDITOR.NODE_ELEMENT || n.removeAttribute("id", !1), 
                        e)) {
                            n = n.childNodes;
                            for (var i = 0; i < n.length; i++) b(n[i]);
                        }
                    }
                    function c(t) {
                        if (t.type == CKEDITOR.NODE_ELEMENT || t.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
                            if (t.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
                                var n = t.getName();
                                ":" == n[0] && t.renameNode(n.substring(1));
                            }
                            if (e) for (n = 0; n < t.getChildCount(); n++) c(t.getChild(n));
                        }
                    }
                    var n = this.$.cloneNode(e);
                    return b(n), n = new CKEDITOR.dom.node(n), CKEDITOR.env.ie && 9 > CKEDITOR.env.version && (this.type == CKEDITOR.NODE_ELEMENT || this.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT) && c(n), 
                    n;
                },
                hasPrevious: function() {
                    return !!this.$.previousSibling;
                },
                hasNext: function() {
                    return !!this.$.nextSibling;
                },
                insertAfter: function(e) {
                    return e.$.parentNode.insertBefore(this.$, e.$.nextSibling), e;
                },
                insertBefore: function(e) {
                    return e.$.parentNode.insertBefore(this.$, e.$), e;
                },
                insertBeforeMe: function(e) {
                    return this.$.parentNode.insertBefore(e.$, this.$), e;
                },
                getAddress: function(e) {
                    for (var t = [], n = this.getDocument().$.documentElement, i = this.$; i && i != n; ) {
                        var o = i.parentNode;
                        o && t.unshift(this.getIndex.call({
                            $: i
                        }, e)), i = o;
                    }
                    return t;
                },
                getDocument: function() {
                    return new CKEDITOR.dom.document(this.$.ownerDocument || this.$.parentNode.ownerDocument);
                },
                getIndex: function(e) {
                    function f(e, t) {
                        var n = t ? e.nextSibling : e.previousSibling;
                        return n && n.nodeType == CKEDITOR.NODE_TEXT ? b(n) ? f(n, t) : n : null;
                    }
                    function b(e) {
                        return !e.nodeValue || e.nodeValue == CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE;
                    }
                    var t, n = this.$, i = -1;
                    if (!this.$.parentNode || e && n.nodeType == CKEDITOR.NODE_TEXT && b(n) && !f(n) && !f(n, !0)) return -1;
                    do {
                        e && n != this.$ && n.nodeType == CKEDITOR.NODE_TEXT && (t || b(n)) || (i++, t = n.nodeType == CKEDITOR.NODE_TEXT);
                    } while (n = n.previousSibling);
                    return i;
                },
                getNextSourceNode: function(e, t, n) {
                    if (n && !n.call) {
                        var i = n;
                        n = function(e) {
                            return !e.equals(i);
                        };
                    }
                    e = !e && this.getFirst && this.getFirst();
                    var o;
                    if (!e) {
                        if (this.type == CKEDITOR.NODE_ELEMENT && n && !1 === n(this, !0)) return null;
                        e = this.getNext();
                    }
                    for (;!e && (o = (o || this).getParent()); ) {
                        if (n && !1 === n(o, !0)) return null;
                        e = o.getNext();
                    }
                    return !e || n && !1 === n(e) ? null : t && t != e.type ? e.getNextSourceNode(!1, t, n) : e;
                },
                getPreviousSourceNode: function(e, t, n) {
                    if (n && !n.call) {
                        var i = n;
                        n = function(e) {
                            return !e.equals(i);
                        };
                    }
                    e = !e && this.getLast && this.getLast();
                    var o;
                    if (!e) {
                        if (this.type == CKEDITOR.NODE_ELEMENT && n && !1 === n(this, !0)) return null;
                        e = this.getPrevious();
                    }
                    for (;!e && (o = (o || this).getParent()); ) {
                        if (n && !1 === n(o, !0)) return null;
                        e = o.getPrevious();
                    }
                    return !e || n && !1 === n(e) ? null : t && e.type != t ? e.getPreviousSourceNode(!1, t, n) : e;
                },
                getPrevious: function(e) {
                    var t, n = this.$;
                    do {
                        t = (n = n.previousSibling) && 10 != n.nodeType && new CKEDITOR.dom.node(n);
                    } while (t && e && !e(t));
                    return t;
                },
                getNext: function(e) {
                    var t, n = this.$;
                    do {
                        t = (n = n.nextSibling) && new CKEDITOR.dom.node(n);
                    } while (t && e && !e(t));
                    return t;
                },
                getParent: function(e) {
                    var t = this.$.parentNode;
                    return t && (t.nodeType == CKEDITOR.NODE_ELEMENT || e && t.nodeType == CKEDITOR.NODE_DOCUMENT_FRAGMENT) ? new CKEDITOR.dom.node(t) : null;
                },
                getParents: function(e) {
                    var t = this, n = [];
                    do {
                        n[e ? "push" : "unshift"](t);
                    } while (t = t.getParent());
                    return n;
                },
                getCommonAncestor: function(e) {
                    if (e.equals(this)) return this;
                    if (e.contains && e.contains(this)) return e;
                    var t = this.contains ? this : this.getParent();
                    do {
                        if (t.contains(e)) return t;
                    } while (t = t.getParent());
                    return null;
                },
                getPosition: function(e) {
                    var t = this.$, n = e.$;
                    if (t.compareDocumentPosition) return t.compareDocumentPosition(n);
                    if (t == n) return CKEDITOR.POSITION_IDENTICAL;
                    if (this.type == CKEDITOR.NODE_ELEMENT && e.type == CKEDITOR.NODE_ELEMENT) {
                        if (t.contains) {
                            if (t.contains(n)) return CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_PRECEDING;
                            if (n.contains(t)) return CKEDITOR.POSITION_IS_CONTAINED + CKEDITOR.POSITION_FOLLOWING;
                        }
                        if ("sourceIndex" in t) return 0 > t.sourceIndex || 0 > n.sourceIndex ? CKEDITOR.POSITION_DISCONNECTED : t.sourceIndex < n.sourceIndex ? CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_FOLLOWING;
                    }
                    t = this.getAddress(), e = e.getAddress();
                    for (var n = Math.min(t.length, e.length), i = 0; i < n; i++) if (t[i] != e[i]) return t[i] < e[i] ? CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_FOLLOWING;
                    return t.length < e.length ? CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_IS_CONTAINED + CKEDITOR.POSITION_FOLLOWING;
                },
                getAscendant: function(e, t) {
                    var n, i, o = this.$;
                    t || (o = o.parentNode), "function" == typeof e ? (i = !0, n = e) : (i = !1, n = function(t) {
                        return t = "string" == typeof t.nodeName ? t.nodeName.toLowerCase() : "", "string" == typeof e ? t == e : t in e;
                    });
                    for (;o; ) {
                        if (n(i ? new CKEDITOR.dom.node(o) : o)) return new CKEDITOR.dom.node(o);
                        try {
                            o = o.parentNode;
                        } catch (e) {
                            o = null;
                        }
                    }
                    return null;
                },
                hasAscendant: function(e, t) {
                    var n = this.$;
                    for (t || (n = n.parentNode); n; ) {
                        if (n.nodeName && n.nodeName.toLowerCase() == e) return !0;
                        n = n.parentNode;
                    }
                    return !1;
                },
                move: function(e, t) {
                    e.append(this.remove(), t);
                },
                remove: function(e) {
                    var t = this.$, n = t.parentNode;
                    if (n) {
                        if (e) for (;e = t.firstChild; ) n.insertBefore(t.removeChild(e), t);
                        n.removeChild(t);
                    }
                    return this;
                },
                replace: function(e) {
                    this.insertBefore(e), e.remove();
                },
                trim: function() {
                    this.ltrim(), this.rtrim();
                },
                ltrim: function() {
                    for (var e; this.getFirst && (e = this.getFirst()); ) {
                        if (e.type == CKEDITOR.NODE_TEXT) {
                            var t = CKEDITOR.tools.ltrim(e.getText()), n = e.getLength();
                            if (!t) {
                                e.remove();
                                continue;
                            }
                            t.length < n && (e.split(n - t.length), this.$.removeChild(this.$.firstChild));
                        }
                        break;
                    }
                },
                rtrim: function() {
                    for (var e; this.getLast && (e = this.getLast()); ) {
                        if (e.type == CKEDITOR.NODE_TEXT) {
                            var t = CKEDITOR.tools.rtrim(e.getText()), n = e.getLength();
                            if (!t) {
                                e.remove();
                                continue;
                            }
                            t.length < n && (e.split(t.length), this.$.lastChild.parentNode.removeChild(this.$.lastChild));
                        }
                        break;
                    }
                    CKEDITOR.env.needsBrFiller && (e = this.$.lastChild) && 1 == e.type && "br" == e.nodeName.toLowerCase() && e.parentNode.removeChild(e);
                },
                isReadOnly: function(e) {
                    var t = this;
                    if (this.type != CKEDITOR.NODE_ELEMENT && (t = this.getParent()), CKEDITOR.env.edge && t && t.is("textarea", "input") && (e = !0), 
                    !e && t && void 0 !== t.$.isContentEditable) return !(t.$.isContentEditable || t.data("cke-editable"));
                    for (;t; ) {
                        if (t.data("cke-editable")) return !1;
                        if (t.hasAttribute("contenteditable")) return "false" == t.getAttribute("contenteditable");
                        t = t.getParent();
                    }
                    return !0;
                }
            }), CKEDITOR.dom.window = function(e) {
                CKEDITOR.dom.domObject.call(this, e);
            }, CKEDITOR.dom.window.prototype = new CKEDITOR.dom.domObject(), CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype, {
                focus: function() {
                    this.$.focus();
                },
                getViewPaneSize: function() {
                    var e = this.$.document, t = "CSS1Compat" == e.compatMode;
                    return {
                        width: (t ? e.documentElement.clientWidth : e.body.clientWidth) || 0,
                        height: (t ? e.documentElement.clientHeight : e.body.clientHeight) || 0
                    };
                },
                getScrollPosition: function() {
                    var e = this.$;
                    return "pageXOffset" in e ? {
                        x: e.pageXOffset || 0,
                        y: e.pageYOffset || 0
                    } : (e = e.document, {
                        x: e.documentElement.scrollLeft || e.body.scrollLeft || 0,
                        y: e.documentElement.scrollTop || e.body.scrollTop || 0
                    });
                },
                getFrame: function() {
                    var e = this.$.frameElement;
                    return e ? new CKEDITOR.dom.element.get(e) : null;
                }
            }), CKEDITOR.dom.document = function(e) {
                CKEDITOR.dom.domObject.call(this, e);
            }, CKEDITOR.dom.document.prototype = new CKEDITOR.dom.domObject(), CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype, {
                type: CKEDITOR.NODE_DOCUMENT,
                appendStyleSheet: function(e) {
                    if (this.$.createStyleSheet) this.$.createStyleSheet(e); else {
                        var t = new CKEDITOR.dom.element("link");
                        t.setAttributes({
                            rel: "stylesheet",
                            type: "text/css",
                            href: e
                        }), this.getHead().append(t);
                    }
                },
                appendStyleText: function(e) {
                    if (this.$.createStyleSheet) {
                        var t = this.$.createStyleSheet("");
                        t.cssText = e;
                    } else {
                        var n = new CKEDITOR.dom.element("style", this);
                        n.append(new CKEDITOR.dom.text(e, this)), this.getHead().append(n);
                    }
                    return t || n.$.sheet;
                },
                createElement: function(e, t) {
                    var n = new CKEDITOR.dom.element(e, this);
                    return t && (t.attributes && n.setAttributes(t.attributes), t.styles && n.setStyles(t.styles)), 
                    n;
                },
                createText: function(e) {
                    return new CKEDITOR.dom.text(e, this);
                },
                focus: function() {
                    this.getWindow().focus();
                },
                getActive: function() {
                    var e;
                    try {
                        e = this.$.activeElement;
                    } catch (e) {
                        return null;
                    }
                    return new CKEDITOR.dom.element(e);
                },
                getById: function(e) {
                    return (e = this.$.getElementById(e)) ? new CKEDITOR.dom.element(e) : null;
                },
                getByAddress: function(e, t) {
                    for (var n = this.$.documentElement, i = 0; n && i < e.length; i++) {
                        var o = e[i];
                        if (t) for (var a = -1, r = 0; r < n.childNodes.length; r++) {
                            var s = n.childNodes[r];
                            if ((!0 !== t || 3 != s.nodeType || !s.previousSibling || 3 != s.previousSibling.nodeType) && ++a == o) {
                                n = s;
                                break;
                            }
                        } else n = n.childNodes[o];
                    }
                    return n ? new CKEDITOR.dom.node(n) : null;
                },
                getElementsByTag: function(e, t) {
                    return CKEDITOR.env.ie && 8 >= document.documentMode || !t || (e = t + ":" + e), 
                    new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(e));
                },
                getHead: function() {
                    var e = this.$.getElementsByTagName("head")[0];
                    return e = e ? new CKEDITOR.dom.element(e) : this.getDocumentElement().append(new CKEDITOR.dom.element("head"), !0);
                },
                getBody: function() {
                    return new CKEDITOR.dom.element(this.$.body);
                },
                getDocumentElement: function() {
                    return new CKEDITOR.dom.element(this.$.documentElement);
                },
                getWindow: function() {
                    return new CKEDITOR.dom.window(this.$.parentWindow || this.$.defaultView);
                },
                write: function(e) {
                    this.$.open("text/html", "replace"), CKEDITOR.env.ie && (e = e.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i, '$&\n<script data-cke-temp="1">(' + CKEDITOR.tools.fixDomain + ")();<\/script>")), 
                    this.$.write(e), this.$.close();
                },
                find: function(e) {
                    return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e));
                },
                findOne: function(e) {
                    return (e = this.$.querySelector(e)) ? new CKEDITOR.dom.element(e) : null;
                },
                _getHtml5ShivFrag: function() {
                    var e = this.getCustomData("html5ShivFrag");
                    return e || (e = this.$.createDocumentFragment(), CKEDITOR.tools.enableHtml5Elements(e, !0), 
                    this.setCustomData("html5ShivFrag", e)), e;
                }
            }), CKEDITOR.dom.nodeList = function(e) {
                this.$ = e;
            }, CKEDITOR.dom.nodeList.prototype = {
                count: function() {
                    return this.$.length;
                },
                getItem: function(e) {
                    return 0 > e || e >= this.$.length ? null : (e = this.$[e]) ? new CKEDITOR.dom.node(e) : null;
                },
                toArray: function() {
                    return CKEDITOR.tools.array.map(this.$, function(e) {
                        return new CKEDITOR.dom.node(e);
                    });
                }
            }, CKEDITOR.dom.element = function(e, t) {
                "string" == typeof e && (e = (t ? t.$ : document).createElement(e)), CKEDITOR.dom.domObject.call(this, e);
            }, CKEDITOR.dom.element.get = function(e) {
                return (e = "string" == typeof e ? document.getElementById(e) || document.getElementsByName(e)[0] : e) && (e.$ ? e : new CKEDITOR.dom.element(e));
            }, CKEDITOR.dom.element.prototype = new CKEDITOR.dom.node(), CKEDITOR.dom.element.createFromHtml = function(e, t) {
                var n = new CKEDITOR.dom.element("div", t);
                return n.setHtml(e), n.getFirst().remove();
            }, CKEDITOR.dom.element.setMarker = function(e, t, n, i) {
                var o = t.getCustomData("list_marker_id") || t.setCustomData("list_marker_id", CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"), a = t.getCustomData("list_marker_names") || t.setCustomData("list_marker_names", {}).getCustomData("list_marker_names");
                return e[o] = t, a[n] = 1, t.setCustomData(n, i);
            }, CKEDITOR.dom.element.clearAllMarkers = function(e) {
                for (var t in e) CKEDITOR.dom.element.clearMarkers(e, e[t], 1);
            }, CKEDITOR.dom.element.clearMarkers = function(e, t, n) {
                var i, o = t.getCustomData("list_marker_names"), a = t.getCustomData("list_marker_id");
                for (i in o) t.removeCustomData(i);
                t.removeCustomData("list_marker_names"), n && (t.removeCustomData("list_marker_id"), 
                delete e[a]);
            }, function() {
                function a(e, n) {
                    return -1 < (" " + e + " ").replace(t, " ").indexOf(" " + n + " ");
                }
                function f(e) {
                    var t = !0;
                    return e.$.id || (e.$.id = "cke_tmp_" + CKEDITOR.tools.getNextNumber(), t = !1), 
                    function() {
                        t || e.removeAttribute("id");
                    };
                }
                function b(e, t) {
                    var n = CKEDITOR.tools.escapeCss(e.$.id);
                    return "#" + n + " " + t.split(/,\s*/).join(", #" + n + " ");
                }
                function c(e) {
                    for (var t = 0, i = 0, o = n[e].length; i < o; i++) t += parseFloat(this.getComputedStyle(n[e][i]) || 0, 10) || 0;
                    return t;
                }
                var e = document.createElement("_").classList, e = void 0 !== e && null !== String(e.add).match(/\[Native code\]/gi), t = /[\n\t\r]/g;
                CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype, {
                    type: CKEDITOR.NODE_ELEMENT,
                    addClass: e ? function(e) {
                        return this.$.classList.add(e), this;
                    } : function(e) {
                        var t = this.$.className;
                        return t && (a(t, e) || (t += " " + e)), this.$.className = t || e, this;
                    },
                    removeClass: e ? function(e) {
                        var t = this.$;
                        return t.classList.remove(e), t.className || t.removeAttribute("class"), this;
                    } : function(e) {
                        var t = this.getAttribute("class");
                        return t && a(t, e) && ((t = t.replace(new RegExp("(?:^|\\s+)" + e + "(?=\\s|$)"), "").replace(/^\s+/, "")) ? this.setAttribute("class", t) : this.removeAttribute("class")), 
                        this;
                    },
                    hasClass: function(e) {
                        return a(this.$.className, e);
                    },
                    append: function(e, t) {
                        return "string" == typeof e && (e = this.getDocument().createElement(e)), t ? this.$.insertBefore(e.$, this.$.firstChild) : this.$.appendChild(e.$), 
                        e;
                    },
                    appendHtml: function(e) {
                        if (this.$.childNodes.length) {
                            var t = new CKEDITOR.dom.element("div", this.getDocument());
                            t.setHtml(e), t.moveChildren(this);
                        } else this.setHtml(e);
                    },
                    appendText: function(e) {
                        null != this.$.text && CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? this.$.text += e : this.append(new CKEDITOR.dom.text(e));
                    },
                    appendBogus: function(e) {
                        if (e || CKEDITOR.env.needsBrFiller) {
                            for (e = this.getLast(); e && e.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.rtrim(e.getText()); ) e = e.getPrevious();
                            e && e.is && e.is("br") || (e = this.getDocument().createElement("br"), CKEDITOR.env.gecko && e.setAttribute("type", "_moz"), 
                            this.append(e));
                        }
                    },
                    breakParent: function(e, t) {
                        var n = new CKEDITOR.dom.range(this.getDocument());
                        n.setStartAfter(this), n.setEndAfter(e);
                        var i, o = n.extractContents(!1, t || !1);
                        if (n.insertNode(this.remove()), CKEDITOR.env.ie && !CKEDITOR.env.edge) {
                            for (n = new CKEDITOR.dom.element("div"); i = o.getFirst(); ) i.$.style.backgroundColor && (i.$.style.backgroundColor = i.$.style.backgroundColor), 
                            n.append(i);
                            n.insertAfter(this), n.remove(!0);
                        } else o.insertAfterNode(this);
                    },
                    contains: document.compareDocumentPosition ? function(e) {
                        return !!(16 & this.$.compareDocumentPosition(e.$));
                    } : function(e) {
                        var t = this.$;
                        return e.type != CKEDITOR.NODE_ELEMENT ? t.contains(e.getParent().$) : t != e.$ && t.contains(e.$);
                    },
                    focus: function() {
                        function a() {
                            try {
                                this.$.focus();
                            } catch (e) {}
                        }
                        return function(e) {
                            e ? CKEDITOR.tools.setTimeout(a, 100, this) : a.call(this);
                        };
                    }(),
                    getHtml: function() {
                        var e = this.$.innerHTML;
                        return CKEDITOR.env.ie ? e.replace(/<\?[^>]*>/g, "") : e;
                    },
                    getOuterHtml: function() {
                        if (this.$.outerHTML) return this.$.outerHTML.replace(/<\?[^>]*>/, "");
                        var e = this.$.ownerDocument.createElement("div");
                        return e.appendChild(this.$.cloneNode(!0)), e.innerHTML;
                    },
                    getClientRect: function() {
                        var e = CKEDITOR.tools.extend({}, this.$.getBoundingClientRect());
                        return !e.width && (e.width = e.right - e.left), !e.height && (e.height = e.bottom - e.top), 
                        e;
                    },
                    setHtml: CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? function(e) {
                        try {
                            var t = this.$;
                            if (this.getParent()) return t.innerHTML = e;
                            var n = this.getDocument()._getHtml5ShivFrag();
                            return n.appendChild(t), t.innerHTML = e, n.removeChild(t), e;
                        } catch (n) {
                            for (this.$.innerHTML = "", t = new CKEDITOR.dom.element("body", this.getDocument()), 
                            t.$.innerHTML = e, t = t.getChildren(); t.count(); ) this.append(t.getItem(0));
                            return e;
                        }
                    } : function(e) {
                        return this.$.innerHTML = e;
                    },
                    setText: function() {
                        var e = document.createElement("p");
                        return e.innerHTML = "x", e = e.textContent, function(t) {
                            this.$[e ? "textContent" : "innerText"] = t;
                        };
                    }(),
                    getAttribute: function() {
                        var e = function(e) {
                            return this.$.getAttribute(e, 2);
                        };
                        return CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function(e) {
                            switch (e) {
                              case "class":
                                e = "className";
                                break;

                              case "http-equiv":
                                e = "httpEquiv";
                                break;

                              case "name":
                                return this.$.name;

                              case "tabindex":
                                return e = this.$.getAttribute(e, 2), 0 !== e && 0 === this.$.tabIndex && (e = null), 
                                e;

                              case "checked":
                                return e = this.$.attributes.getNamedItem(e), (e.specified ? e.nodeValue : this.$.checked) ? "checked" : null;

                              case "hspace":
                              case "value":
                                return this.$[e];

                              case "style":
                                return this.$.style.cssText;

                              case "contenteditable":
                              case "contentEditable":
                                return this.$.attributes.getNamedItem("contentEditable").specified ? this.$.getAttribute("contentEditable") : null;
                            }
                            return this.$.getAttribute(e, 2);
                        } : e;
                    }(),
                    getAttributes: function(e) {
                        var t, n = {}, i = this.$.attributes;
                        for (e = CKEDITOR.tools.isArray(e) ? e : [], t = 0; t < i.length; t++) -1 === CKEDITOR.tools.indexOf(e, i[t].name) && (n[i[t].name] = i[t].value);
                        return n;
                    },
                    getChildren: function() {
                        return new CKEDITOR.dom.nodeList(this.$.childNodes);
                    },
                    getComputedStyle: document.defaultView && document.defaultView.getComputedStyle ? function(e) {
                        var t = this.getWindow().$.getComputedStyle(this.$, null);
                        return t ? t.getPropertyValue(e) : "";
                    } : function(e) {
                        return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(e)];
                    },
                    getDtd: function() {
                        var e = CKEDITOR.dtd[this.getName()];
                        return this.getDtd = function() {
                            return e;
                        }, e;
                    },
                    getElementsByTag: CKEDITOR.dom.document.prototype.getElementsByTag,
                    getTabIndex: function() {
                        var e = this.$.tabIndex;
                        return 0 !== e || CKEDITOR.dtd.$tabIndex[this.getName()] || 0 === parseInt(this.getAttribute("tabindex"), 10) ? e : -1;
                    },
                    getText: function() {
                        return this.$.textContent || this.$.innerText || "";
                    },
                    getWindow: function() {
                        return this.getDocument().getWindow();
                    },
                    getId: function() {
                        return this.$.id || null;
                    },
                    getNameAtt: function() {
                        return this.$.name || null;
                    },
                    getName: function() {
                        var e = this.$.nodeName.toLowerCase();
                        if (CKEDITOR.env.ie && 8 >= document.documentMode) {
                            var t = this.$.scopeName;
                            "HTML" != t && (e = t.toLowerCase() + ":" + e);
                        }
                        return this.getName = function() {
                            return e;
                        }, this.getName();
                    },
                    getValue: function() {
                        return this.$.value;
                    },
                    getFirst: function(e) {
                        var t = this.$.firstChild;
                        return (t = t && new CKEDITOR.dom.node(t)) && e && !e(t) && (t = t.getNext(e)), 
                        t;
                    },
                    getLast: function(e) {
                        var t = this.$.lastChild;
                        return (t = t && new CKEDITOR.dom.node(t)) && e && !e(t) && (t = t.getPrevious(e)), 
                        t;
                    },
                    getStyle: function(e) {
                        return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)];
                    },
                    is: function() {
                        var e = this.getName();
                        if ("object" == typeof arguments[0]) return !!arguments[0][e];
                        for (var t = 0; t < arguments.length; t++) if (arguments[t] == e) return !0;
                        return !1;
                    },
                    isEditable: function(e) {
                        var t = this.getName();
                        return !(this.isReadOnly() || "none" == this.getComputedStyle("display") || "hidden" == this.getComputedStyle("visibility") || CKEDITOR.dtd.$nonEditable[t] || CKEDITOR.dtd.$empty[t] || this.is("a") && (this.data("cke-saved-name") || this.hasAttribute("name")) && !this.getChildCount()) && (!1 === e || !(!(e = CKEDITOR.dtd[t] || CKEDITOR.dtd.span) || !e["#"]));
                    },
                    isIdentical: function(e) {
                        var t = this.clone(0, 1);
                        if (e = e.clone(0, 1), t.removeAttributes([ "_moz_dirty", "data-cke-expando", "data-cke-saved-href", "data-cke-saved-name" ]), 
                        e.removeAttributes([ "_moz_dirty", "data-cke-expando", "data-cke-saved-href", "data-cke-saved-name" ]), 
                        t.$.isEqualNode) return t.$.style.cssText = CKEDITOR.tools.normalizeCssText(t.$.style.cssText), 
                        e.$.style.cssText = CKEDITOR.tools.normalizeCssText(e.$.style.cssText), t.$.isEqualNode(e.$);
                        if (t = t.getOuterHtml(), e = e.getOuterHtml(), CKEDITOR.env.ie && 9 > CKEDITOR.env.version && this.is("a")) {
                            var n = this.getParent();
                            n.type == CKEDITOR.NODE_ELEMENT && (n = n.clone(), n.setHtml(t), t = n.getHtml(), 
                            n.setHtml(e), e = n.getHtml());
                        }
                        return t == e;
                    },
                    isVisible: function() {
                        var e, t, n = (this.$.offsetHeight || this.$.offsetWidth) && "hidden" != this.getComputedStyle("visibility");
                        return n && CKEDITOR.env.webkit && (e = this.getWindow(), !e.equals(CKEDITOR.document.getWindow()) && (t = e.$.frameElement) && (n = new CKEDITOR.dom.element(t).isVisible())), 
                        !!n;
                    },
                    isEmptyInlineRemoveable: function() {
                        if (!CKEDITOR.dtd.$removeEmpty[this.getName()]) return !1;
                        for (var e = this.getChildren(), t = 0, n = e.count(); t < n; t++) {
                            var i = e.getItem(t);
                            if ((i.type != CKEDITOR.NODE_ELEMENT || !i.data("cke-bookmark")) && (i.type == CKEDITOR.NODE_ELEMENT && !i.isEmptyInlineRemoveable() || i.type == CKEDITOR.NODE_TEXT && CKEDITOR.tools.trim(i.getText()))) return !1;
                        }
                        return !0;
                    },
                    hasAttributes: CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function() {
                        for (var e = this.$.attributes, t = 0; t < e.length; t++) {
                            var n = e[t];
                            switch (n.nodeName) {
                              case "class":
                                if (this.getAttribute("class")) return !0;

                              case "data-cke-expando":
                                continue;

                              default:
                                if (n.specified) return !0;
                            }
                        }
                        return !1;
                    } : function() {
                        var e = this.$.attributes, t = e.length, n = {
                            "data-cke-expando": 1,
                            _moz_dirty: 1
                        };
                        return 0 < t && (2 < t || !n[e[0].nodeName] || 2 == t && !n[e[1].nodeName]);
                    },
                    hasAttribute: function() {
                        function a(e) {
                            var t = this.$.attributes.getNamedItem(e);
                            if ("input" == this.getName()) switch (e) {
                              case "class":
                                return 0 < this.$.className.length;

                              case "checked":
                                return !!this.$.checked;

                              case "value":
                                return e = this.getAttribute("type"), "checkbox" == e || "radio" == e ? "on" != this.$.value : !!this.$.value;
                            }
                            return !!t && t.specified;
                        }
                        return CKEDITOR.env.ie ? 8 > CKEDITOR.env.version ? function(e) {
                            return "name" == e ? !!this.$.name : a.call(this, e);
                        } : a : function(e) {
                            return !!this.$.attributes.getNamedItem(e);
                        };
                    }(),
                    hide: function() {
                        this.setStyle("display", "none");
                    },
                    moveChildren: function(e, t) {
                        var n = this.$;
                        if (e = e.$, n != e) {
                            var i;
                            if (t) for (;i = n.lastChild; ) e.insertBefore(n.removeChild(i), e.firstChild); else for (;i = n.firstChild; ) e.appendChild(n.removeChild(i));
                        }
                    },
                    mergeSiblings: function() {
                        function a(e, t, n) {
                            if (t && t.type == CKEDITOR.NODE_ELEMENT) {
                                for (var i = []; t.data("cke-bookmark") || t.isEmptyInlineRemoveable(); ) if (i.push(t), 
                                !(t = n ? t.getNext() : t.getPrevious()) || t.type != CKEDITOR.NODE_ELEMENT) return;
                                if (e.isIdentical(t)) {
                                    for (var o = n ? e.getLast() : e.getFirst(); i.length; ) i.shift().move(e, !n);
                                    t.moveChildren(e, !n), t.remove(), o && o.type == CKEDITOR.NODE_ELEMENT && o.mergeSiblings();
                                }
                            }
                        }
                        return function(e) {
                            (!1 === e || CKEDITOR.dtd.$removeEmpty[this.getName()] || this.is("a")) && (a(this, this.getNext(), !0), 
                            a(this, this.getPrevious()));
                        };
                    }(),
                    show: function() {
                        this.setStyles({
                            display: "",
                            visibility: ""
                        });
                    },
                    setAttribute: function() {
                        var e = function(e, t) {
                            return this.$.setAttribute(e, t), this;
                        };
                        return CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function(t, n) {
                            return "class" == t ? this.$.className = n : "style" == t ? this.$.style.cssText = n : "tabindex" == t ? this.$.tabIndex = n : "checked" == t ? this.$.checked = n : "contenteditable" == t ? e.call(this, "contentEditable", n) : e.apply(this, arguments), 
                            this;
                        } : CKEDITOR.env.ie8Compat && CKEDITOR.env.secure ? function(t, n) {
                            if ("src" == t && n.match(/^http:\/\//)) try {
                                e.apply(this, arguments);
                            } catch (e) {} else e.apply(this, arguments);
                            return this;
                        } : e;
                    }(),
                    setAttributes: function(e) {
                        for (var t in e) this.setAttribute(t, e[t]);
                        return this;
                    },
                    setValue: function(e) {
                        return this.$.value = e, this;
                    },
                    removeAttribute: function() {
                        var e = function(e) {
                            this.$.removeAttribute(e);
                        };
                        return CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function(e) {
                            "class" == e ? e = "className" : "tabindex" == e ? e = "tabIndex" : "contenteditable" == e && (e = "contentEditable"), 
                            this.$.removeAttribute(e);
                        } : e;
                    }(),
                    removeAttributes: function(e) {
                        if (CKEDITOR.tools.isArray(e)) for (var t = 0; t < e.length; t++) this.removeAttribute(e[t]); else for (t in e = e || this.getAttributes()) e.hasOwnProperty(t) && this.removeAttribute(t);
                    },
                    removeStyle: function(e) {
                        var t = this.$.style;
                        if (t.removeProperty || "border" != e && "margin" != e && "padding" != e) t.removeProperty ? t.removeProperty(e) : t.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(e)), 
                        this.$.style.cssText || this.removeAttribute("style"); else {
                            var n, i = [ "top", "left", "right", "bottom" ];
                            "border" == e && (n = [ "color", "style", "width" ]);
                            for (var t = [], o = 0; o < i.length; o++) if (n) for (var a = 0; a < n.length; a++) t.push([ e, i[o], n[a] ].join("-")); else t.push([ e, i[o] ].join("-"));
                            for (e = 0; e < t.length; e++) this.removeStyle(t[e]);
                        }
                    },
                    setStyle: function(e, t) {
                        return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)] = t, this;
                    },
                    setStyles: function(e) {
                        for (var t in e) this.setStyle(t, e[t]);
                        return this;
                    },
                    setOpacity: function(e) {
                        CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? (e = Math.round(100 * e), this.setStyle("filter", 100 <= e ? "" : "progid:DXImageTransform.Microsoft.Alpha(opacity=" + e + ")")) : this.setStyle("opacity", e);
                    },
                    unselectable: function() {
                        if (this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select", "none")), CKEDITOR.env.ie) {
                            this.setAttribute("unselectable", "on");
                            for (var e, t = this.getElementsByTag("*"), n = 0, i = t.count(); n < i; n++) e = t.getItem(n), 
                            e.setAttribute("unselectable", "on");
                        }
                    },
                    getPositionedAncestor: function() {
                        for (var e = this; "html" != e.getName(); ) {
                            if ("static" != e.getComputedStyle("position")) return e;
                            e = e.getParent();
                        }
                        return null;
                    },
                    getDocumentPosition: function(e) {
                        var t = 0, n = 0, i = this.getDocument(), o = i.getBody(), a = "BackCompat" == i.$.compatMode;
                        if (document.documentElement.getBoundingClientRect && (CKEDITOR.env.ie ? 8 !== CKEDITOR.env.version : 1)) {
                            var r = this.$.getBoundingClientRect(), s = i.$.documentElement, l = s.clientTop || o.$.clientTop || 0, c = s.clientLeft || o.$.clientLeft || 0, d = !0;
                            CKEDITOR.env.ie && (d = i.getDocumentElement().contains(this), i = i.getBody().contains(this), 
                            d = a && i || !a && d), d && (CKEDITOR.env.webkit || CKEDITOR.env.ie && 12 <= CKEDITOR.env.version ? (t = o.$.scrollLeft || s.scrollLeft, 
                            n = o.$.scrollTop || s.scrollTop) : (n = a ? o.$ : s, t = n.scrollLeft, n = n.scrollTop), 
                            t = r.left + t - c, n = r.top + n - l);
                        } else for (l = this, c = null; l && "body" != l.getName() && "html" != l.getName(); ) {
                            for (t += l.$.offsetLeft - l.$.scrollLeft, n += l.$.offsetTop - l.$.scrollTop, l.equals(this) || (t += l.$.clientLeft || 0, 
                            n += l.$.clientTop || 0); c && !c.equals(l); ) t -= c.$.scrollLeft, n -= c.$.scrollTop, 
                            c = c.getParent();
                            c = l, l = (r = l.$.offsetParent) ? new CKEDITOR.dom.element(r) : null;
                        }
                        return e && (r = this.getWindow(), l = e.getWindow(), !r.equals(l) && r.$.frameElement && (e = new CKEDITOR.dom.element(r.$.frameElement).getDocumentPosition(e), 
                        t += e.x, n += e.y)), document.documentElement.getBoundingClientRect || !CKEDITOR.env.gecko || a || (t += this.$.clientLeft ? 1 : 0, 
                        n += this.$.clientTop ? 1 : 0), {
                            x: t,
                            y: n
                        };
                    },
                    scrollIntoView: function(e) {
                        var t = this.getParent();
                        if (t) do {
                            if ((t.$.clientWidth && t.$.clientWidth < t.$.scrollWidth || t.$.clientHeight && t.$.clientHeight < t.$.scrollHeight) && !t.is("body") && this.scrollIntoParent(t, e, 1), 
                            t.is("html")) {
                                var n = t.getWindow();
                                try {
                                    var i = n.$.frameElement;
                                    i && (t = new CKEDITOR.dom.element(i));
                                } catch (e) {}
                            }
                        } while (t = t.getParent());
                    },
                    scrollIntoParent: function(e, t, n) {
                        function k(t, n) {
                            /body|html/.test(e.getName()) ? e.getWindow().$.scrollBy(t, n) : (e.$.scrollLeft += t, 
                            e.$.scrollTop += n);
                        }
                        function w(e, t) {
                            var n = {
                                x: 0,
                                y: 0
                            };
                            if (!e.is(s ? "body" : "html")) {
                                var i = e.$.getBoundingClientRect();
                                n.x = i.left, n.y = i.top;
                            }
                            return i = e.getWindow(), i.equals(t) || (i = w(CKEDITOR.dom.element.get(i.$.frameElement), t), 
                            n.x += i.x, n.y += i.y), n;
                        }
                        function p(e, t) {
                            return parseInt(e.getComputedStyle("margin-" + t) || 0, 10) || 0;
                        }
                        var i, o, a, r;
                        !e && (e = this.getWindow()), a = e.getDocument();
                        var s = "BackCompat" == a.$.compatMode;
                        e instanceof CKEDITOR.dom.window && (e = s ? a.getBody() : a.getDocumentElement()), 
                        CKEDITOR.env.webkit && (a = this.getEditor(!1)) && (a._.previousScrollTop = null), 
                        a = e.getWindow(), o = w(this, a);
                        var l = w(e, a), c = this.$.offsetHeight;
                        i = this.$.offsetWidth;
                        var d = e.$.clientHeight, u = e.$.clientWidth;
                        a = o.x - p(this, "left") - l.x || 0, r = o.y - p(this, "top") - l.y || 0, i = o.x + i + p(this, "right") - (l.x + u) || 0, 
                        o = o.y + c + p(this, "bottom") - (l.y + d) || 0, (0 > r || 0 < o) && k(0, !0 === t ? r : !1 === t ? o : 0 > r ? r : o), 
                        n && (0 > a || 0 < i) && k(0 > a ? a : i, 0);
                    },
                    setState: function(e, t, n) {
                        switch (t = t || "cke", e) {
                          case CKEDITOR.TRISTATE_ON:
                            this.addClass(t + "_on"), this.removeClass(t + "_off"), this.removeClass(t + "_disabled"), 
                            n && this.setAttribute("aria-pressed", !0), n && this.removeAttribute("aria-disabled");
                            break;

                          case CKEDITOR.TRISTATE_DISABLED:
                            this.addClass(t + "_disabled"), this.removeClass(t + "_off"), this.removeClass(t + "_on"), 
                            n && this.setAttribute("aria-disabled", !0), n && this.removeAttribute("aria-pressed");
                            break;

                          default:
                            this.addClass(t + "_off"), this.removeClass(t + "_on"), this.removeClass(t + "_disabled"), 
                            n && this.removeAttribute("aria-pressed"), n && this.removeAttribute("aria-disabled");
                        }
                    },
                    getFrameDocument: function() {
                        var e = this.$;
                        try {
                            e.contentWindow.document;
                        } catch (t) {
                            e.src = e.src;
                        }
                        return e && new CKEDITOR.dom.document(e.contentWindow.document);
                    },
                    copyAttributes: function(e, t) {
                        var n = this.$.attributes;
                        t = t || {};
                        for (var i = 0; i < n.length; i++) {
                            var o, a = n[i], r = a.nodeName.toLowerCase();
                            r in t || ("checked" == r && (o = this.getAttribute(r)) ? e.setAttribute(r, o) : CKEDITOR.env.ie && !this.hasAttribute(r) || (o = this.getAttribute(r), 
                            null === o && (o = a.nodeValue), e.setAttribute(r, o)));
                        }
                        "" !== this.$.style.cssText && (e.$.style.cssText = this.$.style.cssText);
                    },
                    renameNode: function(e) {
                        if (this.getName() != e) {
                            var t = this.getDocument();
                            e = new CKEDITOR.dom.element(e, t), this.copyAttributes(e), this.moveChildren(e), 
                            this.getParent(!0) && this.$.parentNode.replaceChild(e.$, this.$), e.$["data-cke-expando"] = this.$["data-cke-expando"], 
                            this.$ = e.$, delete this.getName;
                        }
                    },
                    getChild: function() {
                        function a(e, t) {
                            var n = e.childNodes;
                            if (0 <= t && t < n.length) return n[t];
                        }
                        return function(e) {
                            var t = this.$;
                            if (e.slice) for (e = e.slice(); 0 < e.length && t; ) t = a(t, e.shift()); else t = a(t, e);
                            return t ? new CKEDITOR.dom.node(t) : null;
                        };
                    }(),
                    getChildCount: function() {
                        return this.$.childNodes.length;
                    },
                    disableContextMenu: function() {
                        function a(e) {
                            return e.type == CKEDITOR.NODE_ELEMENT && e.hasClass("cke_enable_context_menu");
                        }
                        this.on("contextmenu", function(e) {
                            e.data.getTarget().getAscendant(a, !0) || e.data.preventDefault();
                        });
                    },
                    getDirection: function(e) {
                        return e ? this.getComputedStyle("direction") || this.getDirection() || this.getParent() && this.getParent().getDirection(1) || this.getDocument().$.dir || "ltr" : this.getStyle("direction") || this.getAttribute("dir");
                    },
                    data: function(e, t) {
                        return e = "data-" + e, void 0 === t ? this.getAttribute(e) : (!1 === t ? this.removeAttribute(e) : this.setAttribute(e, t), 
                        null);
                    },
                    getEditor: function(e) {
                        var t, n, i, o = CKEDITOR.instances;
                        e = e || void 0 === e;
                        for (t in o) if (n = o[t], n.element.equals(this) && n.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO || !e && (i = n.editable()) && (i.equals(this) || i.contains(this))) return n;
                        return null;
                    },
                    find: function(e) {
                        var t = f(this);
                        return e = new CKEDITOR.dom.nodeList(this.$.querySelectorAll(b(this, e))), t(), 
                        e;
                    },
                    findOne: function(e) {
                        var t = f(this);
                        return e = this.$.querySelector(b(this, e)), t(), e ? new CKEDITOR.dom.element(e) : null;
                    },
                    forEach: function(e, t, n) {
                        if (!(n || t && this.type != t)) var i = e(this);
                        if (!1 !== i) {
                            n = this.getChildren();
                            for (var o = 0; o < n.count(); o++) i = n.getItem(o), i.type == CKEDITOR.NODE_ELEMENT ? i.forEach(e, t) : t && i.type != t || e(i);
                        }
                    }
                });
                var n = {
                    width: [ "border-left-width", "border-right-width", "padding-left", "padding-right" ],
                    height: [ "border-top-width", "border-bottom-width", "padding-top", "padding-bottom" ]
                };
                CKEDITOR.dom.element.prototype.setSize = function(e, t, n) {
                    "number" == typeof t && (!n || CKEDITOR.env.ie && CKEDITOR.env.quirks || (t -= c.call(this, e)), 
                    this.setStyle(e, t + "px"));
                }, CKEDITOR.dom.element.prototype.getSize = function(e, t) {
                    var n = Math.max(this.$["offset" + CKEDITOR.tools.capitalize(e)], this.$["client" + CKEDITOR.tools.capitalize(e)]) || 0;
                    return t && (n -= c.call(this, e)), n;
                };
            }(), CKEDITOR.dom.documentFragment = function(e) {
                e = e || CKEDITOR.document, this.$ = e.type == CKEDITOR.NODE_DOCUMENT ? e.$.createDocumentFragment() : e;
            }, CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype, CKEDITOR.dom.element.prototype, {
                type: CKEDITOR.NODE_DOCUMENT_FRAGMENT,
                insertAfterNode: function(e) {
                    e = e.$, e.parentNode.insertBefore(this.$, e.nextSibling);
                },
                getHtml: function() {
                    var e = new CKEDITOR.dom.element("div");
                    return this.clone(1, 1).appendTo(e), e.getHtml().replace(/\s*data-cke-expando=".*?"/g, "");
                }
            }, !0, {
                append: 1,
                appendBogus: 1,
                clone: 1,
                getFirst: 1,
                getHtml: 1,
                getLast: 1,
                getParent: 1,
                getNext: 1,
                getPrevious: 1,
                appendTo: 1,
                moveChildren: 1,
                insertBefore: 1,
                insertAfterNode: 1,
                replace: 1,
                trim: 1,
                type: 1,
                ltrim: 1,
                rtrim: 1,
                getDocument: 1,
                getChildCount: 1,
                getChild: 1,
                getChildren: 1
            }), function() {
                function a(e, t) {
                    var n = this.range;
                    if (this._.end) return null;
                    if (!this._.start) {
                        if (this._.start = 1, n.collapsed) return this.end(), null;
                        n.optimize();
                    }
                    var i, o = n.startContainer;
                    i = n.endContainer;
                    var a, r = n.startOffset, s = n.endOffset, l = this.guard, c = this.type, d = e ? "getPreviousSourceNode" : "getNextSourceNode";
                    if (!e && !this._.guardLTR) {
                        var u = i.type == CKEDITOR.NODE_ELEMENT ? i : i.getParent(), h = i.type == CKEDITOR.NODE_ELEMENT ? i.getChild(s) : i.getNext();
                        this._.guardLTR = function(e, t) {
                            return !(t && u.equals(e) || h && e.equals(h) || e.type == CKEDITOR.NODE_ELEMENT && t && e.equals(n.root));
                        };
                    }
                    if (e && !this._.guardRTL) {
                        var f = o.type == CKEDITOR.NODE_ELEMENT ? o : o.getParent(), m = o.type == CKEDITOR.NODE_ELEMENT ? r ? o.getChild(r - 1) : null : o.getPrevious();
                        this._.guardRTL = function(e, t) {
                            return !(t && f.equals(e) || m && e.equals(m) || e.type == CKEDITOR.NODE_ELEMENT && t && e.equals(n.root));
                        };
                    }
                    var g = e ? this._.guardRTL : this._.guardLTR;
                    for (a = l ? function(e, t) {
                        return !1 !== g(e, t) && l(e, t);
                    } : g, this.current ? i = this.current[d](!1, c, a) : (e ? i.type == CKEDITOR.NODE_ELEMENT && (i = 0 < s ? i.getChild(s - 1) : !1 === a(i, !0) ? null : i.getPreviousSourceNode(!0, c, a)) : (i = o, 
                    i.type == CKEDITOR.NODE_ELEMENT && ((i = i.getChild(r)) || (i = !1 === a(o, !0) ? null : o.getNextSourceNode(!0, c, a)))), 
                    i && !1 === a(i) && (i = null)); i && !this._.end; ) {
                        if (this.current = i, this.evaluator && !1 === this.evaluator(i)) {
                            if (t && this.evaluator) return !1;
                        } else if (!t) return i;
                        i = i[d](!1, c, a);
                    }
                    return this.end(), this.current = null;
                }
                function f(e) {
                    for (var t, n = null; t = a.call(this, e); ) n = t;
                    return n;
                }
                CKEDITOR.dom.walker = CKEDITOR.tools.createClass({
                    $: function(e) {
                        this.range = e, this._ = {};
                    },
                    proto: {
                        end: function() {
                            this._.end = 1;
                        },
                        next: function() {
                            return a.call(this);
                        },
                        previous: function() {
                            return a.call(this, 1);
                        },
                        checkForward: function() {
                            return !1 !== a.call(this, 0, 1);
                        },
                        checkBackward: function() {
                            return !1 !== a.call(this, 1, 1);
                        },
                        lastForward: function() {
                            return f.call(this);
                        },
                        lastBackward: function() {
                            return f.call(this, 1);
                        },
                        reset: function() {
                            delete this.current, this._ = {};
                        }
                    }
                });
                var e = {
                    block: 1,
                    "list-item": 1,
                    table: 1,
                    "table-row-group": 1,
                    "table-header-group": 1,
                    "table-footer-group": 1,
                    "table-row": 1,
                    "table-column-group": 1,
                    "table-column": 1,
                    "table-cell": 1,
                    "table-caption": 1
                }, t = {
                    absolute: 1,
                    fixed: 1
                };
                CKEDITOR.dom.element.prototype.isBlockBoundary = function(n) {
                    return !("none" != this.getComputedStyle("float") || this.getComputedStyle("position") in t || !e[this.getComputedStyle("display")]) || !!(this.is(CKEDITOR.dtd.$block) || n && this.is(n));
                }, CKEDITOR.dom.walker.blockBoundary = function(e) {
                    return function(t) {
                        return !(t.type == CKEDITOR.NODE_ELEMENT && t.isBlockBoundary(e));
                    };
                }, CKEDITOR.dom.walker.listItemBoundary = function() {
                    return this.blockBoundary({
                        br: 1
                    });
                }, CKEDITOR.dom.walker.bookmark = function(e, t) {
                    function g(e) {
                        return e && e.getName && "span" == e.getName() && e.data("cke-bookmark");
                    }
                    return function(n) {
                        var i, o;
                        return i = n && n.type != CKEDITOR.NODE_ELEMENT && (o = n.getParent()) && g(o), 
                        i = e ? i : i || g(n), !!(t ^ i);
                    };
                }, CKEDITOR.dom.walker.whitespaces = function(e) {
                    return function(t) {
                        var n;
                        return t && t.type == CKEDITOR.NODE_TEXT && (n = !CKEDITOR.tools.trim(t.getText()) || CKEDITOR.env.webkit && t.getText() == CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE), 
                        !!(e ^ n);
                    };
                }, CKEDITOR.dom.walker.invisible = function(e) {
                    var t = CKEDITOR.dom.walker.whitespaces(), n = CKEDITOR.env.webkit ? 1 : 0;
                    return function(i) {
                        return t(i) ? i = 1 : (i.type == CKEDITOR.NODE_TEXT && (i = i.getParent()), i = i.$.offsetWidth <= n), 
                        !!(e ^ i);
                    };
                }, CKEDITOR.dom.walker.nodeType = function(e, t) {
                    return function(n) {
                        return !!(t ^ n.type == e);
                    };
                }, CKEDITOR.dom.walker.bogus = function(e) {
                    function b(e) {
                        return !i(e) && !o(e);
                    }
                    return function(t) {
                        var i = CKEDITOR.env.needsBrFiller ? t.is && t.is("br") : t.getText && n.test(t.getText());
                        return i && (i = t.getParent(), t = t.getNext(b), i = i.isBlockBoundary() && (!t || t.type == CKEDITOR.NODE_ELEMENT && t.isBlockBoundary())), 
                        !!(e ^ i);
                    };
                }, CKEDITOR.dom.walker.temp = function(e) {
                    return function(t) {
                        return t.type != CKEDITOR.NODE_ELEMENT && (t = t.getParent()), t = t && t.hasAttribute("data-cke-temp"), 
                        !!(e ^ t);
                    };
                };
                var n = /^[\t\r\n ]*(?:&nbsp;|\xa0)$/, i = CKEDITOR.dom.walker.whitespaces(), o = CKEDITOR.dom.walker.bookmark(), r = CKEDITOR.dom.walker.temp(), s = function(e) {
                    return o(e) || i(e) || e.type == CKEDITOR.NODE_ELEMENT && e.is(CKEDITOR.dtd.$inline) && !e.is(CKEDITOR.dtd.$empty);
                };
                CKEDITOR.dom.walker.ignored = function(e) {
                    return function(t) {
                        return t = i(t) || o(t) || r(t), !!(e ^ t);
                    };
                };
                var l = CKEDITOR.dom.walker.ignored();
                CKEDITOR.dom.walker.empty = function(e) {
                    return function(t) {
                        for (var n = 0, i = t.getChildCount(); n < i; ++n) if (!l(t.getChild(n))) return !!e;
                        return !e;
                    };
                };
                var c = CKEDITOR.dom.walker.empty(), d = CKEDITOR.dom.walker.validEmptyBlockContainers = CKEDITOR.tools.extend(function(e) {
                    var t, n = {};
                    for (t in e) CKEDITOR.dtd[t]["#"] && (n[t] = 1);
                    return n;
                }(CKEDITOR.dtd.$block), {
                    caption: 1,
                    td: 1,
                    th: 1
                });
                CKEDITOR.dom.walker.editable = function(e) {
                    return function(t) {
                        return t = !l(t) && !!(t.type == CKEDITOR.NODE_TEXT || t.type == CKEDITOR.NODE_ELEMENT && (t.is(CKEDITOR.dtd.$inline) || t.is("hr") || "false" == t.getAttribute("contenteditable") || !CKEDITOR.env.needsBrFiller && t.is(d) && c(t))), 
                        !!(e ^ t);
                    };
                }, CKEDITOR.dom.element.prototype.getBogus = function() {
                    var e = this;
                    do {
                        e = e.getPreviousSourceNode();
                    } while (s(e));
                    return !(!e || !(CKEDITOR.env.needsBrFiller ? e.is && e.is("br") : e.getText && n.test(e.getText()))) && e;
                };
            }(), CKEDITOR.dom.range = function(e) {
                this.endOffset = this.endContainer = this.startOffset = this.startContainer = null, 
                this.collapsed = !0;
                var t = e instanceof CKEDITOR.dom.document;
                this.document = t ? e : e.getDocument(), this.root = t ? e.getBody() : e;
            }, function() {
                function a(e) {
                    e.collapsed = e.startContainer && e.endContainer && e.startContainer.equals(e.endContainer) && e.startOffset == e.endOffset;
                }
                function f(e, t, n, i, o) {
                    function f(e, t, n, i) {
                        var l = n ? e.getPrevious() : e.getNext();
                        return i && a ? l : (s || i ? t.append(e.clone(!0, o), n) : (e.remove(), r && t.append(e, n)), 
                        l);
                    }
                    e.optimizeBookmark();
                    var a = 0 === t, r = 1 == t, s = 2 == t;
                    t = s || r;
                    var l, c, d, u, h, m, g = e.startContainer, E = e.endContainer, p = e.startOffset, T = e.endOffset;
                    if (s && E.type == CKEDITOR.NODE_TEXT && (g.equals(E) || g.type === CKEDITOR.NODE_ELEMENT && g.getFirst().equals(E))) n.append(e.document.createText(E.substring(p, T))); else {
                        E.type == CKEDITOR.NODE_TEXT ? s ? m = !0 : E = E.split(T) : 0 < E.getChildCount() ? T >= E.getChildCount() ? (E = E.getChild(T - 1), 
                        c = !0) : E = E.getChild(T) : u = c = !0, g.type == CKEDITOR.NODE_TEXT ? s ? h = !0 : g.split(p) : 0 < g.getChildCount() ? 0 === p ? (g = g.getChild(p), 
                        l = !0) : g = g.getChild(p - 1) : d = l = !0;
                        for (var C, I, O, D = g.getParents(), R = E.getParents(), v = function() {
                            var e, t, n, i = Math.min(D.length, R.length);
                            for (e = 0; e < i; e++) if (t = D[e], n = R[e], !t.equals(n)) return e;
                            return e - 1;
                        }(), b = D.length - 1, K = R.length - 1, y = n, _ = -1, k = v; k <= b; k++) {
                            for (I = D[k], O = I.getNext(), k != b || I.equals(R[k]) && b < K ? t && (C = y.append(I.clone(0, o))) : l ? f(I, y, !1, d) : h && y.append(e.document.createText(I.substring(p))); O; ) {
                                if (O.equals(R[k])) {
                                    _ = k;
                                    break;
                                }
                                O = f(O, y);
                            }
                            y = C;
                        }
                        for (y = n, k = v; k <= K; k++) if (n = R[k], O = n.getPrevious(), n.equals(D[k])) t && (y = y.getChild(0)); else {
                            if (k != K || n.equals(D[k]) && K < b ? t && (C = y.append(n.clone(0, o))) : c ? f(n, y, !1, u) : m && y.append(e.document.createText(n.substring(0, T))), 
                            k > _) for (;O; ) O = f(O, y, !0);
                            y = C;
                        }
                        s || function() {
                            var t = v - 1, n = d && u && !g.equals(E);
                            t < b - 1 || t < K - 1 || n ? (n ? e.moveToPosition(E, CKEDITOR.POSITION_BEFORE_START) : K == t + 1 && c ? e.moveToPosition(R[t], CKEDITOR.POSITION_BEFORE_END) : e.moveToPosition(R[t + 1], CKEDITOR.POSITION_BEFORE_START), 
                            i && (t = D[t + 1]) && t.type == CKEDITOR.NODE_ELEMENT && (n = CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>', e.document), 
                            n.insertAfter(t), t.mergeSiblings(!1), e.moveToBookmark({
                                startNode: n
                            }))) : e.collapse(!0);
                        }();
                    }
                }
                function b() {
                    var e = !1, n = CKEDITOR.dom.walker.whitespaces(), i = CKEDITOR.dom.walker.bookmark(!0), o = CKEDITOR.dom.walker.bogus();
                    return function(a) {
                        return !(!i(a) && !n(a)) || (o(a) && !e ? e = !0 : !(a.type == CKEDITOR.NODE_TEXT && (a.hasAscendant("pre") || CKEDITOR.tools.trim(a.getText()).length) || a.type == CKEDITOR.NODE_ELEMENT && !a.is(t)));
                    };
                }
                function c(e) {
                    var t = CKEDITOR.dom.walker.whitespaces(), i = CKEDITOR.dom.walker.bookmark(1);
                    return function(o) {
                        return !(!i(o) && !t(o)) || (!e && n(o) || o.type == CKEDITOR.NODE_ELEMENT && o.is(CKEDITOR.dtd.$removeEmpty));
                    };
                }
                function e(e) {
                    return function() {
                        var t;
                        return this[e ? "getPreviousNode" : "getNextNode"](function(e) {
                            return !t && r(e) && (t = e), o(e) && !(n(e) && e.equals(t));
                        });
                    };
                }
                var t = {
                    abbr: 1,
                    acronym: 1,
                    b: 1,
                    bdo: 1,
                    big: 1,
                    cite: 1,
                    code: 1,
                    del: 1,
                    dfn: 1,
                    em: 1,
                    font: 1,
                    i: 1,
                    ins: 1,
                    label: 1,
                    kbd: 1,
                    q: 1,
                    samp: 1,
                    small: 1,
                    span: 1,
                    strike: 1,
                    strong: 1,
                    sub: 1,
                    sup: 1,
                    tt: 1,
                    u: 1,
                    var: 1
                }, n = CKEDITOR.dom.walker.bogus(), i = /^[\t\r\n ]*(?:&nbsp;|\xa0)$/, o = CKEDITOR.dom.walker.editable(), r = CKEDITOR.dom.walker.ignored(!0);
                CKEDITOR.dom.range.prototype = {
                    clone: function() {
                        var e = new CKEDITOR.dom.range(this.root);
                        return e._setStartContainer(this.startContainer), e.startOffset = this.startOffset, 
                        e._setEndContainer(this.endContainer), e.endOffset = this.endOffset, e.collapsed = this.collapsed, 
                        e;
                    },
                    collapse: function(e) {
                        e ? (this._setEndContainer(this.startContainer), this.endOffset = this.startOffset) : (this._setStartContainer(this.endContainer), 
                        this.startOffset = this.endOffset), this.collapsed = !0;
                    },
                    cloneContents: function(e) {
                        var t = new CKEDITOR.dom.documentFragment(this.document);
                        return this.collapsed || f(this, 2, t, !1, void 0 === e || e), t;
                    },
                    deleteContents: function(e) {
                        this.collapsed || f(this, 0, null, e);
                    },
                    extractContents: function(e, t) {
                        var n = new CKEDITOR.dom.documentFragment(this.document);
                        return this.collapsed || f(this, 1, n, e, void 0 === t || t), n;
                    },
                    createBookmark: function(e) {
                        var t, n, i, o, a = this.collapsed;
                        return t = this.document.createElement("span"), t.data("cke-bookmark", 1), t.setStyle("display", "none"), 
                        t.setHtml("&nbsp;"), e && (i = "cke_bm_" + CKEDITOR.tools.getNextNumber(), t.setAttribute("id", i + (a ? "C" : "S"))), 
                        a || (n = t.clone(), n.setHtml("&nbsp;"), e && n.setAttribute("id", i + "E"), o = this.clone(), 
                        o.collapse(), o.insertNode(n)), o = this.clone(), o.collapse(!0), o.insertNode(t), 
                        n ? (this.setStartAfter(t), this.setEndBefore(n)) : this.moveToPosition(t, CKEDITOR.POSITION_AFTER_END), 
                        {
                            startNode: e ? i + (a ? "C" : "S") : t,
                            endNode: e ? i + "E" : n,
                            serializable: e,
                            collapsed: a
                        };
                    },
                    createBookmark2: function() {
                        function a(t) {
                            var n, i = t.container, o = t.offset;
                            n = i;
                            var a = o;
                            if (n = n.type != CKEDITOR.NODE_ELEMENT || 0 === a || a == n.getChildCount() ? 0 : n.getChild(a - 1).type == CKEDITOR.NODE_TEXT && n.getChild(a).type == CKEDITOR.NODE_TEXT, 
                            n && (i = i.getChild(o - 1), o = i.getLength()), i.type == CKEDITOR.NODE_ELEMENT && 0 < o) {
                                e: {
                                    for (n = i; o--; ) if (0 <= (a = n.getChild(o).getIndex(!0))) {
                                        o = a;
                                        break e;
                                    }
                                    o = -1;
                                }
                                o += 1;
                            }
                            if (i.type == CKEDITOR.NODE_TEXT) {
                                for (n = i, a = 0; (n = n.getPrevious()) && n.type == CKEDITOR.NODE_TEXT; ) a += n.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE, "").length;
                                n = a, i.getText() ? o += n : (a = i.getPrevious(e), n ? (o = n, i = a ? a.getNext() : i.getParent().getFirst()) : (i = i.getParent(), 
                                o = a ? a.getIndex(!0) + 1 : 0));
                            }
                            t.container = i, t.offset = o;
                        }
                        function b(e, t) {
                            var n = t.getCustomData("cke-fillingChar");
                            if (n) {
                                var i = e.container;
                                n.equals(i) && (e.offset -= CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length, 
                                0 >= e.offset && (e.offset = i.getIndex(), e.container = i.getParent()));
                            }
                        }
                        var e = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT, !0);
                        return function(e) {
                            var t = this.collapsed, n = {
                                container: this.startContainer,
                                offset: this.startOffset
                            }, i = {
                                container: this.endContainer,
                                offset: this.endOffset
                            };
                            return e && (a(n), b(n, this.root), t || (a(i), b(i, this.root))), {
                                start: n.container.getAddress(e),
                                end: t ? null : i.container.getAddress(e),
                                startOffset: n.offset,
                                endOffset: i.offset,
                                normalized: e,
                                collapsed: t,
                                is2: !0
                            };
                        };
                    }(),
                    moveToBookmark: function(e) {
                        if (e.is2) {
                            var t = this.document.getByAddress(e.start, e.normalized), n = e.startOffset, i = e.end && this.document.getByAddress(e.end, e.normalized);
                            e = e.endOffset, this.setStart(t, n), i ? this.setEnd(i, e) : this.collapse(!0);
                        } else t = (n = e.serializable) ? this.document.getById(e.startNode) : e.startNode, 
                        e = n ? this.document.getById(e.endNode) : e.endNode, this.setStartBefore(t), t.remove(), 
                        e ? (this.setEndBefore(e), e.remove()) : this.collapse(!0);
                    },
                    getBoundaryNodes: function() {
                        var e, t = this.startContainer, n = this.endContainer, i = this.startOffset, o = this.endOffset;
                        if (t.type == CKEDITOR.NODE_ELEMENT) if ((e = t.getChildCount()) > i) t = t.getChild(i); else if (1 > e) t = t.getPreviousSourceNode(); else {
                            for (t = t.$; t.lastChild; ) t = t.lastChild;
                            t = new CKEDITOR.dom.node(t), t = t.getNextSourceNode() || t;
                        }
                        if (n.type == CKEDITOR.NODE_ELEMENT) if ((e = n.getChildCount()) > o) n = n.getChild(o).getPreviousSourceNode(!0); else if (1 > e) n = n.getPreviousSourceNode(); else {
                            for (n = n.$; n.lastChild; ) n = n.lastChild;
                            n = new CKEDITOR.dom.node(n);
                        }
                        return t.getPosition(n) & CKEDITOR.POSITION_FOLLOWING && (t = n), {
                            startNode: t,
                            endNode: n
                        };
                    },
                    getCommonAncestor: function(e, t) {
                        var n = this.startContainer, i = this.endContainer, n = n.equals(i) ? e && n.type == CKEDITOR.NODE_ELEMENT && this.startOffset == this.endOffset - 1 ? n.getChild(this.startOffset) : n : n.getCommonAncestor(i);
                        return t && !n.is ? n.getParent() : n;
                    },
                    optimize: function() {
                        var e = this.startContainer, t = this.startOffset;
                        e.type != CKEDITOR.NODE_ELEMENT && (t ? t >= e.getLength() && this.setStartAfter(e) : this.setStartBefore(e)), 
                        e = this.endContainer, t = this.endOffset, e.type != CKEDITOR.NODE_ELEMENT && (t ? t >= e.getLength() && this.setEndAfter(e) : this.setEndBefore(e));
                    },
                    optimizeBookmark: function() {
                        var e = this.startContainer, t = this.endContainer;
                        e.is && e.is("span") && e.data("cke-bookmark") && this.setStartAt(e, CKEDITOR.POSITION_BEFORE_START), 
                        t && t.is && t.is("span") && t.data("cke-bookmark") && this.setEndAt(t, CKEDITOR.POSITION_AFTER_END);
                    },
                    trim: function(e, t) {
                        var n = this.startContainer, i = this.startOffset, o = this.collapsed;
                        if ((!e || o) && n && n.type == CKEDITOR.NODE_TEXT) {
                            if (i) if (i >= n.getLength()) i = n.getIndex() + 1, n = n.getParent(); else {
                                var a = n.split(i), i = n.getIndex() + 1, n = n.getParent();
                                this.startContainer.equals(this.endContainer) ? this.setEnd(a, this.endOffset - this.startOffset) : n.equals(this.endContainer) && (this.endOffset += 1);
                            } else i = n.getIndex(), n = n.getParent();
                            if (this.setStart(n, i), o) return void this.collapse(!0);
                        }
                        n = this.endContainer, i = this.endOffset, t || o || !n || n.type != CKEDITOR.NODE_TEXT || (i ? (i >= n.getLength() || n.split(i), 
                        i = n.getIndex() + 1) : i = n.getIndex(), n = n.getParent(), this.setEnd(n, i));
                    },
                    enlarge: function(e, t) {
                        function c(e) {
                            return e && e.type == CKEDITOR.NODE_ELEMENT && e.hasAttribute("contenteditable") ? null : e;
                        }
                        var n = new RegExp(/[^\s\ufeff]/);
                        switch (e) {
                          case CKEDITOR.ENLARGE_INLINE:
                            var i = 1;

                          case CKEDITOR.ENLARGE_ELEMENT:
                            var o = function(e, t) {
                                var i = new CKEDITOR.dom.range(m);
                                i.setStart(e, t), i.setEndAt(m, CKEDITOR.POSITION_BEFORE_END);
                                var o, i = new CKEDITOR.dom.walker(i);
                                for (i.guard = function(e) {
                                    return !(e.type == CKEDITOR.NODE_ELEMENT && e.isBlockBoundary());
                                }; o = i.next(); ) {
                                    if (o.type != CKEDITOR.NODE_TEXT) return !1;
                                    if (h = o != e ? o.getText() : o.substring(t), n.test(h)) return !1;
                                }
                                return !0;
                            };
                            if (this.collapsed) break;
                            var a, r, s, l, d, u, h, f = this.getCommonAncestor(), m = this.root, g = !1;
                            u = this.startContainer;
                            var E = this.startOffset;
                            for (u.type == CKEDITOR.NODE_TEXT ? (E && (u = !CKEDITOR.tools.trim(u.substring(0, E)).length && u, 
                            g = !!u), u && ((l = u.getPrevious()) || (s = u.getParent()))) : (E && (l = u.getChild(E - 1) || u.getLast()), 
                            l || (s = u)), s = c(s); s || l; ) {
                                if (s && !l) {
                                    if (!d && s.equals(f) && (d = !0), i ? s.isBlockBoundary() : !m.contains(s)) break;
                                    g && "inline" == s.getComputedStyle("display") || (g = !1, d ? a = s : this.setStartBefore(s)), 
                                    l = s.getPrevious();
                                }
                                for (;l; ) if (u = !1, l.type == CKEDITOR.NODE_COMMENT) l = l.getPrevious(); else {
                                    if (l.type == CKEDITOR.NODE_TEXT) h = l.getText(), n.test(h) && (l = null), u = /[\s\ufeff]$/.test(h); else if ((l.$.offsetWidth > (CKEDITOR.env.webkit ? 1 : 0) || t && l.is("br")) && !l.data("cke-bookmark")) if (g && CKEDITOR.dtd.$removeEmpty[l.getName()]) {
                                        if (h = l.getText(), n.test(h)) l = null; else for (var p, E = l.$.getElementsByTagName("*"), T = 0; p = E[T++]; ) if (!CKEDITOR.dtd.$removeEmpty[p.nodeName.toLowerCase()]) {
                                            l = null;
                                            break;
                                        }
                                        l && (u = !!h.length);
                                    } else l = null;
                                    if (u && (g ? d ? a = s : s && this.setStartBefore(s) : g = !0), l) {
                                        if (u = l.getPrevious(), !s && !u) {
                                            s = l, l = null;
                                            break;
                                        }
                                        l = u;
                                    } else s = null;
                                }
                                s && (s = c(s.getParent()));
                            }
                            for (u = this.endContainer, E = this.endOffset, s = l = null, d = g = !1, u.type == CKEDITOR.NODE_TEXT ? CKEDITOR.tools.trim(u.substring(E)).length ? g = !0 : (g = !u.getLength(), 
                            E == u.getLength() ? (l = u.getNext()) || (s = u.getParent()) : o(u, E) && (s = u.getParent())) : (l = u.getChild(E)) || (s = u); s || l; ) {
                                if (s && !l) {
                                    if (!d && s.equals(f) && (d = !0), i ? s.isBlockBoundary() : !m.contains(s)) break;
                                    g && "inline" == s.getComputedStyle("display") || (g = !1, d ? r = s : s && this.setEndAfter(s)), 
                                    l = s.getNext();
                                }
                                for (;l; ) {
                                    if (u = !1, l.type == CKEDITOR.NODE_TEXT) h = l.getText(), o(l, 0) || (l = null), 
                                    u = /^[\s\ufeff]/.test(h); else if (l.type == CKEDITOR.NODE_ELEMENT) {
                                        if ((0 < l.$.offsetWidth || t && l.is("br")) && !l.data("cke-bookmark")) if (g && CKEDITOR.dtd.$removeEmpty[l.getName()]) {
                                            if (h = l.getText(), n.test(h)) l = null; else for (E = l.$.getElementsByTagName("*"), 
                                            T = 0; p = E[T++]; ) if (!CKEDITOR.dtd.$removeEmpty[p.nodeName.toLowerCase()]) {
                                                l = null;
                                                break;
                                            }
                                            l && (u = !!h.length);
                                        } else l = null;
                                    } else u = 1;
                                    if (u && g && (d ? r = s : this.setEndAfter(s)), l) {
                                        if (u = l.getNext(), !s && !u) {
                                            s = l, l = null;
                                            break;
                                        }
                                        l = u;
                                    } else s = null;
                                }
                                s && (s = c(s.getParent()));
                            }
                            a && r && (f = a.contains(r) ? r : a, this.setStartBefore(f), this.setEndAfter(f));
                            break;

                          case CKEDITOR.ENLARGE_BLOCK_CONTENTS:
                          case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:
                            s = new CKEDITOR.dom.range(this.root), m = this.root, s.setStartAt(m, CKEDITOR.POSITION_AFTER_START), 
                            s.setEnd(this.startContainer, this.startOffset), s = new CKEDITOR.dom.walker(s);
                            var C, I, O = CKEDITOR.dom.walker.blockBoundary(e == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS ? {
                                br: 1
                            } : null), D = null, R = function(e) {
                                if (e.type == CKEDITOR.NODE_ELEMENT && "false" == e.getAttribute("contenteditable")) if (D) {
                                    if (D.equals(e)) return void (D = null);
                                } else D = e; else if (D) return;
                                var t = O(e);
                                return t || (C = e), t;
                            }, i = function(e) {
                                var t = R(e);
                                return !t && e.is && e.is("br") && (I = e), t;
                            };
                            if (s.guard = R, s = s.lastBackward(), C = C || m, this.setStartAt(C, !C.is("br") && (!s && this.checkStartOfBlock() || s && C.contains(s)) ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_AFTER_END), 
                            e == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS) {
                                s = this.clone(), s = new CKEDITOR.dom.walker(s);
                                var v = CKEDITOR.dom.walker.whitespaces(), b = CKEDITOR.dom.walker.bookmark();
                                if (s.evaluator = function(e) {
                                    return !v(e) && !b(e);
                                }, (s = s.previous()) && s.type == CKEDITOR.NODE_ELEMENT && s.is("br")) break;
                            }
                            s = this.clone(), s.collapse(), s.setEndAt(m, CKEDITOR.POSITION_BEFORE_END), s = new CKEDITOR.dom.walker(s), 
                            s.guard = e == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS ? i : R, C = D = I = null, s = s.lastForward(), 
                            C = C || m, this.setEndAt(C, !s && this.checkEndOfBlock() || s && C.contains(s) ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_BEFORE_START), 
                            I && this.setEndAfter(I);
                        }
                    },
                    shrink: function(e, t, n) {
                        var i = "boolean" == typeof n ? n : !n || "boolean" != typeof n.shrinkOnBlockBoundary || n.shrinkOnBlockBoundary, o = n && n.skipBogus;
                        if (!this.collapsed) {
                            e = e || CKEDITOR.SHRINK_TEXT;
                            var a = this.clone(), r = this.startContainer, s = this.endContainer, l = this.startOffset, c = this.endOffset, d = n = 1;
                            r && r.type == CKEDITOR.NODE_TEXT && (l ? l >= r.getLength() ? a.setStartAfter(r) : (a.setStartBefore(r), 
                            n = 0) : a.setStartBefore(r)), s && s.type == CKEDITOR.NODE_TEXT && (c ? c >= s.getLength() ? a.setEndAfter(s) : (a.setEndAfter(s), 
                            d = 0) : a.setEndBefore(s));
                            var a = new CKEDITOR.dom.walker(a), u = CKEDITOR.dom.walker.bookmark(), h = CKEDITOR.dom.walker.bogus();
                            a.evaluator = function(t) {
                                return t.type == (e == CKEDITOR.SHRINK_ELEMENT ? CKEDITOR.NODE_ELEMENT : CKEDITOR.NODE_TEXT);
                            };
                            var f;
                            return a.guard = function(t, n) {
                                return !!(o && h(t) || u(t)) || !(e == CKEDITOR.SHRINK_ELEMENT && t.type == CKEDITOR.NODE_TEXT || n && t.equals(f) || !1 === i && t.type == CKEDITOR.NODE_ELEMENT && t.isBlockBoundary() || t.type == CKEDITOR.NODE_ELEMENT && t.hasAttribute("contenteditable")) && (n || t.type != CKEDITOR.NODE_ELEMENT || (f = t), 
                                !0);
                            }, n && (r = a[e == CKEDITOR.SHRINK_ELEMENT ? "lastForward" : "next"]()) && this.setStartAt(r, t ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_START), 
                            d && (a.reset(), (a = a[e == CKEDITOR.SHRINK_ELEMENT ? "lastBackward" : "previous"]()) && this.setEndAt(a, t ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_AFTER_END)), 
                            !(!n && !d);
                        }
                    },
                    insertNode: function(e) {
                        this.optimizeBookmark(), this.trim(!1, !0);
                        var t = this.startContainer, n = t.getChild(this.startOffset);
                        n ? e.insertBefore(n) : t.append(e), e.getParent() && e.getParent().equals(this.endContainer) && this.endOffset++, 
                        this.setStartBefore(e);
                    },
                    moveToPosition: function(e, t) {
                        this.setStartAt(e, t), this.collapse(!0);
                    },
                    moveToRange: function(e) {
                        this.setStart(e.startContainer, e.startOffset), this.setEnd(e.endContainer, e.endOffset);
                    },
                    selectNodeContents: function(e) {
                        this.setStart(e, 0), this.setEnd(e, e.type == CKEDITOR.NODE_TEXT ? e.getLength() : e.getChildCount());
                    },
                    setStart: function(e, t) {
                        e.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$empty[e.getName()] && (t = e.getIndex(), 
                        e = e.getParent()), this._setStartContainer(e), this.startOffset = t, this.endContainer || (this._setEndContainer(e), 
                        this.endOffset = t), a(this);
                    },
                    setEnd: function(e, t) {
                        e.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$empty[e.getName()] && (t = e.getIndex() + 1, 
                        e = e.getParent()), this._setEndContainer(e), this.endOffset = t, this.startContainer || (this._setStartContainer(e), 
                        this.startOffset = t), a(this);
                    },
                    setStartAfter: function(e) {
                        this.setStart(e.getParent(), e.getIndex() + 1);
                    },
                    setStartBefore: function(e) {
                        this.setStart(e.getParent(), e.getIndex());
                    },
                    setEndAfter: function(e) {
                        this.setEnd(e.getParent(), e.getIndex() + 1);
                    },
                    setEndBefore: function(e) {
                        this.setEnd(e.getParent(), e.getIndex());
                    },
                    setStartAt: function(e, t) {
                        switch (t) {
                          case CKEDITOR.POSITION_AFTER_START:
                            this.setStart(e, 0);
                            break;

                          case CKEDITOR.POSITION_BEFORE_END:
                            e.type == CKEDITOR.NODE_TEXT ? this.setStart(e, e.getLength()) : this.setStart(e, e.getChildCount());
                            break;

                          case CKEDITOR.POSITION_BEFORE_START:
                            this.setStartBefore(e);
                            break;

                          case CKEDITOR.POSITION_AFTER_END:
                            this.setStartAfter(e);
                        }
                        a(this);
                    },
                    setEndAt: function(e, t) {
                        switch (t) {
                          case CKEDITOR.POSITION_AFTER_START:
                            this.setEnd(e, 0);
                            break;

                          case CKEDITOR.POSITION_BEFORE_END:
                            e.type == CKEDITOR.NODE_TEXT ? this.setEnd(e, e.getLength()) : this.setEnd(e, e.getChildCount());
                            break;

                          case CKEDITOR.POSITION_BEFORE_START:
                            this.setEndBefore(e);
                            break;

                          case CKEDITOR.POSITION_AFTER_END:
                            this.setEndAfter(e);
                        }
                        a(this);
                    },
                    fixBlock: function(e, t) {
                        var n = this.createBookmark(), i = this.document.createElement(t);
                        this.collapse(e), this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS), this.extractContents().appendTo(i), 
                        i.trim(), this.insertNode(i);
                        var o = i.getBogus();
                        return o && o.remove(), i.appendBogus(), this.moveToBookmark(n), i;
                    },
                    splitBlock: function(e, t) {
                        var n = new CKEDITOR.dom.elementPath(this.startContainer, this.root), i = new CKEDITOR.dom.elementPath(this.endContainer, this.root), o = n.block, a = i.block, r = null;
                        return n.blockLimit.equals(i.blockLimit) ? ("br" != e && (o || (o = this.fixBlock(!0, e), 
                        a = new CKEDITOR.dom.elementPath(this.endContainer, this.root).block), a || (a = this.fixBlock(!1, e))), 
                        n = o && this.checkStartOfBlock(), i = a && this.checkEndOfBlock(), this.deleteContents(), 
                        o && o.equals(a) && (i ? (r = new CKEDITOR.dom.elementPath(this.startContainer, this.root), 
                        this.moveToPosition(a, CKEDITOR.POSITION_AFTER_END), a = null) : n ? (r = new CKEDITOR.dom.elementPath(this.startContainer, this.root), 
                        this.moveToPosition(o, CKEDITOR.POSITION_BEFORE_START), o = null) : (a = this.splitElement(o, t || !1), 
                        o.is("ul", "ol") || o.appendBogus())), {
                            previousBlock: o,
                            nextBlock: a,
                            wasStartOfBlock: n,
                            wasEndOfBlock: i,
                            elementPath: r
                        }) : null;
                    },
                    splitElement: function(e, t) {
                        if (!this.collapsed) return null;
                        this.setEndAt(e, CKEDITOR.POSITION_BEFORE_END);
                        var n = this.extractContents(!1, t || !1), i = e.clone(!1, t || !1);
                        return n.appendTo(i), i.insertAfter(e), this.moveToPosition(e, CKEDITOR.POSITION_AFTER_END), 
                        i;
                    },
                    removeEmptyBlocksAtEnd: function() {
                        function a(n) {
                            return function(i) {
                                return !(e(i) || t(i) || i.type == CKEDITOR.NODE_ELEMENT && i.isEmptyInlineRemoveable() || n.is("table") && i.is("caption"));
                            };
                        }
                        var e = CKEDITOR.dom.walker.whitespaces(), t = CKEDITOR.dom.walker.bookmark(!1);
                        return function(e) {
                            for (var t, n = this.createBookmark(), i = this[e ? "endPath" : "startPath"](), o = i.block || i.blockLimit; o && !o.equals(i.root) && !o.getFirst(a(o)); ) t = o.getParent(), 
                            this[e ? "setEndAt" : "setStartAt"](o, CKEDITOR.POSITION_AFTER_END), o.remove(1), 
                            o = t;
                            this.moveToBookmark(n);
                        };
                    }(),
                    startPath: function() {
                        return new CKEDITOR.dom.elementPath(this.startContainer, this.root);
                    },
                    endPath: function() {
                        return new CKEDITOR.dom.elementPath(this.endContainer, this.root);
                    },
                    checkBoundaryOfElement: function(e, t) {
                        var n = t == CKEDITOR.START, i = this.clone();
                        return i.collapse(n), i[n ? "setStartAt" : "setEndAt"](e, n ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END), 
                        i = new CKEDITOR.dom.walker(i), i.evaluator = c(n), i[n ? "checkBackward" : "checkForward"]();
                    },
                    checkStartOfBlock: function() {
                        var e = this.startContainer, t = this.startOffset;
                        return CKEDITOR.env.ie && t && e.type == CKEDITOR.NODE_TEXT && (e = CKEDITOR.tools.ltrim(e.substring(0, t)), 
                        i.test(e) && this.trim(0, 1)), this.trim(), e = new CKEDITOR.dom.elementPath(this.startContainer, this.root), 
                        t = this.clone(), t.collapse(!0), t.setStartAt(e.block || e.blockLimit, CKEDITOR.POSITION_AFTER_START), 
                        e = new CKEDITOR.dom.walker(t), e.evaluator = b(), e.checkBackward();
                    },
                    checkEndOfBlock: function() {
                        var e = this.endContainer, t = this.endOffset;
                        return CKEDITOR.env.ie && e.type == CKEDITOR.NODE_TEXT && (e = CKEDITOR.tools.rtrim(e.substring(t)), 
                        i.test(e) && this.trim(1, 0)), this.trim(), e = new CKEDITOR.dom.elementPath(this.endContainer, this.root), 
                        t = this.clone(), t.collapse(!1), t.setEndAt(e.block || e.blockLimit, CKEDITOR.POSITION_BEFORE_END), 
                        e = new CKEDITOR.dom.walker(t), e.evaluator = b(), e.checkForward();
                    },
                    getPreviousNode: function(e, t, n) {
                        var i = this.clone();
                        return i.collapse(1), i.setStartAt(n || this.root, CKEDITOR.POSITION_AFTER_START), 
                        n = new CKEDITOR.dom.walker(i), n.evaluator = e, n.guard = t, n.previous();
                    },
                    getNextNode: function(e, t, n) {
                        var i = this.clone();
                        return i.collapse(), i.setEndAt(n || this.root, CKEDITOR.POSITION_BEFORE_END), n = new CKEDITOR.dom.walker(i), 
                        n.evaluator = e, n.guard = t, n.next();
                    },
                    checkReadOnly: function() {
                        function a(e, t) {
                            for (;e; ) {
                                if (e.type == CKEDITOR.NODE_ELEMENT) {
                                    if ("false" == e.getAttribute("contentEditable") && !e.data("cke-editable")) return 0;
                                    if (e.is("html") || "true" == e.getAttribute("contentEditable") && (e.contains(t) || e.equals(t))) break;
                                }
                                e = e.getParent();
                            }
                            return 1;
                        }
                        return function() {
                            var e = this.startContainer, t = this.endContainer;
                            return !(a(e, t) && a(t, e));
                        };
                    }(),
                    moveToElementEditablePosition: function(e, t) {
                        if (e.type == CKEDITOR.NODE_ELEMENT && !e.isEditable(!1)) return this.moveToPosition(e, t ? CKEDITOR.POSITION_AFTER_END : CKEDITOR.POSITION_BEFORE_START), 
                        !0;
                        for (var n = 0; e; ) {
                            if (e.type == CKEDITOR.NODE_TEXT) {
                                t && this.endContainer && this.checkEndOfBlock() && i.test(e.getText()) ? this.moveToPosition(e, CKEDITOR.POSITION_BEFORE_START) : this.moveToPosition(e, t ? CKEDITOR.POSITION_AFTER_END : CKEDITOR.POSITION_BEFORE_START), 
                                n = 1;
                                break;
                            }
                            if (e.type == CKEDITOR.NODE_ELEMENT) if (e.isEditable()) this.moveToPosition(e, t ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_AFTER_START), 
                            n = 1; else if (t && e.is("br") && this.endContainer && this.checkEndOfBlock()) this.moveToPosition(e, CKEDITOR.POSITION_BEFORE_START); else if ("false" == e.getAttribute("contenteditable") && e.is(CKEDITOR.dtd.$block)) return this.setStartBefore(e), 
                            this.setEndAfter(e), !0;
                            var o = e, a = n, s = void 0;
                            o.type == CKEDITOR.NODE_ELEMENT && o.isEditable(!1) && (s = o[t ? "getLast" : "getFirst"](r)), 
                            a || s || (s = o[t ? "getPrevious" : "getNext"](r)), e = s;
                        }
                        return !!n;
                    },
                    moveToClosestEditablePosition: function(e, t) {
                        var n, i, o, a = 0, r = [ CKEDITOR.POSITION_AFTER_END, CKEDITOR.POSITION_BEFORE_START ];
                        return e ? (n = new CKEDITOR.dom.range(this.root), n.moveToPosition(e, r[t ? 0 : 1])) : n = this.clone(), 
                        e && !e.is(CKEDITOR.dtd.$block) ? a = 1 : (i = n[t ? "getNextEditableNode" : "getPreviousEditableNode"]()) && (a = 1, 
                        (o = i.type == CKEDITOR.NODE_ELEMENT) && i.is(CKEDITOR.dtd.$block) && "false" == i.getAttribute("contenteditable") ? (n.setStartAt(i, CKEDITOR.POSITION_BEFORE_START), 
                        n.setEndAt(i, CKEDITOR.POSITION_AFTER_END)) : !CKEDITOR.env.needsBrFiller && o && i.is(CKEDITOR.dom.walker.validEmptyBlockContainers) ? (n.setEnd(i, 0), 
                        n.collapse()) : n.moveToPosition(i, r[t ? 1 : 0])), a && this.moveToRange(n), !!a;
                    },
                    moveToElementEditStart: function(e) {
                        return this.moveToElementEditablePosition(e);
                    },
                    moveToElementEditEnd: function(e) {
                        return this.moveToElementEditablePosition(e, !0);
                    },
                    getEnclosedNode: function() {
                        var e = this.clone();
                        if (e.optimize(), e.startContainer.type != CKEDITOR.NODE_ELEMENT || e.endContainer.type != CKEDITOR.NODE_ELEMENT) return null;
                        var e = new CKEDITOR.dom.walker(e), t = CKEDITOR.dom.walker.bookmark(!1, !0), n = CKEDITOR.dom.walker.whitespaces(!0);
                        e.evaluator = function(e) {
                            return n(e) && t(e);
                        };
                        var i = e.next();
                        return e.reset(), i && i.equals(e.previous()) ? i : null;
                    },
                    getTouchedStartNode: function() {
                        var e = this.startContainer;
                        return this.collapsed || e.type != CKEDITOR.NODE_ELEMENT ? e : e.getChild(this.startOffset) || e;
                    },
                    getTouchedEndNode: function() {
                        var e = this.endContainer;
                        return this.collapsed || e.type != CKEDITOR.NODE_ELEMENT ? e : e.getChild(this.endOffset - 1) || e;
                    },
                    getNextEditableNode: e(),
                    getPreviousEditableNode: e(1),
                    _getTableElement: function(e) {
                        e = e || {
                            td: 1,
                            th: 1,
                            tr: 1,
                            tbody: 1,
                            thead: 1,
                            tfoot: 1,
                            table: 1
                        };
                        var t = this.startContainer, n = this.endContainer, i = t.getAscendant("table", !0), o = n.getAscendant("table", !0);
                        return CKEDITOR.env.safari && i && n.equals(this.root) ? t.getAscendant(e, !0) : this.getEnclosedNode() ? this.getEnclosedNode().getAscendant(e, !0) : i && o && (i.equals(o) || i.contains(o) || o.contains(i)) ? t.getAscendant(e, !0) : null;
                    },
                    scrollIntoView: function() {
                        var e, t, n, i = new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>", this.document), o = this.clone();
                        o.optimize(), (n = o.startContainer.type == CKEDITOR.NODE_TEXT) ? (t = o.startContainer.getText(), 
                        e = o.startContainer.split(o.startOffset), i.insertAfter(o.startContainer)) : o.insertNode(i), 
                        i.scrollIntoView(), n && (o.startContainer.setText(t), e.remove()), i.remove();
                    },
                    _setStartContainer: function(e) {
                        this.startContainer = e;
                    },
                    _setEndContainer: function(e) {
                        this.endContainer = e;
                    },
                    _find: function(e, t) {
                        var n, i, o, a, r = this.getCommonAncestor(), s = this.getBoundaryNodes(), l = [];
                        if (r && r.find) for (i = r.find(e), n = 0; n < i.count(); n++) r = i.getItem(n), 
                        (t || !r.isReadOnly()) && (o = r.getPosition(s.startNode) & CKEDITOR.POSITION_FOLLOWING || s.startNode.equals(r), 
                        a = r.getPosition(s.endNode) & CKEDITOR.POSITION_PRECEDING + CKEDITOR.POSITION_IS_CONTAINED || s.endNode.equals(r), 
                        o && a && l.push(r));
                        return l;
                    }
                }, CKEDITOR.dom.range.mergeRanges = function(e) {
                    return CKEDITOR.tools.array.reduce(e, function(e, t) {
                        var n = e[e.length - 1], i = !1;
                        if (t = t.clone(), t.enlarge(CKEDITOR.ENLARGE_ELEMENT), n) {
                            var o = new CKEDITOR.dom.range(t.root), i = new CKEDITOR.dom.walker(o), a = CKEDITOR.dom.walker.whitespaces();
                            for (o.setStart(n.endContainer, n.endOffset), o.setEnd(t.startContainer, t.startOffset), 
                            o = i.next(); a(o) || t.endContainer.equals(o); ) o = i.next();
                            i = !o;
                        }
                        return i ? n.setEnd(t.endContainer, t.endOffset) : e.push(t), e;
                    }, []);
                };
            }(), CKEDITOR.POSITION_AFTER_START = 1, CKEDITOR.POSITION_BEFORE_END = 2, CKEDITOR.POSITION_BEFORE_START = 3, 
            CKEDITOR.POSITION_AFTER_END = 4, CKEDITOR.ENLARGE_ELEMENT = 1, CKEDITOR.ENLARGE_BLOCK_CONTENTS = 2, 
            CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS = 3, CKEDITOR.ENLARGE_INLINE = 4, CKEDITOR.START = 1, 
            CKEDITOR.END = 2, CKEDITOR.SHRINK_ELEMENT = 1, CKEDITOR.SHRINK_TEXT = 2, function() {
                function a(e) {
                    1 > arguments.length || (this.range = e, this.forceBrBreak = 0, this.enlargeBr = 1, 
                    this.enforceRealBlocks = 0, this._ || (this._ = {}));
                }
                function f(e) {
                    var t = [];
                    return e.forEach(function(e) {
                        if ("true" == e.getAttribute("contenteditable")) return t.push(e), !1;
                    }, CKEDITOR.NODE_ELEMENT, !0), t;
                }
                function b(e, t, n, i) {
                    e: {
                        null == i && (i = f(n));
                        for (var o; o = i.shift(); ) if (o.getDtd().p) {
                            i = {
                                element: o,
                                remaining: i
                            };
                            break e;
                        }
                        i = null;
                    }
                    return i ? (o = CKEDITOR.filter.instances[i.element.data("cke-filter")]) && !o.check(t) ? b(e, t, n, i.remaining) : (t = new CKEDITOR.dom.range(i.element), 
                    t.selectNodeContents(i.element), t = t.createIterator(), t.enlargeBr = e.enlargeBr, 
                    t.enforceRealBlocks = e.enforceRealBlocks, t.activeFilter = t.filter = o, e._.nestedEditable = {
                        element: i.element,
                        container: n,
                        remaining: i.remaining,
                        iterator: t
                    }, 1) : 0;
                }
                function c(e, t, n) {
                    return !!t && (e = e.clone(), e.collapse(!n), e.checkBoundaryOfElement(t, n ? CKEDITOR.START : CKEDITOR.END));
                }
                var e = /^[\r\n\t ]+$/, t = CKEDITOR.dom.walker.bookmark(!1, !0), n = CKEDITOR.dom.walker.whitespaces(!0), i = function(e) {
                    return t(e) && n(e);
                }, o = {
                    dd: 1,
                    dt: 1,
                    li: 1
                };
                a.prototype = {
                    getNextParagraph: function(n) {
                        var a, r, s, l, d;
                        if (n = n || "p", this._.nestedEditable) {
                            if (a = this._.nestedEditable.iterator.getNextParagraph(n)) return this.activeFilter = this._.nestedEditable.iterator.activeFilter, 
                            a;
                            if (this.activeFilter = this.filter, b(this, n, this._.nestedEditable.container, this._.nestedEditable.remaining)) return this.activeFilter = this._.nestedEditable.iterator.activeFilter, 
                            this._.nestedEditable.iterator.getNextParagraph(n);
                            this._.nestedEditable = null;
                        }
                        if (!this.range.root.getDtd()[n]) return null;
                        if (!this._.started) {
                            var u = this.range.clone();
                            r = u.startPath();
                            var h = u.endPath(), f = !u.collapsed && c(u, r.block), m = !u.collapsed && c(u, h.block, 1);
                            u.shrink(CKEDITOR.SHRINK_ELEMENT, !0), f && u.setStartAt(r.block, CKEDITOR.POSITION_BEFORE_END), 
                            m && u.setEndAt(h.block, CKEDITOR.POSITION_AFTER_START), r = u.endContainer.hasAscendant("pre", !0) || u.startContainer.hasAscendant("pre", !0), 
                            u.enlarge(this.forceBrBreak && !r || !this.enlargeBr ? CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS : CKEDITOR.ENLARGE_BLOCK_CONTENTS), 
                            u.collapsed || (r = new CKEDITOR.dom.walker(u.clone()), h = CKEDITOR.dom.walker.bookmark(!0, !0), 
                            r.evaluator = h, this._.nextNode = r.next(), r = new CKEDITOR.dom.walker(u.clone()), 
                            r.evaluator = h, r = r.previous(), this._.lastNode = r.getNextSourceNode(!0, null, u.root), 
                            this._.lastNode && this._.lastNode.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.trim(this._.lastNode.getText()) && this._.lastNode.getParent().isBlockBoundary() && (h = this.range.clone(), 
                            h.moveToPosition(this._.lastNode, CKEDITOR.POSITION_AFTER_END), h.checkEndOfBlock() && (h = new CKEDITOR.dom.elementPath(h.endContainer, h.root), 
                            this._.lastNode = (h.block || h.blockLimit).getNextSourceNode(!0))), this._.lastNode && u.root.contains(this._.lastNode) || (this._.lastNode = this._.docEndMarker = u.document.createText(""), 
                            this._.lastNode.insertAfter(r)), u = null), this._.started = 1, r = u;
                        }
                        for (h = this._.nextNode, u = this._.lastNode, this._.nextNode = null; h; ) {
                            var f = 0, m = h.hasAscendant("pre"), g = h.type != CKEDITOR.NODE_ELEMENT, E = 0;
                            if (g) h.type == CKEDITOR.NODE_TEXT && e.test(h.getText()) && (g = 0); else {
                                var p = h.getName();
                                if (CKEDITOR.dtd.$block[p] && "false" == h.getAttribute("contenteditable")) {
                                    a = h, b(this, n, a);
                                    break;
                                }
                                if (h.isBlockBoundary(this.forceBrBreak && !m && {
                                    br: 1
                                })) {
                                    if ("br" == p) g = 1; else if (!r && !h.getChildCount() && "hr" != p) {
                                        a = h, s = h.equals(u);
                                        break;
                                    }
                                    r && (r.setEndAt(h, CKEDITOR.POSITION_BEFORE_START), "br" != p && (this._.nextNode = h)), 
                                    f = 1;
                                } else {
                                    if (h.getFirst()) {
                                        r || (r = this.range.clone(), r.setStartAt(h, CKEDITOR.POSITION_BEFORE_START)), 
                                        h = h.getFirst();
                                        continue;
                                    }
                                    g = 1;
                                }
                            }
                            if (g && !r && (r = this.range.clone(), r.setStartAt(h, CKEDITOR.POSITION_BEFORE_START)), 
                            s = (!f || g) && h.equals(u), r && !f) for (;!h.getNext(i) && !s; ) {
                                if (p = h.getParent(), p.isBlockBoundary(this.forceBrBreak && !m && {
                                    br: 1
                                })) {
                                    f = 1, g = 0, s || p.equals(u), r.setEndAt(p, CKEDITOR.POSITION_BEFORE_END);
                                    break;
                                }
                                h = p, g = 1, s = h.equals(u), E = 1;
                            }
                            if (g && r.setEndAt(h, CKEDITOR.POSITION_AFTER_END), h = this._getNextSourceNode(h, E, u), 
                            (s = !h) || f && r) break;
                        }
                        if (!a) {
                            if (!r) return this._.docEndMarker && this._.docEndMarker.remove(), this._.nextNode = null;
                            a = new CKEDITOR.dom.elementPath(r.startContainer, r.root), h = a.blockLimit, f = {
                                div: 1,
                                th: 1,
                                td: 1
                            }, a = a.block, !a && h && !this.enforceRealBlocks && f[h.getName()] && r.checkStartOfBlock() && r.checkEndOfBlock() && !h.equals(r.root) ? a = h : !a || this.enforceRealBlocks && a.is(o) ? (a = this.range.document.createElement(n), 
                            r.extractContents().appendTo(a), a.trim(), r.insertNode(a), l = d = !0) : "li" != a.getName() ? r.checkStartOfBlock() && r.checkEndOfBlock() || (a = a.clone(!1), 
                            r.extractContents().appendTo(a), a.trim(), d = r.splitBlock(), l = !d.wasStartOfBlock, 
                            d = !d.wasEndOfBlock, r.insertNode(a)) : s || (this._.nextNode = a.equals(u) ? null : this._getNextSourceNode(r.getBoundaryNodes().endNode, 1, u));
                        }
                        return l && (l = a.getPrevious()) && l.type == CKEDITOR.NODE_ELEMENT && ("br" == l.getName() ? l.remove() : l.getLast() && "br" == l.getLast().$.nodeName.toLowerCase() && l.getLast().remove()), 
                        d && (l = a.getLast()) && l.type == CKEDITOR.NODE_ELEMENT && "br" == l.getName() && (!CKEDITOR.env.needsBrFiller || l.getPrevious(t) || l.getNext(t)) && l.remove(), 
                        this._.nextNode || (this._.nextNode = s || a.equals(u) || !u ? null : this._getNextSourceNode(a, 1, u)), 
                        a;
                    },
                    _getNextSourceNode: function(e, n, i) {
                        function d(e) {
                            return !(e.equals(i) || e.equals(o));
                        }
                        var o = this.range.root;
                        for (e = e.getNextSourceNode(n, null, d); !t(e); ) e = e.getNextSourceNode(n, null, d);
                        return e;
                    }
                }, CKEDITOR.dom.range.prototype.createIterator = function() {
                    return new a(this);
                };
            }(), CKEDITOR.command = function(e, t) {
                this.uiItems = [], this.exec = function(n) {
                    return !(this.state == CKEDITOR.TRISTATE_DISABLED || !this.checkAllowed()) && (this.editorFocus && e.focus(), 
                    !1 === this.fire("exec") || !1 !== t.exec.call(this, e, n));
                }, this.refresh = function(e, n) {
                    return !(this.readOnly || !e.readOnly) || (this.context && !n.isContextFor(this.context) || !this.checkAllowed(!0) ? (this.disable(), 
                    !0) : (this.startDisabled || this.enable(), this.modes && !this.modes[e.mode] && this.disable(), 
                    !1 === this.fire("refresh", {
                        editor: e,
                        path: n
                    }) || t.refresh && !1 !== t.refresh.apply(this, arguments)));
                };
                var n;
                this.checkAllowed = function(t) {
                    return t || "boolean" != typeof n ? n = e.activeFilter.checkFeature(this) : n;
                }, CKEDITOR.tools.extend(this, t, {
                    modes: {
                        wysiwyg: 1
                    },
                    editorFocus: 1,
                    contextSensitive: !!t.context,
                    state: CKEDITOR.TRISTATE_DISABLED
                }), CKEDITOR.event.call(this);
            }, CKEDITOR.command.prototype = {
                enable: function() {
                    this.state == CKEDITOR.TRISTATE_DISABLED && this.checkAllowed() && this.setState(this.preserveState && void 0 !== this.previousState ? this.previousState : CKEDITOR.TRISTATE_OFF);
                },
                disable: function() {
                    this.setState(CKEDITOR.TRISTATE_DISABLED);
                },
                setState: function(e) {
                    return !(this.state == e || e != CKEDITOR.TRISTATE_DISABLED && !this.checkAllowed()) && (this.previousState = this.state, 
                    this.state = e, this.fire("state"), !0);
                },
                toggleState: function() {
                    this.state == CKEDITOR.TRISTATE_OFF ? this.setState(CKEDITOR.TRISTATE_ON) : this.state == CKEDITOR.TRISTATE_ON && this.setState(CKEDITOR.TRISTATE_OFF);
                }
            }, CKEDITOR.event.implementOn(CKEDITOR.command.prototype), CKEDITOR.ENTER_P = 1, 
            CKEDITOR.ENTER_BR = 2, CKEDITOR.ENTER_DIV = 3, CKEDITOR.config = {
                customConfig: "config.js",
                autoUpdateElement: !0,
                language: "",
                defaultLanguage: "en",
                contentsLangDirection: "",
                enterMode: CKEDITOR.ENTER_P,
                forceEnterMode: !1,
                shiftEnterMode: CKEDITOR.ENTER_BR,
                docType: "<!DOCTYPE html>",
                bodyId: "",
                bodyClass: "",
                fullPage: !1,
                height: 200,
                contentsCss: CKEDITOR.getUrl("contents.css"),
                extraPlugins: "",
                removePlugins: "",
                protectedSource: [],
                tabIndex: 0,
                width: "",
                baseFloatZIndex: 1e4,
                blockedKeystrokes: [ CKEDITOR.CTRL + 66, CKEDITOR.CTRL + 73, CKEDITOR.CTRL + 85 ]
            }, function() {
                function a(e, t, n, i, a) {
                    var r, s;
                    e = [];
                    for (r in t) {
                        s = t[r], s = "boolean" == typeof s ? {} : "function" == typeof s ? {
                            match: s
                        } : o(s), "$" != r.charAt(0) && (s.elements = r), n && (s.featureName = n.toLowerCase());
                        var l = s;
                        l.elements = k(l.elements, /\s+/) || null, l.propertiesOnly = l.propertiesOnly || !0 === l.elements;
                        var c = /\s*,\s*/, d = void 0;
                        for (d in I) {
                            l[d] = k(l[d], c) || null;
                            var u = l, h = O[d], f = k(l[O[d]], c), m = l[d], g = [], E = !0, p = void 0;
                            f ? E = !1 : f = {};
                            for (p in m) "!" == p.charAt(0) && (p = p.slice(1), g.push(p), f[p] = !0, E = !1);
                            for (;p = g.pop(); ) m[p] = m["!" + p], delete m["!" + p];
                            u[h] = !E && f || null;
                        }
                        l.match = l.match || null, i.push(s), e.push(s);
                    }
                    t = a.elements, a = a.generic;
                    var T;
                    for (n = 0, i = e.length; n < i; ++n) {
                        r = o(e[n]), s = !0 === r.classes || !0 === r.styles || !0 === r.attributes, l = r, 
                        d = h = c = void 0;
                        for (c in I) l[c] = v(l[c]);
                        u = !0;
                        for (d in O) {
                            c = O[d], h = l[c], f = [], m = void 0;
                            for (m in h) -1 < m.indexOf("*") ? f.push(new RegExp("^" + m.replace(/\*/g, ".*") + "$")) : f.push(m);
                            h = f, h.length && (l[c] = h, u = !1);
                        }
                        if (l.nothingRequired = u, l.noProperties = !(l.attributes || l.classes || l.styles), 
                        !0 === r.elements || null === r.elements) a[s ? "unshift" : "push"](r); else for (T in l = r.elements, 
                        delete r.elements, l) t[T] ? t[T][s ? "unshift" : "push"](r) : t[T] = [ r ];
                    }
                }
                function f(e, t, n, i) {
                    if ((!e.match || e.match(t)) && (i || d(e, t)) && (e.propertiesOnly || (n.valid = !0), 
                    n.allAttributes || (n.allAttributes = b(e.attributes, t.attributes, n.validAttributes)), 
                    n.allStyles || (n.allStyles = b(e.styles, t.styles, n.validStyles)), !n.allClasses)) {
                        if (e = e.classes, t = t.classes, i = n.validClasses, e) if (!0 === e) e = !0; else {
                            for (var o, a = 0, r = t.length; a < r; ++a) o = t[a], i[o] || (i[o] = e(o));
                            e = !1;
                        } else e = !1;
                        n.allClasses = e;
                    }
                }
                function b(e, t, n) {
                    if (!e) return !1;
                    if (!0 === e) return !0;
                    for (var i in t) n[i] || (n[i] = e(i));
                    return !1;
                }
                function c(t, n, i) {
                    if (!t.match || t.match(n)) {
                        if (t.noProperties) return !1;
                        if (i.hadInvalidAttribute = e(t.attributes, n.attributes) || i.hadInvalidAttribute, 
                        i.hadInvalidStyle = e(t.styles, n.styles) || i.hadInvalidStyle, t = t.classes, n = n.classes, 
                        t) {
                            for (var o = !1, a = !0 === t, r = n.length; r--; ) (a || t(n[r])) && (n.splice(r, 1), 
                            o = !0);
                            t = o;
                        } else t = !1;
                        i.hadInvalidClass = t || i.hadInvalidClass;
                    }
                }
                function e(e, t) {
                    if (!e) return !1;
                    var n, i = !1, o = !0 === e;
                    for (n in t) (o || e(n)) && (delete t[n], i = !0);
                    return i;
                }
                function l(e, t, n) {
                    return !(e.disabled || e.customConfig && !n || !t) && (e._.cachedChecks = {}, !0);
                }
                function k(e, t) {
                    if (!e) return !1;
                    if (!0 === e) return e;
                    if ("string" == typeof e) return "*" == (e = s(e)) || CKEDITOR.tools.convertArrayToObject(e.split(t));
                    if (CKEDITOR.tools.isArray(e)) return !!e.length && CKEDITOR.tools.convertArrayToObject(e);
                    var n, i = {}, o = 0;
                    for (n in e) i[n] = e[n], o++;
                    return !!o && i;
                }
                function d(e, t) {
                    if (e.nothingRequired) return !0;
                    var n, i, o, a;
                    if (o = e.requiredClasses) for (a = t.classes, n = 0; n < o.length; ++n) if ("string" == typeof (i = o[n])) {
                        if (-1 == CKEDITOR.tools.indexOf(a, i)) return !1;
                    } else if (!CKEDITOR.tools.checkIfAnyArrayItemMatches(a, i)) return !1;
                    return h(t.styles, e.requiredStyles) && h(t.attributes, e.requiredAttributes);
                }
                function h(e, t) {
                    if (!t) return !0;
                    for (var n, i = 0; i < t.length; ++i) if ("string" == typeof (n = t[i])) {
                        if (!(n in e)) return !1;
                    } else if (!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(e, n)) return !1;
                    return !0;
                }
                function m(e) {
                    if (!e) return {};
                    e = e.split(/\s*,\s*/).sort();
                    for (var t = {}; e.length; ) t[e.shift()] = "cke-test";
                    return t;
                }
                function g(e) {
                    var t, i, o, a, r = {}, l = 1;
                    for (e = s(e); t = e.match(R); ) (i = t[2]) ? (o = n(i, "styles"), a = n(i, "attrs"), 
                    i = n(i, "classes")) : o = a = i = null, r["$" + l++] = {
                        elements: t[1],
                        classes: i,
                        styles: o,
                        attributes: a
                    }, e = e.slice(t[0].length);
                    return r;
                }
                function n(e, t) {
                    var n = e.match(K[t]);
                    return n ? s(n[1]) : null;
                }
                function r(e) {
                    var t = e.styleBackup = e.attributes.style, n = e.classBackup = e.attributes.class;
                    e.styles || (e.styles = CKEDITOR.tools.parseCssText(t || "", 1)), e.classes || (e.classes = n ? n.split(/\s+/) : []);
                }
                function q(e, t, n, i) {
                    var o, a = 0;
                    if (i.toHtml && (t.name = t.name.replace(_, "$1")), i.doCallbacks && e.elementCallbacks) {
                        e: {
                            o = e.elementCallbacks;
                            for (var s, l = 0, d = o.length; l < d; ++l) if (s = o[l](t)) {
                                o = s;
                                break e;
                            }
                            o = void 0;
                        }
                        if (o) return o;
                    }
                    if (i.doTransform && (o = e._.transformations[t.name])) {
                        for (r(t), l = 0; l < o.length; ++l) A(e, t, o[l]);
                        w(t);
                    }
                    if (i.doFilter) {
                        e: {
                            l = t.name, d = e._, e = d.allowedRules.elements[l], o = d.allowedRules.generic, 
                            l = d.disallowedRules.elements[l], d = d.disallowedRules.generic, s = i.skipRequired;
                            var u, h, m = {
                                valid: !1,
                                validAttributes: {},
                                validClasses: {},
                                validStyles: {},
                                allAttributes: !1,
                                allClasses: !1,
                                allStyles: !1,
                                hadInvalidAttribute: !1,
                                hadInvalidClass: !1,
                                hadInvalidStyle: !1
                            };
                            if (e || o) {
                                if (r(t), l) for (u = 0, h = l.length; u < h; ++u) if (!1 === c(l[u], t, m)) {
                                    e = null;
                                    break e;
                                }
                                if (d) for (u = 0, h = d.length; u < h; ++u) c(d[u], t, m);
                                if (e) for (u = 0, h = e.length; u < h; ++u) f(e[u], t, m, s);
                                if (o) for (u = 0, h = o.length; u < h; ++u) f(o[u], t, m, s);
                                e = m;
                            } else e = null;
                        }
                        if (!e || !e.valid) return n.push(t), 1;
                        h = e.validAttributes;
                        var g = e.validStyles;
                        o = e.validClasses;
                        var l = t.attributes, E = t.styles, d = t.classes;
                        s = t.classBackup;
                        var T, C, I = t.styleBackup, O = [], m = [], D = /^data-cke-/;
                        if (u = !1, delete l.style, delete l.class, delete t.classBackup, delete t.styleBackup, 
                        !e.allAttributes) for (T in l) h[T] || (D.test(T) ? T == (C = T.replace(/^data-cke-saved-/, "")) || h[C] || (delete l[T], 
                        u = !0) : (delete l[T], u = !0));
                        if (!e.allStyles || e.hadInvalidStyle) {
                            for (T in E) e.allStyles || g[T] ? O.push(T + ":" + E[T]) : u = !0;
                            O.length && (l.style = O.sort().join("; "));
                        } else I && (l.style = I);
                        if (!e.allClasses || e.hadInvalidClass) {
                            for (T = 0; T < d.length; ++T) (e.allClasses || o[d[T]]) && m.push(d[T]);
                            m.length && (l.class = m.sort().join(" ")), s && m.length < s.split(/\s+/).length && (u = !0);
                        } else s && (l.class = s);
                        if (u && (a = 1), !i.skipFinalValidation && !p(t)) return n.push(t), 1;
                    }
                    return i.toHtml && (t.name = t.name.replace(N, "cke:$1")), a;
                }
                function y(e) {
                    var t, n = [];
                    for (t in e) -1 < t.indexOf("*") && n.push(t.replace(/\*/g, ".*"));
                    return n.length ? new RegExp("^(?:" + n.join("|") + ")$") : null;
                }
                function w(e) {
                    var t, n = e.attributes;
                    delete n.style, delete n.class, (t = CKEDITOR.tools.writeCssText(e.styles, !0)) && (n.style = t), 
                    e.classes.length && (n.class = e.classes.sort().join(" "));
                }
                function p(e) {
                    switch (e.name) {
                      case "a":
                        if (!(e.children.length || e.attributes.name || e.attributes.id)) return !1;
                        break;

                      case "img":
                        if (!e.attributes.src) return !1;
                    }
                    return !0;
                }
                function v(e) {
                    if (!e) return !1;
                    if (!0 === e) return !0;
                    var t = y(e);
                    return function(n) {
                        return n in e || t && n.match(t);
                    };
                }
                function u() {
                    return new CKEDITOR.htmlParser.element("br");
                }
                function z(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && ("br" == e.name || i.$block[e.name]);
                }
                function t(e, t, n) {
                    var o = e.name;
                    if (i.$empty[o] || !e.children.length) "hr" == o && "br" == t ? e.replaceWith(u()) : (e.parent && n.push({
                        check: "it",
                        el: e.parent
                    }), e.remove()); else if (i.$block[o] || "tr" == o) if ("br" == t) e.previous && !z(e.previous) && (t = u(), 
                    t.insertBefore(e)), e.next && !z(e.next) && (t = u(), t.insertAfter(e)), e.replaceWithChildren(); else {
                        var a, o = e.children;
                        e: {
                            a = i[t];
                            for (var r, s = 0, l = o.length; s < l; ++s) if (r = o[s], r.type == CKEDITOR.NODE_ELEMENT && !a[r.name]) {
                                a = !1;
                                break e;
                            }
                            a = !0;
                        }
                        if (a) e.name = t, e.attributes = {}, n.push({
                            check: "parent-down",
                            el: e
                        }); else {
                            a = e.parent;
                            for (var c, d, s = a.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || "body" == a.name, l = o.length; 0 < l; ) r = o[--l], 
                            s && (r.type == CKEDITOR.NODE_TEXT || r.type == CKEDITOR.NODE_ELEMENT && i.$inline[r.name]) ? (c || (c = new CKEDITOR.htmlParser.element(t), 
                            c.insertAfter(e), n.push({
                                check: "parent-down",
                                el: c
                            })), c.add(r, 0)) : (c = null, d = i[a.name] || i.span, r.insertAfter(e), a.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || r.type != CKEDITOR.NODE_ELEMENT || d[r.name] || n.push({
                                check: "el-up",
                                el: r
                            }));
                            e.remove();
                        }
                    } else o in {
                        style: 1,
                        script: 1
                    } ? e.remove() : (e.parent && n.push({
                        check: "it",
                        el: e.parent
                    }), e.replaceWithChildren());
                }
                function A(e, t, n) {
                    var i, o;
                    for (i = 0; i < n.length; ++i) if (o = n[i], !(o.check && !e.check(o.check, !1) || o.left && !o.left(t))) {
                        o.right(t, C);
                        break;
                    }
                }
                function D(e, t) {
                    var n, i, o, a, r = t.getDefinition(), s = r.attributes, l = r.styles;
                    if (e.name != r.element) return !1;
                    for (n in s) if ("class" == n) {
                        for (r = s[n].split(/\s+/), o = e.classes.join("|"); a = r.pop(); ) if (-1 == o.indexOf(a)) return !1;
                    } else if (e.attributes[n] != s[n]) return !1;
                    for (i in l) if (e.styles[i] != l[i]) return !1;
                    return !0;
                }
                function x(e, t) {
                    var n, i;
                    return "string" == typeof e ? n = e : e instanceof CKEDITOR.style ? i = e : (n = e[0], 
                    i = e[1]), [ {
                        element: n,
                        left: i,
                        right: function(e, n) {
                            n.transform(e, t);
                        }
                    } ];
                }
                function B(e) {
                    return function(t) {
                        return D(t, e);
                    };
                }
                function E(e) {
                    return function(t, n) {
                        n[e](t);
                    };
                }
                var i = CKEDITOR.dtd, o = CKEDITOR.tools.copy, s = CKEDITOR.tools.trim, T = [ "", "p", "br", "div" ];
                CKEDITOR.FILTER_SKIP_TREE = 2, CKEDITOR.filter = function(e) {
                    if (this.allowedContent = [], this.disallowedContent = [], this.elementCallbacks = null, 
                    this.disabled = !1, this.editor = null, this.id = CKEDITOR.tools.getNextNumber(), 
                    this._ = {
                        allowedRules: {
                            elements: {},
                            generic: []
                        },
                        disallowedRules: {
                            elements: {},
                            generic: []
                        },
                        transformations: {},
                        cachedTests: {}
                    }, CKEDITOR.filter.instances[this.id] = this, e instanceof CKEDITOR.editor) {
                        e = this.editor = e, this.customConfig = !0;
                        var t = e.config.allowedContent;
                        !0 === t ? this.disabled = !0 : (t || (this.customConfig = !1), this.allow(t, "config", 1), 
                        this.allow(e.config.extraAllowedContent, "extra", 1), this.allow(T[e.enterMode] + " " + T[e.shiftEnterMode], "default", 1), 
                        this.disallow(e.config.disallowedContent));
                    } else this.customConfig = !1, this.allow(e, "default", 1);
                }, CKEDITOR.filter.instances = {}, CKEDITOR.filter.prototype = {
                    allow: function(e, t, n) {
                        if (!l(this, e, n)) return !1;
                        var i, r;
                        if ("string" == typeof e) e = g(e); else if (e instanceof CKEDITOR.style) {
                            if (e.toAllowedContentRules) return this.allow(e.toAllowedContentRules(this.editor), t, n);
                            i = e.getDefinition(), e = {}, n = i.attributes, e[i.element] = i = {
                                styles: i.styles,
                                requiredStyles: i.styles && CKEDITOR.tools.objectKeys(i.styles)
                            }, n && (n = o(n), i.classes = n.class ? n.class.split(/\s+/) : null, i.requiredClasses = i.classes, 
                            delete n.class, i.attributes = n, i.requiredAttributes = n && CKEDITOR.tools.objectKeys(n));
                        } else if (CKEDITOR.tools.isArray(e)) {
                            for (i = 0; i < e.length; ++i) r = this.allow(e[i], t, n);
                            return r;
                        }
                        return a(this, e, t, this.allowedContent, this._.allowedRules), !0;
                    },
                    applyTo: function(e, n, o, a) {
                        if (this.disabled) return !1;
                        var r, s = this, l = [], c = this.editor && this.editor.config.protectedSource, d = !1, u = {
                            doFilter: !o,
                            doTransform: !0,
                            doCallbacks: !0,
                            toHtml: n
                        };
                        e.forEach(function(e) {
                            if (e.type == CKEDITOR.NODE_ELEMENT) {
                                if ("off" == e.attributes["data-cke-filter"]) return !1;
                                if (!n || "span" != e.name || !~CKEDITOR.tools.objectKeys(e.attributes).join("|").indexOf("data-cke-")) if (1 & (r = q(s, e, l, u))) d = !0; else if (2 & r) return !1;
                            } else if (e.type == CKEDITOR.NODE_COMMENT && e.value.match(/^\{cke_protected\}(?!\{C\})/)) {
                                var t;
                                e: {
                                    var i = decodeURIComponent(e.value.replace(/^\{cke_protected\}/, ""));
                                    t = [];
                                    var o, a, h;
                                    if (c) for (a = 0; a < c.length; ++a) if ((h = i.match(c[a])) && h[0].length == i.length) {
                                        t = !0;
                                        break e;
                                    }
                                    i = CKEDITOR.htmlParser.fragment.fromHtml(i), 1 == i.children.length && (o = i.children[0]).type == CKEDITOR.NODE_ELEMENT && q(s, o, t, u), 
                                    t = !t.length;
                                }
                                t || l.push(e);
                            }
                        }, null, !0), l.length && (d = !0);
                        var h;
                        e = [], a = T[a || (this.editor ? this.editor.enterMode : CKEDITOR.ENTER_P)];
                        for (var f; o = l.pop(); ) o.type == CKEDITOR.NODE_ELEMENT ? t(o, a, e) : o.remove();
                        for (;h = e.pop(); ) if (o = h.el, o.parent) switch (f = i[o.parent.name] || i.span, 
                        h.check) {
                          case "it":
                            i.$removeEmpty[o.name] && !o.children.length ? t(o, a, e) : p(o) || t(o, a, e);
                            break;

                          case "el-up":
                            o.parent.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || f[o.name] || t(o, a, e);
                            break;

                          case "parent-down":
                            o.parent.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || f[o.name] || t(o.parent, a, e);
                        }
                        return d;
                    },
                    checkFeature: function(e) {
                        return !(!this.disabled && e) || (e.toFeature && (e = e.toFeature(this.editor)), 
                        !e.requiredContent || this.check(e.requiredContent));
                    },
                    disable: function() {
                        this.disabled = !0;
                    },
                    disallow: function(e) {
                        return !!l(this, e, !0) && ("string" == typeof e && (e = g(e)), a(this, e, null, this.disallowedContent, this._.disallowedRules), 
                        !0);
                    },
                    addContentForms: function(e) {
                        if (!this.disabled && e) {
                            var t, n, i, o = [];
                            for (t = 0; t < e.length && !i; ++t) ("string" == typeof (n = e[t]) || n instanceof CKEDITOR.style) && this.check(n) && (i = n);
                            if (i) {
                                for (t = 0; t < e.length; ++t) o.push(x(e[t], i));
                                this.addTransformations(o);
                            }
                        }
                    },
                    addElementCallback: function(e) {
                        this.elementCallbacks || (this.elementCallbacks = []), this.elementCallbacks.push(e);
                    },
                    addFeature: function(e) {
                        return !(!this.disabled && e) || (e.toFeature && (e = e.toFeature(this.editor)), 
                        this.allow(e.allowedContent, e.name), this.addTransformations(e.contentTransformations), 
                        this.addContentForms(e.contentForms), !e.requiredContent || !this.customConfig && !this.disallowedContent.length || this.check(e.requiredContent));
                    },
                    addTransformations: function(e) {
                        var t, n;
                        if (!this.disabled && e) {
                            var i, o = this._.transformations;
                            for (i = 0; i < e.length; ++i) {
                                t = e[i];
                                var a = void 0, r = void 0, s = void 0, l = void 0, c = void 0, d = void 0;
                                for (n = [], r = 0; r < t.length; ++r) s = t[r], "string" == typeof s ? (s = s.split(/\s*:\s*/), 
                                l = s[0], c = null, d = s[1]) : (l = s.check, c = s.left, d = s.right), a || (a = s, 
                                a = a.element ? a.element : l ? l.match(/^([a-z0-9]+)/i)[0] : a.left.getDefinition().element), 
                                c instanceof CKEDITOR.style && (c = B(c)), n.push({
                                    check: l == a ? null : l,
                                    left: c,
                                    right: "string" == typeof d ? E(d) : d
                                });
                                t = a, o[t] || (o[t] = []), o[t].push(n);
                            }
                        }
                    },
                    check: function(e, t, n) {
                        if (this.disabled) return !0;
                        if (CKEDITOR.tools.isArray(e)) {
                            for (var i = e.length; i--; ) if (this.check(e[i], t, n)) return !0;
                            return !1;
                        }
                        var a, r;
                        if ("string" == typeof e) {
                            if ((r = e + "<" + (!1 === t ? "0" : "1") + (n ? "1" : "0") + ">") in this._.cachedChecks) return this._.cachedChecks[r];
                            i = g(e).$1, a = i.styles;
                            var s = i.classes;
                            i.name = i.elements, i.classes = s = s ? s.split(/\s*,\s*/) : [], i.styles = m(a), 
                            i.attributes = m(i.attributes), i.children = [], s.length && (i.attributes.class = s.join(" ")), 
                            a && (i.attributes.style = CKEDITOR.tools.writeCssText(i.styles)), a = i;
                        } else i = e.getDefinition(), a = i.styles, s = i.attributes || {}, a && !CKEDITOR.tools.isEmpty(a) ? (a = o(a), 
                        s.style = CKEDITOR.tools.writeCssText(a, !0)) : a = {}, a = {
                            name: i.element,
                            attributes: s,
                            classes: s.class ? s.class.split(/\s+/) : [],
                            styles: a,
                            children: []
                        };
                        var l, s = CKEDITOR.tools.clone(a), c = [];
                        if (!1 !== t && (l = this._.transformations[a.name])) {
                            for (i = 0; i < l.length; ++i) A(this, a, l[i]);
                            w(a);
                        }
                        return q(this, s, c, {
                            doFilter: !0,
                            doTransform: !1 !== t,
                            skipRequired: !n,
                            skipFinalValidation: !n
                        }), t = !(0 < c.length) && !!CKEDITOR.tools.objectCompare(a.attributes, s.attributes, !0), 
                        "string" == typeof e && (this._.cachedChecks[r] = t), t;
                    },
                    getAllowedEnterMode: function() {
                        var e = [ "p", "div", "br" ], t = {
                            p: CKEDITOR.ENTER_P,
                            div: CKEDITOR.ENTER_DIV,
                            br: CKEDITOR.ENTER_BR
                        };
                        return function(n, i) {
                            var o, a = e.slice();
                            if (this.check(T[n])) return n;
                            for (i || (a = a.reverse()); o = a.pop(); ) if (this.check(o)) return t[o];
                            return CKEDITOR.ENTER_BR;
                        };
                    }(),
                    destroy: function() {
                        delete CKEDITOR.filter.instances[this.id], delete this._, delete this.allowedContent, 
                        delete this.disallowedContent;
                    }
                };
                var C, I = {
                    styles: 1,
                    attributes: 1,
                    classes: 1
                }, O = {
                    styles: "requiredStyles",
                    attributes: "requiredAttributes",
                    classes: "requiredClasses"
                }, R = /^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i, K = {
                    styles: /{([^}]+)}/,
                    attrs: /\[([^\]]+)\]/,
                    classes: /\(([^\)]+)\)/
                }, _ = /^cke:(object|embed|param)$/, N = /^(object|embed|param)$/;
                C = CKEDITOR.filter.transformationsTools = {
                    sizeToStyle: function(e) {
                        this.lengthToStyle(e, "width"), this.lengthToStyle(e, "height");
                    },
                    sizeToAttribute: function(e) {
                        this.lengthToAttribute(e, "width"), this.lengthToAttribute(e, "height");
                    },
                    lengthToStyle: function(e, t, n) {
                        if (!((n = n || t) in e.styles)) {
                            var i = e.attributes[t];
                            i && (/^\d+$/.test(i) && (i += "px"), e.styles[n] = i);
                        }
                        delete e.attributes[t];
                    },
                    lengthToAttribute: function(e, t, n) {
                        if (!((n = n || t) in e.attributes)) {
                            var i = e.styles[t], o = i && i.match(/^(\d+)(?:\.\d*)?px$/);
                            o ? e.attributes[n] = o[1] : "cke-test" == i && (e.attributes[n] = "cke-test");
                        }
                        delete e.styles[t];
                    },
                    alignmentToStyle: function(e) {
                        if (!("float" in e.styles)) {
                            var t = e.attributes.align;
                            "left" != t && "right" != t || (e.styles.float = t);
                        }
                        delete e.attributes.align;
                    },
                    alignmentToAttribute: function(e) {
                        if (!("align" in e.attributes)) {
                            var t = e.styles.float;
                            "left" != t && "right" != t || (e.attributes.align = t);
                        }
                        delete e.styles.float;
                    },
                    splitBorderShorthand: function(e) {
                        function b(n) {
                            e.styles["border-top-width"] = t[n[0]], e.styles["border-right-width"] = t[n[1]], 
                            e.styles["border-bottom-width"] = t[n[2]], e.styles["border-left-width"] = t[n[3]];
                        }
                        if (e.styles.border) {
                            var t = e.styles.border.match(/([\.\d]+\w+)/g) || [ "0px" ];
                            switch (t.length) {
                              case 1:
                                e.styles["border-width"] = t[0];
                                break;

                              case 2:
                                b([ 0, 1, 0, 1 ]);
                                break;

                              case 3:
                                b([ 0, 1, 2, 1 ]);
                                break;

                              case 4:
                                b([ 0, 1, 2, 3 ]);
                            }
                            e.styles["border-style"] = e.styles["border-style"] || (e.styles.border.match(/(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|initial|inherit)/) || [])[0], 
                            e.styles["border-style"] || delete e.styles["border-style"], delete e.styles.border;
                        }
                    },
                    listTypeToStyle: function(e) {
                        if (e.attributes.type) switch (e.attributes.type) {
                          case "a":
                            e.styles["list-style-type"] = "lower-alpha";
                            break;

                          case "A":
                            e.styles["list-style-type"] = "upper-alpha";
                            break;

                          case "i":
                            e.styles["list-style-type"] = "lower-roman";
                            break;

                          case "I":
                            e.styles["list-style-type"] = "upper-roman";
                            break;

                          case "1":
                            e.styles["list-style-type"] = "decimal";
                            break;

                          default:
                            e.styles["list-style-type"] = e.attributes.type;
                        }
                    },
                    splitMarginShorthand: function(e) {
                        function b(n) {
                            e.styles["margin-top"] = t[n[0]], e.styles["margin-right"] = t[n[1]], e.styles["margin-bottom"] = t[n[2]], 
                            e.styles["margin-left"] = t[n[3]];
                        }
                        if (e.styles.margin) {
                            var t = e.styles.margin.match(/(\-?[\.\d]+\w+)/g) || [ "0px" ];
                            switch (t.length) {
                              case 1:
                                b([ 0, 0, 0, 0 ]);
                                break;

                              case 2:
                                b([ 0, 1, 0, 1 ]);
                                break;

                              case 3:
                                b([ 0, 1, 2, 1 ]);
                                break;

                              case 4:
                                b([ 0, 1, 2, 3 ]);
                            }
                            delete e.styles.margin;
                        }
                    },
                    matchesStyle: D,
                    transform: function(e, t) {
                        if ("string" == typeof t) e.name = t; else {
                            var n, i, o, a, r = t.getDefinition(), s = r.styles, l = r.attributes;
                            e.name = r.element;
                            for (n in l) if ("class" == n) for (r = e.classes.join("|"), o = l[n].split(/\s+/); a = o.pop(); ) -1 == r.indexOf(a) && e.classes.push(a); else e.attributes[n] = l[n];
                            for (i in s) e.styles[i] = s[i];
                        }
                    }
                };
            }(), function() {
                CKEDITOR.focusManager = function(e) {
                    return e.focusManager ? e.focusManager : (this.hasFocus = !1, this.currentActive = null, 
                    this._ = {
                        editor: e
                    }, this);
                }, CKEDITOR.focusManager._ = {
                    blurDelay: 200
                }, CKEDITOR.focusManager.prototype = {
                    focus: function(e) {
                        this._.timer && clearTimeout(this._.timer), e && (this.currentActive = e), this.hasFocus || this._.locked || ((e = CKEDITOR.currentInstance) && e.focusManager.blur(1), 
                        this.hasFocus = !0, (e = this._.editor.container) && e.addClass("cke_focus"), this._.editor.fire("focus"));
                    },
                    lock: function() {
                        this._.locked = 1;
                    },
                    unlock: function() {
                        delete this._.locked;
                    },
                    blur: function(e) {
                        function f() {
                            if (this.hasFocus) {
                                this.hasFocus = !1;
                                var e = this._.editor.container;
                                e && e.removeClass("cke_focus"), this._.editor.fire("blur");
                            }
                        }
                        if (!this._.locked) {
                            this._.timer && clearTimeout(this._.timer);
                            var t = CKEDITOR.focusManager._.blurDelay;
                            e || !t ? f.call(this) : this._.timer = CKEDITOR.tools.setTimeout(function() {
                                delete this._.timer, f.call(this);
                            }, t, this);
                        }
                    },
                    add: function(e, t) {
                        var n = e.getCustomData("focusmanager");
                        if (!n || n != this) {
                            n && n.remove(e);
                            var n = "focus", i = "blur";
                            t && (CKEDITOR.env.ie ? (n = "focusin", i = "focusout") : CKEDITOR.event.useCapture = 1);
                            var o = {
                                blur: function() {
                                    e.equals(this.currentActive) && this.blur();
                                },
                                focus: function() {
                                    this.focus(e);
                                }
                            };
                            e.on(n, o.focus, this), e.on(i, o.blur, this), t && (CKEDITOR.event.useCapture = 0), 
                            e.setCustomData("focusmanager", this), e.setCustomData("focusmanager_handlers", o);
                        }
                    },
                    remove: function(e) {
                        e.removeCustomData("focusmanager");
                        var t = e.removeCustomData("focusmanager_handlers");
                        e.removeListener("blur", t.blur), e.removeListener("focus", t.focus);
                    }
                };
            }(), CKEDITOR.keystrokeHandler = function(e) {
                return e.keystrokeHandler ? e.keystrokeHandler : (this.keystrokes = {}, this.blockedKeystrokes = {}, 
                this._ = {
                    editor: e
                }, this);
            }, function() {
                var e, t = function(t) {
                    t = t.data;
                    var n = t.getKeystroke(), i = this.keystrokes[n], o = this._.editor;
                    return e = !1 === o.fire("key", {
                        keyCode: n,
                        domEvent: t
                    }), e || (i && (e = !1 !== o.execCommand(i, {
                        from: "keystrokeHandler"
                    })), e || (e = !!this.blockedKeystrokes[n])), e && t.preventDefault(!0), !e;
                }, n = function(t) {
                    e && (e = !1, t.data.preventDefault(!0));
                };
                CKEDITOR.keystrokeHandler.prototype = {
                    attach: function(e) {
                        e.on("keydown", t, this), CKEDITOR.env.gecko && CKEDITOR.env.mac && e.on("keypress", n, this);
                    }
                };
            }(), function() {
                CKEDITOR.lang = {
                    languages: {
                        af: 1,
                        ar: 1,
                        az: 1,
                        bg: 1,
                        bn: 1,
                        bs: 1,
                        ca: 1,
                        cs: 1,
                        cy: 1,
                        da: 1,
                        de: 1,
                        "de-ch": 1,
                        el: 1,
                        "en-au": 1,
                        "en-ca": 1,
                        "en-gb": 1,
                        en: 1,
                        eo: 1,
                        es: 1,
                        "es-mx": 1,
                        et: 1,
                        eu: 1,
                        fa: 1,
                        fi: 1,
                        fo: 1,
                        "fr-ca": 1,
                        fr: 1,
                        gl: 1,
                        gu: 1,
                        he: 1,
                        hi: 1,
                        hr: 1,
                        hu: 1,
                        id: 1,
                        is: 1,
                        it: 1,
                        ja: 1,
                        ka: 1,
                        km: 1,
                        ko: 1,
                        ku: 1,
                        lt: 1,
                        lv: 1,
                        mk: 1,
                        mn: 1,
                        ms: 1,
                        nb: 1,
                        nl: 1,
                        no: 1,
                        oc: 1,
                        pl: 1,
                        "pt-br": 1,
                        pt: 1,
                        ro: 1,
                        ru: 1,
                        si: 1,
                        sk: 1,
                        sl: 1,
                        sq: 1,
                        "sr-latn": 1,
                        sr: 1,
                        sv: 1,
                        th: 1,
                        tr: 1,
                        tt: 1,
                        ug: 1,
                        uk: 1,
                        vi: 1,
                        "zh-cn": 1,
                        zh: 1
                    },
                    rtl: {
                        ar: 1,
                        fa: 1,
                        he: 1,
                        ku: 1,
                        ug: 1
                    },
                    load: function(e, t, n) {
                        e && CKEDITOR.lang.languages[e] || (e = this.detect(t, e));
                        var i = this;
                        t = function() {
                            i[e].dir = i.rtl[e] ? "rtl" : "ltr", n(e, i[e]);
                        }, this[e] ? t() : CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/" + e + ".js"), t, this);
                    },
                    detect: function(e, t) {
                        var n = this.languages;
                        t = t || navigator.userLanguage || navigator.language || e;
                        var i = t.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/), o = i[1], i = i[2];
                        return n[o + "-" + i] ? o = o + "-" + i : n[o] || (o = null), CKEDITOR.lang.detect = o ? function() {
                            return o;
                        } : function(e) {
                            return e;
                        }, o || e;
                    }
                };
            }(), CKEDITOR.scriptLoader = function() {
                var e = {}, t = {};
                return {
                    load: function(n, i, o, a) {
                        var r = "string" == typeof n;
                        r && (n = [ n ]), o || (o = CKEDITOR);
                        var s = n.length, l = [], c = [], d = function(e) {
                            i && (r ? i.call(o, e) : i.call(o, l, c));
                        };
                        if (0 === s) d(!0); else {
                            var u = function(e, t) {
                                (t ? l : c).push(e), 0 >= --s && (a && CKEDITOR.document.getDocumentElement().removeStyle("cursor"), 
                                d(t));
                            }, h = function(n, i) {
                                e[n] = 1;
                                var o = t[n];
                                delete t[n];
                                for (var a = 0; a < o.length; a++) o[a](n, i);
                            };
                            a && CKEDITOR.document.getDocumentElement().setStyle("cursor", "wait");
                            for (var f = 0; f < s; f++) !function(n) {
                                if (e[n]) u(n, !0); else {
                                    var o = t[n] || (t[n] = []);
                                    if (o.push(u), !(1 < o.length)) {
                                        var a = new CKEDITOR.dom.element("script");
                                        a.setAttributes({
                                            type: "text/javascript",
                                            src: n
                                        }), i && (CKEDITOR.env.ie && (8 >= CKEDITOR.env.version || CKEDITOR.env.ie9Compat) ? a.$.onreadystatechange = function() {
                                            "loaded" != a.$.readyState && "complete" != a.$.readyState || (a.$.onreadystatechange = null, 
                                            h(n, !0));
                                        } : (a.$.onload = function() {
                                            setTimeout(function() {
                                                h(n, !0);
                                            }, 0);
                                        }, a.$.onerror = function() {
                                            h(n, !1);
                                        })), a.appendTo(CKEDITOR.document.getHead());
                                    }
                                }
                            }(n[f]);
                        }
                    },
                    queue: function() {
                        function a() {
                            var t;
                            (t = e[0]) && this.load(t.scriptUrl, t.callback, CKEDITOR, 0);
                        }
                        var e = [];
                        return function(t, n) {
                            var i = this;
                            e.push({
                                scriptUrl: t,
                                callback: function() {
                                    n && n.apply(this, arguments), e.shift(), a.call(i);
                                }
                            }), 1 == e.length && a.call(this);
                        };
                    }()
                };
            }(), CKEDITOR.resourceManager = function(e, t) {
                this.basePath = e, this.fileName = t, this.registered = {}, this.loaded = {}, this.externals = {}, 
                this._ = {
                    waitingList: {}
                };
            }, CKEDITOR.resourceManager.prototype = {
                add: function(e, t) {
                    if (this.registered[e]) throw Error('[CKEDITOR.resourceManager.add] The resource name "' + e + '" is already registered.');
                    var n = this.registered[e] = t || {};
                    return n.name = e, n.path = this.getPath(e), CKEDITOR.fire(e + CKEDITOR.tools.capitalize(this.fileName) + "Ready", n), 
                    this.get(e);
                },
                get: function(e) {
                    return this.registered[e] || null;
                },
                getPath: function(e) {
                    var t = this.externals[e];
                    return CKEDITOR.getUrl(t && t.dir || this.basePath + e + "/");
                },
                getFilePath: function(e) {
                    var t = this.externals[e];
                    return CKEDITOR.getUrl(this.getPath(e) + (t ? t.file : this.fileName + ".js"));
                },
                addExternal: function(e, t, n) {
                    e = e.split(",");
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        n || (t = t.replace(/[^\/]+$/, function(e) {
                            return n = e, "";
                        })), this.externals[o] = {
                            dir: t,
                            file: n || this.fileName + ".js"
                        };
                    }
                },
                load: function(e, t, n) {
                    CKEDITOR.tools.isArray(e) || (e = e ? [ e ] : []);
                    for (var i = this.loaded, o = this.registered, a = [], r = {}, s = {}, l = 0; l < e.length; l++) {
                        var c = e[l];
                        if (c) if (i[c] || o[c]) s[c] = this.get(c); else {
                            var d = this.getFilePath(c);
                            a.push(d), d in r || (r[d] = []), r[d].push(c);
                        }
                    }
                    CKEDITOR.scriptLoader.load(a, function(e, o) {
                        if (o.length) throw Error('[CKEDITOR.resourceManager.load] Resource name "' + r[o[0]].join(",") + '" was not found at "' + o[0] + '".');
                        for (var a = 0; a < e.length; a++) for (var l = r[e[a]], c = 0; c < l.length; c++) {
                            var d = l[c];
                            s[d] = this.get(d), i[d] = 1;
                        }
                        t.call(n, s);
                    }, this);
                }
            }, CKEDITOR.plugins = new CKEDITOR.resourceManager("plugins/", "plugin"), CKEDITOR.plugins.load = CKEDITOR.tools.override(CKEDITOR.plugins.load, function(e) {
                var t = {};
                return function(n, i, o) {
                    var a = {}, r = function(n) {
                        e.call(this, n, function(e) {
                            CKEDITOR.tools.extend(a, e);
                            var n, s = [];
                            for (n in e) {
                                var l = e[n], c = l && l.requires;
                                if (!t[n]) {
                                    if (l.icons) for (var d = l.icons.split(","), u = d.length; u--; ) CKEDITOR.skin.addIcon(d[u], l.path + "icons/" + (CKEDITOR.env.hidpi && l.hidpi ? "hidpi/" : "") + d[u] + ".png");
                                    t[n] = 1;
                                }
                                if (c) for (c.split && (c = c.split(",")), l = 0; l < c.length; l++) a[c[l]] || s.push(c[l]);
                            }
                            if (s.length) r.call(this, s); else {
                                for (n in a) l = a[n], l.onLoad && !l.onLoad._called && (!1 === l.onLoad() && delete a[n], 
                                l.onLoad._called = 1);
                                i && i.call(o || window, a);
                            }
                        }, this);
                    };
                    r.call(this, n);
                };
            }), CKEDITOR.plugins.setLang = function(e, t, n) {
                var i = this.get(e);
                e = i.langEntries || (i.langEntries = {}), i = i.lang || (i.lang = []), i.split && (i = i.split(",")), 
                -1 == CKEDITOR.tools.indexOf(i, t) && i.push(t), e[t] = n;
            }, CKEDITOR.ui = function(e) {
                return e.ui ? e.ui : (this.items = {}, this.instances = {}, this.editor = e, this._ = {
                    handlers: {}
                }, this);
            }, CKEDITOR.ui.prototype = {
                add: function(e, t, n) {
                    n.name = e.toLowerCase();
                    var i = this.items[e] = {
                        type: t,
                        command: n.command || null,
                        args: Array.prototype.slice.call(arguments, 2)
                    };
                    CKEDITOR.tools.extend(i, n);
                },
                get: function(e) {
                    return this.instances[e];
                },
                create: function(e) {
                    var t = this.items[e], n = t && this._.handlers[t.type], i = t && t.command && this.editor.getCommand(t.command), n = n && n.create.apply(this, t.args);
                    return this.instances[e] = n, i && i.uiItems.push(n), n && !n.type && (n.type = t.type), 
                    n;
                },
                addHandler: function(e, t) {
                    this._.handlers[e] = t;
                },
                space: function(e) {
                    return CKEDITOR.document.getById(this.spaceId(e));
                },
                spaceId: function(e) {
                    return this.editor.id + "_" + e;
                }
            }, CKEDITOR.event.implementOn(CKEDITOR.ui), function() {
                function a(e, t, n) {
                    if (CKEDITOR.event.call(this), e = e && CKEDITOR.tools.clone(e), void 0 !== t) {
                        if (!(t instanceof CKEDITOR.dom.element)) throw Error("Expect element of type CKEDITOR.dom.element.");
                        if (!n) throw Error("One of the element modes must be specified.");
                        if (CKEDITOR.env.ie && CKEDITOR.env.quirks && n == CKEDITOR.ELEMENT_MODE_INLINE) throw Error("Inline element mode is not supported on IE quirks.");
                        if (!b(t, n)) throw Error('The specified element mode is not supported on element: "' + t.getName() + '".');
                        this.element = t, this.elementMode = n, this.name = this.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO && (t.getId() || t.getNameAtt());
                    } else this.elementMode = CKEDITOR.ELEMENT_MODE_NONE;
                    this._ = {}, this.commands = {}, this.templates = {}, this.name = this.name || f(), 
                    this.id = CKEDITOR.tools.getNextId(), this.status = "unloaded", this.config = CKEDITOR.tools.prototypedCopy(CKEDITOR.config), 
                    this.ui = new CKEDITOR.ui(this), this.focusManager = new CKEDITOR.focusManager(this), 
                    this.keystrokeHandler = new CKEDITOR.keystrokeHandler(this), this.on("readOnly", c), 
                    this.on("selectionChange", function(e) {
                        l(this, e.data.path);
                    }), this.on("activeFilterChange", function() {
                        l(this, this.elementPath(), !0);
                    }), this.on("mode", c), this.on("instanceReady", function() {
                        this.config.startupFocus && this.focus();
                    }), CKEDITOR.fire("instanceCreated", null, this), CKEDITOR.add(this), CKEDITOR.tools.setTimeout(function() {
                        "destroyed" !== this.status ? d(this, e) : CKEDITOR.warn("editor-incorrect-destroy");
                    }, 0, this);
                }
                function f() {
                    do {
                        var e = "editor" + ++t;
                    } while (CKEDITOR.instances[e]);
                    return e;
                }
                function b(e, t) {
                    return t == CKEDITOR.ELEMENT_MODE_INLINE ? e.is(CKEDITOR.dtd.$editable) || e.is("textarea") : t == CKEDITOR.ELEMENT_MODE_REPLACE ? !e.is(CKEDITOR.dtd.$nonBodyContent) : 1;
                }
                function c() {
                    var t, n = this.commands;
                    for (t in n) e(this, n[t]);
                }
                function e(e, t) {
                    t[t.startDisabled ? "disable" : e.readOnly && !t.readOnly ? "disable" : t.modes[e.mode] ? "enable" : "disable"]();
                }
                function l(e, t, n) {
                    if (t) {
                        var i, o, a = e.commands;
                        for (o in a) i = a[o], (n || i.contextSensitive) && i.refresh(e, t);
                    }
                }
                function k(e) {
                    var t = e.config.customConfig;
                    if (!t) return !1;
                    var t = CKEDITOR.getUrl(t), n = i[t] || (i[t] = {});
                    return n.fn ? (n.fn.call(e, e.config), CKEDITOR.getUrl(e.config.customConfig) != t && k(e) || e.fireOnce("customConfigLoaded")) : CKEDITOR.scriptLoader.queue(t, function() {
                        n.fn = CKEDITOR.editorConfig ? CKEDITOR.editorConfig : function() {}, k(e);
                    }), !0;
                }
                function d(e, t) {
                    e.on("customConfigLoaded", function() {
                        if (t) {
                            if (t.on) for (var n in t.on) e.on(n, t.on[n]);
                            CKEDITOR.tools.extend(e.config, t, !0), delete e.config.on;
                        }
                        n = e.config, e.readOnly = !!n.readOnly || (e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? e.element.is("textarea") ? e.element.hasAttribute("disabled") || e.element.hasAttribute("readonly") : e.element.isReadOnly() : e.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE && (e.element.hasAttribute("disabled") || e.element.hasAttribute("readonly"))), 
                        e.blockless = e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE && !(e.element.is("textarea") || CKEDITOR.dtd[e.element.getName()].p), 
                        e.tabIndex = n.tabIndex || e.element && e.element.getAttribute("tabindex") || 0, 
                        e.activeEnterMode = e.enterMode = e.blockless ? CKEDITOR.ENTER_BR : n.enterMode, 
                        e.activeShiftEnterMode = e.shiftEnterMode = e.blockless ? CKEDITOR.ENTER_BR : n.shiftEnterMode, 
                        n.skin && (CKEDITOR.skinName = n.skin), e.fireOnce("configLoaded"), e.dataProcessor = new CKEDITOR.htmlDataProcessor(e), 
                        e.filter = e.activeFilter = new CKEDITOR.filter(e), h(e);
                    }), t && null != t.customConfig && (e.config.customConfig = t.customConfig), k(e) || e.fireOnce("customConfigLoaded");
                }
                function h(e) {
                    CKEDITOR.skin.loadPart("editor", function() {
                        m(e);
                    });
                }
                function m(e) {
                    CKEDITOR.lang.load(e.config.language, e.config.defaultLanguage, function(t, n) {
                        var i = e.config.title;
                        e.langCode = t, e.lang = CKEDITOR.tools.prototypedCopy(n), e.title = "string" == typeof i || !1 === i ? i : [ e.lang.editor, e.name ].join(", "), 
                        e.config.contentsLangDirection || (e.config.contentsLangDirection = e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? e.element.getDirection(1) : e.lang.dir), 
                        e.fire("langLoaded"), g(e);
                    });
                }
                function g(e) {
                    e.getStylesSet(function(t) {
                        e.once("loaded", function() {
                            e.fire("stylesSet", {
                                styles: t
                            });
                        }, null, null, 1), n(e);
                    });
                }
                function n(e) {
                    var t = e.config, n = t.plugins, i = t.extraPlugins, o = t.removePlugins;
                    if (i) var a = new RegExp("(?:^|,)(?:" + i.replace(/\s*,\s*/g, "|") + ")(?=,|$)", "g"), n = n.replace(a, ""), n = n + "," + i;
                    if (o) var r = new RegExp("(?:^|,)(?:" + o.replace(/\s*,\s*/g, "|") + ")(?=,|$)", "g"), n = n.replace(r, "");
                    CKEDITOR.env.air && (n += ",adobeair"), CKEDITOR.plugins.load(n.split(","), function(n) {
                        var i = [], o = [], a = [];
                        e.plugins = n;
                        for (var s in n) {
                            var l, c = n[s], d = c.lang, u = null, h = c.requires;
                            if (CKEDITOR.tools.isArray(h) && (h = h.join(",")), h && (l = h.match(r))) for (;h = l.pop(); ) CKEDITOR.error("editor-plugin-required", {
                                plugin: h.replace(",", ""),
                                requiredBy: s
                            });
                            d && !e.lang[s] && (d.split && (d = d.split(",")), 0 <= CKEDITOR.tools.indexOf(d, e.langCode) ? u = e.langCode : (u = e.langCode.replace(/-.*/, ""), 
                            u = u != e.langCode && 0 <= CKEDITOR.tools.indexOf(d, u) ? u : 0 <= CKEDITOR.tools.indexOf(d, "en") ? "en" : d[0]), 
                            c.langEntries && c.langEntries[u] ? (e.lang[s] = c.langEntries[u], u = null) : a.push(CKEDITOR.getUrl(c.path + "lang/" + u + ".js"))), 
                            o.push(u), i.push(c);
                        }
                        CKEDITOR.scriptLoader.load(a, function() {
                            for (var n = [ "beforeInit", "init", "afterInit" ], a = 0; a < n.length; a++) for (var r = 0; r < i.length; r++) {
                                var s = i[r];
                                0 === a && o[r] && s.lang && s.langEntries && (e.lang[s.name] = s.langEntries[o[r]]), 
                                s[n[a]] && s[n[a]](e);
                            }
                            for (e.fireOnce("pluginsLoaded"), t.keystrokes && e.setKeystroke(e.config.keystrokes), 
                            r = 0; r < e.config.blockedKeystrokes.length; r++) e.keystrokeHandler.blockedKeystrokes[e.config.blockedKeystrokes[r]] = 1;
                            e.status = "loaded", e.fireOnce("loaded"), CKEDITOR.fire("instanceLoaded", null, e);
                        });
                    });
                }
                function r() {
                    var e = this.element;
                    if (e && this.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO) {
                        var t = this.getData();
                        return this.config.htmlEncodeOutput && (t = CKEDITOR.tools.htmlEncode(t)), e.is("textarea") ? e.setValue(t) : e.setHtml(t), 
                        !0;
                    }
                    return !1;
                }
                function q(e, t) {
                    for (var n, i, o, a = new CKEDITOR.dom.documentFragment(), r = 0; r < e.length; r++) {
                        var s = e[r], l = s.startContainer.getAscendant("tr", !0);
                        !function(e) {
                            var t = e.startContainer, n = e.endContainer;
                            return !(!t.is || !(t.is("tr") || t.is("td") && t.equals(n) && e.endOffset === t.getChildCount()));
                        }(s) ? a.append(s.cloneContents()) : (n || (n = l.getAscendant("table").clone(), 
                        n.append(l.getAscendant({
                            thead: 1,
                            tbody: 1,
                            tfoot: 1
                        }).clone()), a.append(n), n = n.findOne("thead, tbody, tfoot")), i && i.equals(l) || (i = l, 
                        o = l.clone(), n.append(o)), o.append(function(e) {
                            var t = e.startContainer;
                            return t.is("tr") ? e.cloneContents() : t.clone(!0);
                        }(s)));
                    }
                    return n ? a : t.getHtmlFromRange(e[0]);
                }
                a.prototype = CKEDITOR.editor.prototype, CKEDITOR.editor = a;
                var t = 0, i = {};
                CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
                    addCommand: function(t, n) {
                        n.name = t.toLowerCase();
                        var i = new CKEDITOR.command(this, n);
                        return this.mode && e(this, i), this.commands[t] = i;
                    },
                    _attachToForm: function() {
                        function a(n) {
                            e.updateElement(), e._.required && !t.getValue() && !1 === e.fire("required") && n.data.preventDefault();
                        }
                        var e = this, t = e.element, n = new CKEDITOR.dom.element(t.$.form);
                        t.is("textarea") && n && (n.on("submit", a), function(e) {
                            return !!(e && e.call && e.apply);
                        }(n.$.submit) && (n.$.submit = CKEDITOR.tools.override(n.$.submit, function(e) {
                            return function() {
                                a(), e.apply ? e.apply(this) : e();
                            };
                        })), e.on("destroy", function() {
                            n.removeListener("submit", a);
                        }));
                    },
                    destroy: function(e) {
                        this.fire("beforeDestroy"), !e && r.call(this), this.editable(null), this.filter && (this.filter.destroy(), 
                        delete this.filter), delete this.activeFilter, this.status = "destroyed", this.fire("destroy"), 
                        this.removeAllListeners(), CKEDITOR.remove(this), CKEDITOR.fire("instanceDestroyed", null, this);
                    },
                    elementPath: function(e) {
                        if (!e) {
                            if (!(e = this.getSelection())) return null;
                            e = e.getStartElement();
                        }
                        return e ? new CKEDITOR.dom.elementPath(e, this.editable()) : null;
                    },
                    createRange: function() {
                        var e = this.editable();
                        return e ? new CKEDITOR.dom.range(e) : null;
                    },
                    execCommand: function(e, t) {
                        var n = this.getCommand(e), i = {
                            name: e,
                            commandData: t || {},
                            command: n
                        };
                        return !(!n || n.state == CKEDITOR.TRISTATE_DISABLED || !1 === this.fire("beforeCommandExec", i) || (i.returnValue = n.exec(i.commandData), 
                        n.async || !1 === this.fire("afterCommandExec", i))) && i.returnValue;
                    },
                    getCommand: function(e) {
                        return this.commands[e];
                    },
                    getData: function(e) {
                        !e && this.fire("beforeGetData");
                        var t = this._.data;
                        return "string" != typeof t && (t = (t = this.element) && this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE ? t.is("textarea") ? t.getValue() : t.getHtml() : ""), 
                        t = {
                            dataValue: t
                        }, !e && this.fire("getData", t), t.dataValue;
                    },
                    getSnapshot: function() {
                        var e = this.fire("getSnapshot");
                        return "string" != typeof e && (e = (e = this.element) && this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE ? e.is("textarea") ? e.getValue() : e.getHtml() : ""), 
                        e;
                    },
                    loadSnapshot: function(e) {
                        this.fire("loadSnapshot", e);
                    },
                    setData: function(e, t, n) {
                        var i = !0, o = t;
                        t && "object" == typeof t && (n = t.internal, o = t.callback, i = !t.noSnapshot), 
                        !n && i && this.fire("saveSnapshot"), !o && n || this.once("dataReady", function(e) {
                            !n && i && this.fire("saveSnapshot"), o && o.call(e.editor);
                        }), e = {
                            dataValue: e
                        }, !n && this.fire("setData", e), this._.data = e.dataValue, !n && this.fire("afterSetData", e);
                    },
                    setReadOnly: function(e) {
                        e = null == e || e, this.readOnly != e && (this.readOnly = e, this.keystrokeHandler.blockedKeystrokes[8] = +e, 
                        this.editable().setReadOnly(e), this.fire("readOnly"));
                    },
                    insertHtml: function(e, t, n) {
                        this.fire("insertHtml", {
                            dataValue: e,
                            mode: t,
                            range: n
                        });
                    },
                    insertText: function(e) {
                        this.fire("insertText", e);
                    },
                    insertElement: function(e) {
                        this.fire("insertElement", e);
                    },
                    getSelectedHtml: function(e) {
                        var t = this.editable(), n = this.getSelection(), n = n && n.getRanges();
                        return t && n && 0 !== n.length ? (t = q(n, t), e ? t.getHtml() : t) : null;
                    },
                    extractSelectedHtml: function(e, t) {
                        var n, i = this.editable(), o = this.getSelection().getRanges(), a = new CKEDITOR.dom.documentFragment();
                        if (!i || 0 === o.length) return null;
                        for (n = 0; n < o.length; n++) a.append(i.extractHtmlFromRange(o[n], t));
                        return t || this.getSelection().selectRanges([ o[0] ]), e ? a.getHtml() : a;
                    },
                    focus: function() {
                        this.fire("beforeFocus");
                    },
                    checkDirty: function() {
                        return "ready" == this.status && this._.previousValue !== this.getSnapshot();
                    },
                    resetDirty: function() {
                        this._.previousValue = this.getSnapshot();
                    },
                    updateElement: function() {
                        return r.call(this);
                    },
                    setKeystroke: function() {
                        for (var e, t, n = this.keystrokeHandler.keystrokes, i = CKEDITOR.tools.isArray(arguments[0]) ? arguments[0] : [ [].slice.call(arguments, 0) ], o = i.length; o--; ) e = i[o], 
                        t = 0, CKEDITOR.tools.isArray(e) && (t = e[1], e = e[0]), t ? n[e] = t : delete n[e];
                    },
                    getCommandKeystroke: function(e) {
                        if (e = "string" == typeof e ? this.getCommand(e) : e) {
                            var t, n = CKEDITOR.tools.object.findKey(this.commands, e), i = this.keystrokeHandler.keystrokes;
                            if (e.fakeKeystroke) return e.fakeKeystroke;
                            for (t in i) if (i.hasOwnProperty(t) && i[t] == n) return t;
                        }
                        return null;
                    },
                    addFeature: function(e) {
                        return this.filter.addFeature(e);
                    },
                    setActiveFilter: function(e) {
                        e || (e = this.filter), this.activeFilter !== e && (this.activeFilter = e, this.fire("activeFilterChange"), 
                        e === this.filter ? this.setActiveEnterMode(null, null) : this.setActiveEnterMode(e.getAllowedEnterMode(this.enterMode), e.getAllowedEnterMode(this.shiftEnterMode, !0)));
                    },
                    setActiveEnterMode: function(e, t) {
                        e = e ? this.blockless ? CKEDITOR.ENTER_BR : e : this.enterMode, t = t ? this.blockless ? CKEDITOR.ENTER_BR : t : this.shiftEnterMode, 
                        this.activeEnterMode == e && this.activeShiftEnterMode == t || (this.activeEnterMode = e, 
                        this.activeShiftEnterMode = t, this.fire("activeEnterModeChange"));
                    },
                    showNotification: function(e) {
                        alert(e);
                    }
                });
            }(), CKEDITOR.ELEMENT_MODE_NONE = 0, CKEDITOR.ELEMENT_MODE_REPLACE = 1, CKEDITOR.ELEMENT_MODE_APPENDTO = 2, 
            CKEDITOR.ELEMENT_MODE_INLINE = 3, CKEDITOR.htmlParser = function() {
                this._ = {
                    htmlPartsRegex: /<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g
                };
            }, function() {
                var e = /([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g, t = {
                    checked: 1,
                    compact: 1,
                    declare: 1,
                    defer: 1,
                    disabled: 1,
                    ismap: 1,
                    multiple: 1,
                    nohref: 1,
                    noresize: 1,
                    noshade: 1,
                    nowrap: 1,
                    readonly: 1,
                    selected: 1
                };
                CKEDITOR.htmlParser.prototype = {
                    onTagOpen: function() {},
                    onTagClose: function() {},
                    onText: function() {},
                    onCDATA: function() {},
                    onComment: function() {},
                    parse: function(n) {
                        for (var i, o, a, r = 0; i = this._.htmlPartsRegex.exec(n); ) if (o = i.index, o > r && (r = n.substring(r, o), 
                        a ? a.push(r) : this.onText(r)), r = this._.htmlPartsRegex.lastIndex, !(o = i[1]) || (o = o.toLowerCase(), 
                        a && CKEDITOR.dtd.$cdata[o] && (this.onCDATA(a.join("")), a = null), a)) if (a) a.push(i[0]); else if (o = i[3]) {
                            if (o = o.toLowerCase(), !/="/.test(o)) {
                                var s, l = {}, c = i[4];
                                if (i = !!i[5], c) for (;s = e.exec(c); ) {
                                    var d = s[1].toLowerCase();
                                    s = s[2] || s[3] || s[4] || "", l[d] = !s && t[d] ? d : CKEDITOR.tools.htmlDecodeAttr(s);
                                }
                                this.onTagOpen(o, l, i), !a && CKEDITOR.dtd.$cdata[o] && (a = []);
                            }
                        } else (o = i[2]) && this.onComment(o); else this.onTagClose(o);
                        n.length > r && this.onText(n.substring(r, n.length));
                    }
                };
            }(), CKEDITOR.htmlParser.basicWriter = CKEDITOR.tools.createClass({
                $: function() {
                    this._ = {
                        output: []
                    };
                },
                proto: {
                    openTag: function(e) {
                        this._.output.push("<", e);
                    },
                    openTagClose: function(e, t) {
                        t ? this._.output.push(" />") : this._.output.push(">");
                    },
                    attribute: function(e, t) {
                        "string" == typeof t && (t = CKEDITOR.tools.htmlEncodeAttr(t)), this._.output.push(" ", e, '="', t, '"');
                    },
                    closeTag: function(e) {
                        this._.output.push("</", e, ">");
                    },
                    text: function(e) {
                        this._.output.push(e);
                    },
                    comment: function(e) {
                        this._.output.push("\x3c!--", e, "--\x3e");
                    },
                    write: function(e) {
                        this._.output.push(e);
                    },
                    reset: function() {
                        this._.output = [], this._.indent = !1;
                    },
                    getHtml: function(e) {
                        var t = this._.output.join("");
                        return e && this.reset(), t;
                    }
                }
            }), function() {
                CKEDITOR.htmlParser.node = function() {}, CKEDITOR.htmlParser.node.prototype = {
                    remove: function() {
                        var e = this.parent.children, t = CKEDITOR.tools.indexOf(e, this), n = this.previous, i = this.next;
                        n && (n.next = i), i && (i.previous = n), e.splice(t, 1), this.parent = null;
                    },
                    replaceWith: function(e) {
                        var t = this.parent.children, n = CKEDITOR.tools.indexOf(t, this), i = e.previous = this.previous, o = e.next = this.next;
                        i && (i.next = e), o && (o.previous = e), t[n] = e, e.parent = this.parent, this.parent = null;
                    },
                    insertAfter: function(e) {
                        var t = e.parent.children, n = CKEDITOR.tools.indexOf(t, e), i = e.next;
                        t.splice(n + 1, 0, this), this.next = e.next, this.previous = e, e.next = this, 
                        i && (i.previous = this), this.parent = e.parent;
                    },
                    insertBefore: function(e) {
                        var t = e.parent.children, n = CKEDITOR.tools.indexOf(t, e);
                        t.splice(n, 0, this), this.next = e, (this.previous = e.previous) && (e.previous.next = this), 
                        e.previous = this, this.parent = e.parent;
                    },
                    getAscendant: function(e) {
                        for (var t = ("function" == typeof e ? e : "string" == typeof e ? function(t) {
                            return t.name == e;
                        } : function(t) {
                            return t.name in e;
                        }), n = this.parent; n && n.type == CKEDITOR.NODE_ELEMENT; ) {
                            if (t(n)) return n;
                            n = n.parent;
                        }
                        return null;
                    },
                    wrapWith: function(e) {
                        return this.replaceWith(e), e.add(this), e;
                    },
                    getIndex: function() {
                        return CKEDITOR.tools.indexOf(this.parent.children, this);
                    },
                    getFilterContext: function(e) {
                        return e || {};
                    }
                };
            }(), CKEDITOR.htmlParser.comment = function(e) {
                this.value = e, this._ = {
                    isBlockLike: !1
                };
            }, CKEDITOR.htmlParser.comment.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node(), {
                type: CKEDITOR.NODE_COMMENT,
                filter: function(e, t) {
                    var n = this.value;
                    return (n = e.onComment(t, n, this)) ? "string" != typeof n ? (this.replaceWith(n), 
                    !1) : (this.value = n, !0) : (this.remove(), !1);
                },
                writeHtml: function(e, t) {
                    t && this.filter(t), e.comment(this.value);
                }
            }), function() {
                CKEDITOR.htmlParser.text = function(e) {
                    this.value = e, this._ = {
                        isBlockLike: !1
                    };
                }, CKEDITOR.htmlParser.text.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node(), {
                    type: CKEDITOR.NODE_TEXT,
                    filter: function(e, t) {
                        if (!(this.value = e.onText(t, this.value, this))) return this.remove(), !1;
                    },
                    writeHtml: function(e, t) {
                        t && this.filter(t), e.text(this.value);
                    }
                });
            }(), function() {
                CKEDITOR.htmlParser.cdata = function(e) {
                    this.value = e;
                }, CKEDITOR.htmlParser.cdata.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node(), {
                    type: CKEDITOR.NODE_TEXT,
                    filter: function() {},
                    writeHtml: function(e) {
                        e.write(this.value);
                    }
                });
            }(), CKEDITOR.htmlParser.fragment = function() {
                this.children = [], this.parent = null, this._ = {
                    isBlockLike: !0,
                    hasInlineStarted: !1
                };
            }, function() {
                function a(e) {
                    return !e.attributes["data-cke-survive"] && ("a" == e.name && e.attributes.href || CKEDITOR.dtd.$removeEmpty[e.name]);
                }
                var e = CKEDITOR.tools.extend({
                    table: 1,
                    ul: 1,
                    ol: 1,
                    dl: 1
                }, CKEDITOR.dtd.table, CKEDITOR.dtd.ul, CKEDITOR.dtd.ol, CKEDITOR.dtd.dl), t = {
                    ol: 1,
                    ul: 1
                }, i = CKEDITOR.tools.extend({}, {
                    html: 1
                }, CKEDITOR.dtd.html, CKEDITOR.dtd.body, CKEDITOR.dtd.head, {
                    style: 1,
                    script: 1
                }), o = {
                    ul: "li",
                    ol: "li",
                    dl: "dd",
                    table: "tbody",
                    tbody: "tr",
                    thead: "tr",
                    tfoot: "tr",
                    tr: "td"
                };
                CKEDITOR.htmlParser.fragment.fromHtml = function(s, l, c) {
                    function h(e) {
                        var t;
                        if (0 < f.length) for (var i = 0; i < f.length; i++) {
                            var o = f[i], a = o.name, r = CKEDITOR.dtd[a], s = p.name && CKEDITOR.dtd[p.name];
                            s && !s[a] || e && r && !r[e] && CKEDITOR.dtd[e] ? a == p.name && (n(p, p.parent, 1), 
                            i--) : (t || (m(), t = 1), o = o.clone(), o.parent = p, p = o, f.splice(i, 1), i--);
                        }
                    }
                    function m() {
                        for (;E.length; ) n(E.shift(), p);
                    }
                    function g(e) {
                        if (e._.isBlockLike && "pre" != e.name && "textarea" != e.name) {
                            var t, n = e.children.length, i = e.children[n - 1];
                            i && i.type == CKEDITOR.NODE_TEXT && ((t = CKEDITOR.tools.rtrim(i.value)) ? i.value = t : e.children.length = n - 1);
                        }
                    }
                    function n(e, t, n) {
                        t = t || p || u;
                        var i = p;
                        void 0 === e.previous && (r(t, e) && (p = t, d.onTagOpen(c, {}), e.returnPoint = t = p), 
                        g(e), a(e) && !e.children.length || t.add(e), "pre" == e.name && (C = !1), "textarea" == e.name && (T = !1)), 
                        e.returnPoint ? (p = e.returnPoint, delete e.returnPoint) : p = n ? t : i;
                    }
                    function r(e, t) {
                        if ((e == u || "body" == e.name) && c && (!e.name || CKEDITOR.dtd[e.name][c])) {
                            var n, i;
                            return (n = t.attributes && (i = t.attributes["data-cke-real-element-type"]) ? i : t.name) && n in CKEDITOR.dtd.$inline && !(n in CKEDITOR.dtd.head) && !t.isOrphan || t.type == CKEDITOR.NODE_TEXT;
                        }
                    }
                    function q(e, t) {
                        return (e in CKEDITOR.dtd.$listItem || e in CKEDITOR.dtd.$tableContent) && (e == t || "dt" == e && "dd" == t || "dd" == e && "dt" == t);
                    }
                    var d = new CKEDITOR.htmlParser(), u = l instanceof CKEDITOR.htmlParser.element ? l : "string" == typeof l ? new CKEDITOR.htmlParser.element(l) : new CKEDITOR.htmlParser.fragment(), f = [], E = [], p = u, T = "textarea" == u.name, C = "pre" == u.name;
                    d.onTagOpen = function(o, r, s, l) {
                        if (r = new CKEDITOR.htmlParser.element(o, r), r.isUnknown && s && (r.isEmpty = !0), 
                        r.isOptionalClose = l, a(r)) f.push(r); else {
                            if ("pre" == o) C = !0; else {
                                if ("br" == o && C) return void p.add(new CKEDITOR.htmlParser.text("\n"));
                                "textarea" == o && (T = !0);
                            }
                            if ("br" == o) E.push(r); else {
                                for (;l = (s = p.name) ? CKEDITOR.dtd[s] || (p._.isBlockLike ? CKEDITOR.dtd.div : CKEDITOR.dtd.span) : i, 
                                !(r.isUnknown || p.isUnknown || l[o]); ) if (p.isOptionalClose) d.onTagClose(s); else if (o in t && s in t) s = p.children, 
                                (s = s[s.length - 1]) && "li" == s.name || n(s = new CKEDITOR.htmlParser.element("li"), p), 
                                !r.returnPoint && (r.returnPoint = p), p = s; else if (o in CKEDITOR.dtd.$listItem && !q(o, s)) d.onTagOpen("li" == o ? "ul" : "dl", {}, 0, 1); else if (s in e && !q(o, s)) !r.returnPoint && (r.returnPoint = p), 
                                p = p.parent; else {
                                    if (s in CKEDITOR.dtd.$inline && f.unshift(p), !p.parent) {
                                        r.isOrphan = 1;
                                        break;
                                    }
                                    n(p, p.parent, 1);
                                }
                                h(o), m(), r.parent = p, r.isEmpty ? n(r) : p = r;
                            }
                        }
                    }, d.onTagClose = function(e) {
                        for (var t = f.length - 1; 0 <= t; t--) if (e == f[t].name) return void f.splice(t, 1);
                        for (var i = [], o = [], a = p; a != u && a.name != e; ) a._.isBlockLike || o.unshift(a), 
                        i.push(a), a = a.returnPoint || a.parent;
                        if (a != u) {
                            for (t = 0; t < i.length; t++) {
                                var r = i[t];
                                n(r, r.parent);
                            }
                            p = a, a._.isBlockLike && m(), n(a, a.parent), a == p && (p = p.parent), f = f.concat(o);
                        }
                        "body" == e && (c = !1);
                    }, d.onText = function(t) {
                        if (p._.hasInlineStarted && !E.length || C || T || (t = CKEDITOR.tools.ltrim(t), 
                        0 !== t.length)) {
                            var n = p.name, a = n ? CKEDITOR.dtd[n] || (p._.isBlockLike ? CKEDITOR.dtd.div : CKEDITOR.dtd.span) : i;
                            !T && !a["#"] && n in e ? (d.onTagOpen(o[n] || ""), d.onText(t)) : (m(), h(), C || T || (t = t.replace(/[\t\r\n ]{2,}|[\t\r\n]/g, " ")), 
                            t = new CKEDITOR.htmlParser.text(t), r(p, t) && this.onTagOpen(c, {}, 0, 1), p.add(t));
                        }
                    }, d.onCDATA = function(e) {
                        p.add(new CKEDITOR.htmlParser.cdata(e));
                    }, d.onComment = function(e) {
                        m(), h(), p.add(new CKEDITOR.htmlParser.comment(e));
                    }, d.parse(s);
                    for (m(); p != u; ) n(p, p.parent, 1);
                    return g(u), u;
                }, CKEDITOR.htmlParser.fragment.prototype = {
                    type: CKEDITOR.NODE_DOCUMENT_FRAGMENT,
                    add: function(e, t) {
                        isNaN(t) && (t = this.children.length);
                        var n = 0 < t ? this.children[t - 1] : null;
                        if (n) {
                            if (e._.isBlockLike && n.type == CKEDITOR.NODE_TEXT && (n.value = CKEDITOR.tools.rtrim(n.value), 
                            0 === n.value.length)) return this.children.pop(), void this.add(e);
                            n.next = e;
                        }
                        e.previous = n, e.parent = this, this.children.splice(t, 0, e), this._.hasInlineStarted || (this._.hasInlineStarted = e.type == CKEDITOR.NODE_TEXT || e.type == CKEDITOR.NODE_ELEMENT && !e._.isBlockLike);
                    },
                    filter: function(e, t) {
                        t = this.getFilterContext(t), e.onRoot(t, this), this.filterChildren(e, !1, t);
                    },
                    filterChildren: function(e, t, n) {
                        if (this.childrenFilteredBy != e.id) for (n = this.getFilterContext(n), t && !this.parent && e.onRoot(n, this), 
                        this.childrenFilteredBy = e.id, t = 0; t < this.children.length; t++) !1 === this.children[t].filter(e, n) && t--;
                    },
                    writeHtml: function(e, t) {
                        t && this.filter(t), this.writeChildrenHtml(e);
                    },
                    writeChildrenHtml: function(e, t, n) {
                        var i = this.getFilterContext();
                        for (n && !this.parent && t && t.onRoot(i, this), t && this.filterChildren(t, !1, i), 
                        t = 0, n = this.children, i = n.length; t < i; t++) n[t].writeHtml(e);
                    },
                    forEach: function(e, t, n) {
                        if (!(n || t && this.type != t)) var i = e(this);
                        if (!1 !== i) {
                            n = this.children;
                            for (var o = 0; o < n.length; o++) i = n[o], i.type == CKEDITOR.NODE_ELEMENT ? i.forEach(e, t) : t && i.type != t || e(i);
                        }
                    },
                    getFilterContext: function(e) {
                        return e || {};
                    }
                };
            }(), function() {
                function a() {
                    this.rules = [];
                }
                function f(e, t, n, i) {
                    var o, r;
                    for (o in t) (r = e[o]) || (r = e[o] = new a()), r.add(t[o], n, i);
                }
                CKEDITOR.htmlParser.filter = CKEDITOR.tools.createClass({
                    $: function(e) {
                        this.id = CKEDITOR.tools.getNextNumber(), this.elementNameRules = new a(), this.attributeNameRules = new a(), 
                        this.elementsRules = {}, this.attributesRules = {}, this.textRules = new a(), this.commentRules = new a(), 
                        this.rootRules = new a(), e && this.addRules(e, 10);
                    },
                    proto: {
                        addRules: function(e, t) {
                            var n;
                            "number" == typeof t ? n = t : t && "priority" in t && (n = t.priority), "number" != typeof n && (n = 10), 
                            "object" != typeof t && (t = {}), e.elementNames && this.elementNameRules.addMany(e.elementNames, n, t), 
                            e.attributeNames && this.attributeNameRules.addMany(e.attributeNames, n, t), e.elements && f(this.elementsRules, e.elements, n, t), 
                            e.attributes && f(this.attributesRules, e.attributes, n, t), e.text && this.textRules.add(e.text, n, t), 
                            e.comment && this.commentRules.add(e.comment, n, t), e.root && this.rootRules.add(e.root, n, t);
                        },
                        applyTo: function(e) {
                            e.filter(this);
                        },
                        onElementName: function(e, t) {
                            return this.elementNameRules.execOnName(e, t);
                        },
                        onAttributeName: function(e, t) {
                            return this.attributeNameRules.execOnName(e, t);
                        },
                        onText: function(e, t, n) {
                            return this.textRules.exec(e, t, n);
                        },
                        onComment: function(e, t, n) {
                            return this.commentRules.exec(e, t, n);
                        },
                        onRoot: function(e, t) {
                            return this.rootRules.exec(e, t);
                        },
                        onElement: function(e, t) {
                            for (var n, i = [ this.elementsRules["^"], this.elementsRules[t.name], this.elementsRules.$ ], o = 0; 3 > o; o++) if (n = i[o]) {
                                if (!1 === (n = n.exec(e, t, this))) return null;
                                if (n && n != t) return this.onNode(e, n);
                                if (t.parent && !t.name) break;
                            }
                            return t;
                        },
                        onNode: function(e, t) {
                            var n = t.type;
                            return n == CKEDITOR.NODE_ELEMENT ? this.onElement(e, t) : n == CKEDITOR.NODE_TEXT ? new CKEDITOR.htmlParser.text(this.onText(e, t.value)) : n == CKEDITOR.NODE_COMMENT ? new CKEDITOR.htmlParser.comment(this.onComment(e, t.value)) : null;
                        },
                        onAttribute: function(e, t, n, i) {
                            return (n = this.attributesRules[n]) ? n.exec(e, i, t, this) : i;
                        }
                    }
                }), CKEDITOR.htmlParser.filterRulesGroup = a, a.prototype = {
                    add: function(e, t, n) {
                        this.rules.splice(this.findIndex(t), 0, {
                            value: e,
                            priority: t,
                            options: n
                        });
                    },
                    addMany: function(e, t, n) {
                        for (var i = [ this.findIndex(t), 0 ], o = 0, a = e.length; o < a; o++) i.push({
                            value: e[o],
                            priority: t,
                            options: n
                        });
                        this.rules.splice.apply(this.rules, i);
                    },
                    findIndex: function(e) {
                        for (var t = this.rules, n = t.length - 1; 0 <= n && e < t[n].priority; ) n--;
                        return n + 1;
                    },
                    exec: function(e, t) {
                        var n, i, o, a, r = t instanceof CKEDITOR.htmlParser.node || t instanceof CKEDITOR.htmlParser.fragment, s = Array.prototype.slice.call(arguments, 1), l = this.rules, c = l.length;
                        for (a = 0; a < c; a++) if (r && (n = t.type, i = t.name), o = l[a], !(e.nonEditable && !o.options.applyToAll || e.nestedEditable && o.options.excludeNestedEditable)) {
                            if (!1 === (o = o.value.apply(null, s)) || r && o && (o.name != i || o.type != n)) return o;
                            null != o && (s[0] = t = o);
                        }
                        return t;
                    },
                    execOnName: function(e, t) {
                        for (var n, i = 0, o = this.rules, a = o.length; t && i < a; i++) n = o[i], e.nonEditable && !n.options.applyToAll || e.nestedEditable && n.options.excludeNestedEditable || (t = t.replace(n.value[0], n.value[1]));
                        return t;
                    }
                };
            }(), function() {
                function a(n, i) {
                    function g(e) {
                        return e || CKEDITOR.env.needsNbspFiller ? new CKEDITOR.htmlParser.text(" ") : new CKEDITOR.htmlParser.element("br", {
                            "data-cke-bogus": 1
                        });
                    }
                    function f(e, t) {
                        return function(n) {
                            if (n.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
                                var i, o, a = [], r = b(n);
                                if (r) for (h(r, 1) && a.push(r); r; ) l(r) && (i = c(r)) && h(i) && ((o = c(i)) && !l(o) ? a.push(i) : (g(s).insertAfter(i), 
                                i.remove())), r = r.previous;
                                for (r = 0; r < a.length; r++) a[r].remove();
                                (a = !e || !1 !== ("function" == typeof t ? t(n) : t)) && ((s || CKEDITOR.env.needsBrFiller || n.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT) && (s || CKEDITOR.env.needsBrFiller || !(7 < document.documentMode || n.name in CKEDITOR.dtd.tr || n.name in CKEDITOR.dtd.$listItem)) ? (a = b(n), 
                                a = !a || "form" == n.name && "input" == a.name) : a = !1), a && n.add(g(e));
                            }
                        };
                    }
                    function h(e, n) {
                        if ((!s || CKEDITOR.env.needsBrFiller) && e.type == CKEDITOR.NODE_ELEMENT && "br" == e.name && !e.attributes["data-cke-eol"]) return !0;
                        var i;
                        return !!(e.type == CKEDITOR.NODE_TEXT && (i = e.value.match(t)) && (i.index && (new CKEDITOR.htmlParser.text(e.value.substring(0, i.index)).insertBefore(e), 
                        e.value = i[0]), !CKEDITOR.env.needsBrFiller && s && (!n || e.parent.name in d) || !s && ((i = e.previous) && "br" == i.name || !i || l(i))));
                    }
                    var a, r = {
                        elements: {}
                    }, s = "html" == i, d = CKEDITOR.tools.extend({}, u);
                    for (a in d) "#" in o[a] || delete d[a];
                    for (a in d) r.elements[a] = f(s, n.config.fillEmptyBlocks);
                    return r.root = f(s, !1), r.elements.br = function(t) {
                        return function(n) {
                            if (n.parent.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
                                var i = n.attributes;
                                if ("data-cke-bogus" in i || "data-cke-eol" in i) delete i["data-cke-bogus"]; else {
                                    for (i = n.next; i && e(i); ) i = i.next;
                                    var o = c(n);
                                    !i && l(n.parent) ? k(n.parent, g(t)) : l(i) && o && !l(o) && g(t).insertBefore(i);
                                }
                            }
                        };
                    }(s), r;
                }
                function f(e, t) {
                    return e != CKEDITOR.ENTER_BR && !1 !== t && (e == CKEDITOR.ENTER_DIV ? "div" : "p");
                }
                function b(t) {
                    for (t = t.children[t.children.length - 1]; t && e(t); ) t = t.previous;
                    return t;
                }
                function c(t) {
                    for (t = t.previous; t && e(t); ) t = t.previous;
                    return t;
                }
                function e(e) {
                    return e.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.trim(e.value) || e.type == CKEDITOR.NODE_ELEMENT && e.attributes["data-cke-bookmark"];
                }
                function l(e) {
                    return e && (e.type == CKEDITOR.NODE_ELEMENT && e.name in u || e.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT);
                }
                function k(e, t) {
                    var n = e.children[e.children.length - 1];
                    e.children.push(t), t.parent = e, n && (n.next = t, t.previous = n);
                }
                function d(e) {
                    e = e.attributes, "false" != e.contenteditable && (e["data-cke-editable"] = e.contenteditable ? "true" : 1), 
                    e.contenteditable = "false";
                }
                function h(e) {
                    switch (e = e.attributes, e["data-cke-editable"]) {
                      case "true":
                        e.contenteditable = "true";
                        break;

                      case "1":
                        delete e.contenteditable;
                    }
                }
                function m(e) {
                    return e.replace(I, function(e, t, n) {
                        return "<" + t + n.replace(O, function(e, t) {
                            return D.test(t) && -1 == n.indexOf("data-cke-saved-" + t) ? " data-cke-saved-" + e + " data-cke-" + CKEDITOR.rnd + "-" + e : e;
                        }) + ">";
                    });
                }
                function g(e, t) {
                    return e.replace(t, function(e, t, n) {
                        return 0 === e.indexOf("<textarea") && (e = t + q(n).replace(/</g, "&lt;").replace(/>/g, "&gt;") + "</textarea>"), 
                        "<cke:encoded>" + encodeURIComponent(e) + "</cke:encoded>";
                    });
                }
                function n(e) {
                    return e.replace(K, function(e, t) {
                        return decodeURIComponent(t);
                    });
                }
                function r(e) {
                    return e.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g, function(e) {
                        return "\x3c!--" + i + "{C}" + encodeURIComponent(e).replace(/--/g, "%2D%2D") + "--\x3e";
                    });
                }
                function q(e) {
                    return e.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g, function(e, t) {
                        return decodeURIComponent(t);
                    });
                }
                function y(e, t) {
                    var n = t._.dataStore;
                    return e.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g, function(e, t) {
                        return decodeURIComponent(t);
                    }).replace(/\{cke_protected_(\d+)\}/g, function(e, t) {
                        return n && n[t] || "";
                    });
                }
                function w(e, t) {
                    var n = [], o = t.config.protectedSource, a = t._.dataStore || (t._.dataStore = {
                        id: 1
                    }), r = /<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g, o = [ /<script[\s\S]*?(<\/script>|$)/gi, /<noscript[\s\S]*?<\/noscript>/gi, /<meta[\s\S]*?\/?>/gi ].concat(o);
                    e = e.replace(/\x3c!--[\s\S]*?--\x3e/g, function(e) {
                        return "\x3c!--{cke_tempcomment}" + (n.push(e) - 1) + "--\x3e";
                    });
                    for (var s = 0; s < o.length; s++) e = e.replace(o[s], function(e) {
                        return e = e.replace(r, function(e, t, i) {
                            return n[i];
                        }), /cke_temp(comment)?/.test(e) ? e : "\x3c!--{cke_temp}" + (n.push(e) - 1) + "--\x3e";
                    });
                    return e = e.replace(r, function(e, t, o) {
                        return "\x3c!--" + i + (t ? "{C}" : "") + encodeURIComponent(n[o]).replace(/--/g, "%2D%2D") + "--\x3e";
                    }), e = e.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g, function(e) {
                        return e.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g, function(e, t) {
                            return a[a.id] = decodeURIComponent(t), "{cke_protected_" + a.id++ + "}";
                        });
                    }), e = e.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g, function(e, n, i, o) {
                        return "<" + n + i + ">" + y(q(o), t) + "</" + n + ">";
                    });
                }
                CKEDITOR.htmlDataProcessor = function(e) {
                    var t, i, o = this;
                    this.editor = e, this.dataFilter = t = new CKEDITOR.htmlParser.filter(), this.htmlFilter = i = new CKEDITOR.htmlParser.filter(), 
                    this.writer = new CKEDITOR.htmlParser.basicWriter(), t.addRules(E), t.addRules(p, {
                        applyToAll: !0
                    }), t.addRules(a(e, "data"), {
                        applyToAll: !0
                    }), i.addRules(T), i.addRules(C, {
                        applyToAll: !0
                    }), i.addRules(a(e, "html"), {
                        applyToAll: !0
                    }), e.on("toHtml", function(t) {
                        t = t.data;
                        var i, o = t.dataValue, o = w(o, e), o = g(o, v), o = m(o), o = g(o, R), o = o.replace(_, "$1cke:$2"), o = o.replace(S, "<cke:$1$2></cke:$1>"), o = o.replace(/(<pre\b[^>]*>)(\r\n|\n)/g, "$1$2$2"), o = o.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi, "$1data-cke-" + CKEDITOR.rnd + "-$2");
                        i = t.context || e.editable().getName();
                        var a;
                        CKEDITOR.env.ie && 9 > CKEDITOR.env.version && "pre" == i && (i = "div", o = "<pre>" + o + "</pre>", 
                        a = 1), i = e.document.createElement(i), i.setHtml("a" + o), o = i.getHtml().substr(1), 
                        o = o.replace(new RegExp("data-cke-" + CKEDITOR.rnd + "-", "ig"), ""), a && (o = o.replace(/^<pre>|<\/pre>$/gi, "")), 
                        o = o.replace(N, "$1$2"), o = n(o), o = q(o), i = !1 !== t.fixForBody && f(t.enterMode, e.config.autoParagraph), 
                        o = CKEDITOR.htmlParser.fragment.fromHtml(o, t.context, i), i && (a = o, !a.children.length && CKEDITOR.dtd[a.name][i] && (i = new CKEDITOR.htmlParser.element(i), 
                        a.add(i))), t.dataValue = o;
                    }, null, null, 5), e.on("toHtml", function(t) {
                        t.data.filter.applyTo(t.data.dataValue, !0, t.data.dontFilter, t.data.enterMode) && e.fire("dataFiltered");
                    }, null, null, 6), e.on("toHtml", function(e) {
                        e.data.dataValue.filterChildren(o.dataFilter, !0);
                    }, null, null, 10), e.on("toHtml", function(e) {
                        e = e.data;
                        var t = e.dataValue, n = new CKEDITOR.htmlParser.basicWriter();
                        t.writeChildrenHtml(n), t = n.getHtml(!0), e.dataValue = r(t);
                    }, null, null, 15), e.on("toDataFormat", function(t) {
                        var n = t.data.dataValue;
                        t.data.enterMode != CKEDITOR.ENTER_BR && (n = n.replace(/^<br *\/?>/i, "")), t.data.dataValue = CKEDITOR.htmlParser.fragment.fromHtml(n, t.data.context, f(t.data.enterMode, e.config.autoParagraph));
                    }, null, null, 5), e.on("toDataFormat", function(e) {
                        e.data.dataValue.filterChildren(o.htmlFilter, !0);
                    }, null, null, 10), e.on("toDataFormat", function(e) {
                        e.data.filter.applyTo(e.data.dataValue, !1, !0);
                    }, null, null, 11), e.on("toDataFormat", function(t) {
                        var n = t.data.dataValue, i = o.writer;
                        i.reset(), n.writeChildrenHtml(i), n = i.getHtml(!0), n = q(n), n = y(n, e), t.data.dataValue = n;
                    }, null, null, 15);
                }, CKEDITOR.htmlDataProcessor.prototype = {
                    toHtml: function(e, t, n, i) {
                        var o, a, r, s, l = this.editor;
                        return t && "object" == typeof t ? (o = t.context, n = t.fixForBody, i = t.dontFilter, 
                        a = t.filter, r = t.enterMode, s = t.protectedWhitespaces) : o = t, o || null === o || (o = l.editable().getName()), 
                        l.fire("toHtml", {
                            dataValue: e,
                            context: o,
                            fixForBody: n,
                            dontFilter: i,
                            filter: a || l.filter,
                            enterMode: r || l.enterMode,
                            protectedWhitespaces: s
                        }).dataValue;
                    },
                    toDataFormat: function(e, t) {
                        var n, i, o;
                        return t && (n = t.context, i = t.filter, o = t.enterMode), n || null === n || (n = this.editor.editable().getName()), 
                        this.editor.fire("toDataFormat", {
                            dataValue: e,
                            filter: i || this.editor.filter,
                            context: n,
                            enterMode: o || this.editor.enterMode
                        }).dataValue;
                    }
                };
                var t = /(?:&nbsp;|\xa0)$/, i = "{cke_protected}", o = CKEDITOR.dtd, s = "caption colgroup col thead tfoot tbody".split(" "), u = CKEDITOR.tools.extend({}, o.$blockLimit, o.$block), E = {
                    elements: {
                        input: d,
                        textarea: d
                    }
                }, p = {
                    attributeNames: [ [ /^on/, "data-cke-pa-on" ], [ /^srcdoc/, "data-cke-pa-srcdoc" ], [ /^data-cke-expando$/, "" ] ],
                    elements: {
                        iframe: function(e) {
                            if (e.attributes && e.attributes.src) {
                                var t = e.attributes.src.toLowerCase().replace(/[^a-z]/gi, "");
                                0 !== t.indexOf("javascript") && 0 !== t.indexOf("data") || (e.attributes["data-cke-pa-src"] = e.attributes.src, 
                                delete e.attributes.src);
                            }
                        }
                    }
                }, T = {
                    elements: {
                        embed: function(e) {
                            var t = e.parent;
                            if (t && "object" == t.name) {
                                var n = t.attributes.width, t = t.attributes.height;
                                n && (e.attributes.width = n), t && (e.attributes.height = t);
                            }
                        },
                        a: function(e) {
                            var t = e.attributes;
                            if (!(e.children.length || t.name || t.id || e.attributes["data-cke-saved-name"])) return !1;
                        }
                    }
                }, C = {
                    elementNames: [ [ /^cke:/, "" ], [ /^\?xml:namespace$/, "" ] ],
                    attributeNames: [ [ /^data-cke-(saved|pa)-/, "" ], [ /^data-cke-.*/, "" ], [ "hidefocus", "" ] ],
                    elements: {
                        $: function(e) {
                            var t = e.attributes;
                            if (t) {
                                if (t["data-cke-temp"]) return !1;
                                for (var n = [ "name", "href", "src" ], i = 0; i < n.length; i++) "data-cke-saved-" + n[i] in t && delete t[n[i]];
                            }
                            return e;
                        },
                        table: function(e) {
                            e.children.slice(0).sort(function(e, t) {
                                var n, i;
                                return e.type == CKEDITOR.NODE_ELEMENT && t.type == e.type && (n = CKEDITOR.tools.indexOf(s, e.name), 
                                i = CKEDITOR.tools.indexOf(s, t.name)), -1 < n && -1 < i && n != i || (n = e.parent ? e.getIndex() : -1, 
                                i = t.parent ? t.getIndex() : -1), n > i ? 1 : -1;
                            });
                        },
                        param: function(e) {
                            return e.children = [], e.isEmpty = !0, e;
                        },
                        span: function(e) {
                            "Apple-style-span" == e.attributes.class && delete e.name;
                        },
                        html: function(e) {
                            delete e.attributes.contenteditable, delete e.attributes.class;
                        },
                        body: function(e) {
                            delete e.attributes.spellcheck, delete e.attributes.contenteditable;
                        },
                        style: function(e) {
                            var t = e.children[0];
                            t && t.value && (t.value = CKEDITOR.tools.trim(t.value)), e.attributes.type || (e.attributes.type = "text/css");
                        },
                        title: function(e) {
                            var t = e.children[0];
                            !t && k(e, t = new CKEDITOR.htmlParser.text()), t.value = e.attributes["data-cke-title"] || "";
                        },
                        input: h,
                        textarea: h
                    },
                    attributes: {
                        class: function(e) {
                            return CKEDITOR.tools.ltrim(e.replace(/(?:^|\s+)cke_[^\s]*/g, "")) || !1;
                        }
                    }
                };
                CKEDITOR.env.ie && (C.attributes.style = function(e) {
                    return e.replace(/(^|;)([^\:]+)/g, function(e) {
                        return e.toLowerCase();
                    });
                });
                var I = /<(a|area|img|input|source)\b([^>]*)>/gi, O = /([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi, D = /^(href|src|name)$/i, R = /(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi, v = /(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi, K = /<cke:encoded>([^<]*)<\/cke:encoded>/gi, _ = /(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi, N = /(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi, S = /<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;
            }(), CKEDITOR.htmlParser.element = function(e, t) {
                this.name = e, this.attributes = t || {}, this.children = [];
                var n = e || "", i = n.match(/^cke:(.*)/);
                i && (n = i[1]), n = !!(CKEDITOR.dtd.$nonBodyContent[n] || CKEDITOR.dtd.$block[n] || CKEDITOR.dtd.$listItem[n] || CKEDITOR.dtd.$tableContent[n] || CKEDITOR.dtd.$nonEditable[n] || "br" == n), 
                this.isEmpty = !!CKEDITOR.dtd.$empty[e], this.isUnknown = !CKEDITOR.dtd[e], this._ = {
                    isBlockLike: n,
                    hasInlineStarted: this.isEmpty || !n
                };
            }, CKEDITOR.htmlParser.cssStyle = function(e) {
                var t = {};
                return ((e instanceof CKEDITOR.htmlParser.element ? e.attributes.style : e) || "").replace(/&quot;/g, '"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g, function(e, n, i) {
                    "font-family" == n && (i = i.replace(/["']/g, "")), t[n.toLowerCase()] = i;
                }), {
                    rules: t,
                    populate: function(e) {
                        var t = this.toString();
                        t && (e instanceof CKEDITOR.dom.element ? e.setAttribute("style", t) : e instanceof CKEDITOR.htmlParser.element ? e.attributes.style = t : e.style = t);
                    },
                    toString: function() {
                        var e, n = [];
                        for (e in t) t[e] && n.push(e, ":", t[e], ";");
                        return n.join("");
                    }
                };
            }, function() {
                function a(e) {
                    return function(t) {
                        return t.type == CKEDITOR.NODE_ELEMENT && ("string" == typeof e ? t.name == e : t.name in e);
                    };
                }
                var e = function(e, t) {
                    return e = e[0], t = t[0], e < t ? -1 : e > t ? 1 : 0;
                }, t = CKEDITOR.htmlParser.fragment.prototype;
                CKEDITOR.htmlParser.element.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node(), {
                    type: CKEDITOR.NODE_ELEMENT,
                    add: t.add,
                    clone: function() {
                        return new CKEDITOR.htmlParser.element(this.name, this.attributes);
                    },
                    filter: function(e, t) {
                        var n, i, o = this;
                        if (t = o.getFilterContext(t), t.off) return !0;
                        for (o.parent || e.onRoot(t, o); ;) {
                            if (n = o.name, !(i = e.onElementName(t, n))) return this.remove(), !1;
                            if (o.name = i, !(o = e.onElement(t, o))) return this.remove(), !1;
                            if (o !== this) return this.replaceWith(o), !1;
                            if (o.name == n) break;
                            if (o.type != CKEDITOR.NODE_ELEMENT) return this.replaceWith(o), !1;
                            if (!o.name) return this.replaceWithChildren(), !1;
                        }
                        n = o.attributes;
                        var a, r;
                        for (a in n) {
                            for (i = n[a]; ;) {
                                if (!(r = e.onAttributeName(t, a))) {
                                    delete n[a];
                                    break;
                                }
                                if (r == a) break;
                                delete n[a], a = r;
                            }
                            r && (!1 === (i = e.onAttribute(t, o, r, i)) ? delete n[r] : n[r] = i);
                        }
                        return o.isEmpty || this.filterChildren(e, !1, t), !0;
                    },
                    filterChildren: t.filterChildren,
                    writeHtml: function(t, n) {
                        n && this.filter(n);
                        var i, o, a = this.name, r = [], s = this.attributes;
                        t.openTag(a, s);
                        for (i in s) r.push([ i, s[i] ]);
                        for (t.sortAttributes && r.sort(e), i = 0, o = r.length; i < o; i++) s = r[i], t.attribute(s[0], s[1]);
                        t.openTagClose(a, this.isEmpty), this.writeChildrenHtml(t), this.isEmpty || t.closeTag(a);
                    },
                    writeChildrenHtml: t.writeChildrenHtml,
                    replaceWithChildren: function() {
                        for (var e = this.children, t = e.length; t; ) e[--t].insertAfter(this);
                        this.remove();
                    },
                    forEach: t.forEach,
                    getFirst: function(e) {
                        if (!e) return this.children.length ? this.children[0] : null;
                        "function" != typeof e && (e = a(e));
                        for (var t = 0, n = this.children.length; t < n; ++t) if (e(this.children[t])) return this.children[t];
                        return null;
                    },
                    getHtml: function() {
                        var e = new CKEDITOR.htmlParser.basicWriter();
                        return this.writeChildrenHtml(e), e.getHtml();
                    },
                    setHtml: function(e) {
                        e = this.children = CKEDITOR.htmlParser.fragment.fromHtml(e).children;
                        for (var t = 0, n = e.length; t < n; ++t) e[t].parent = this;
                    },
                    getOuterHtml: function() {
                        var e = new CKEDITOR.htmlParser.basicWriter();
                        return this.writeHtml(e), e.getHtml();
                    },
                    split: function(e) {
                        for (var t = this.children.splice(e, this.children.length - e), n = this.clone(), i = 0; i < t.length; ++i) t[i].parent = n;
                        return n.children = t, t[0] && (t[0].previous = null), 0 < e && (this.children[e - 1].next = null), 
                        this.parent.add(n, this.getIndex() + 1), n;
                    },
                    find: function(e, t) {
                        void 0 === t && (t = !1);
                        var n, i = [];
                        for (n = 0; n < this.children.length; n++) {
                            var o = this.children[n];
                            "function" == typeof e && e(o) ? i.push(o) : "string" == typeof e && o.name === e && i.push(o), 
                            t && o.find && (i = i.concat(o.find(e, t)));
                        }
                        return i;
                    },
                    addClass: function(e) {
                        if (!this.hasClass(e)) {
                            var t = this.attributes.class || "";
                            this.attributes.class = t + (t ? " " : "") + e;
                        }
                    },
                    removeClass: function(e) {
                        var t = this.attributes.class;
                        t && ((t = CKEDITOR.tools.trim(t.replace(new RegExp("(?:\\s+|^)" + e + "(?:\\s+|$)"), " "))) ? this.attributes.class = t : delete this.attributes.class);
                    },
                    hasClass: function(e) {
                        var t = this.attributes.class;
                        return !!t && new RegExp("(?:^|\\s)" + e + "(?=\\s|$)").test(t);
                    },
                    getFilterContext: function(e) {
                        var t = [];
                        if (e || (e = {
                            off: !1,
                            nonEditable: !1,
                            nestedEditable: !1
                        }), e.off || "off" != this.attributes["data-cke-processor"] || t.push("off", !0), 
                        e.nonEditable || "false" != this.attributes.contenteditable ? e.nonEditable && !e.nestedEditable && "true" == this.attributes.contenteditable && t.push("nestedEditable", !0) : t.push("nonEditable", !0), 
                        t.length) {
                            e = CKEDITOR.tools.copy(e);
                            for (var n = 0; n < t.length; n += 2) e[t[n]] = t[n + 1];
                        }
                        return e;
                    }
                }, !0);
            }(), function() {
                var e = /{([^}]+)}/g;
                CKEDITOR.template = function(e) {
                    this.source = String(e);
                }, CKEDITOR.template.prototype.output = function(t, n) {
                    var i = this.source.replace(e, function(e, n) {
                        return void 0 !== t[n] ? t[n] : e;
                    });
                    return n ? n.push(i) : i;
                };
            }(), delete CKEDITOR.loadFullCore, CKEDITOR.instances = {}, CKEDITOR.document = new CKEDITOR.dom.document(document), 
            CKEDITOR.add = function(e) {
                CKEDITOR.instances[e.name] = e, e.on("focus", function() {
                    CKEDITOR.currentInstance != e && (CKEDITOR.currentInstance = e, CKEDITOR.fire("currentInstance"));
                }), e.on("blur", function() {
                    CKEDITOR.currentInstance == e && (CKEDITOR.currentInstance = null, CKEDITOR.fire("currentInstance"));
                }), CKEDITOR.fire("instance", null, e);
            }, CKEDITOR.remove = function(e) {
                delete CKEDITOR.instances[e.name];
            }, function() {
                var e = {};
                CKEDITOR.addTemplate = function(t, n) {
                    var i = e[t];
                    return i || (i = {
                        name: t,
                        source: n
                    }, CKEDITOR.fire("template", i), e[t] = new CKEDITOR.template(i.source));
                }, CKEDITOR.getTemplate = function(t) {
                    return e[t];
                };
            }(), function() {
                var e = [];
                CKEDITOR.addCss = function(t) {
                    e.push(t);
                }, CKEDITOR.getCss = function() {
                    return e.join("\n");
                };
            }(), CKEDITOR.on("instanceDestroyed", function() {
                CKEDITOR.tools.isEmpty(this.instances) && CKEDITOR.fire("reset");
            }), CKEDITOR.TRISTATE_ON = 1, CKEDITOR.TRISTATE_OFF = 2, CKEDITOR.TRISTATE_DISABLED = 0, 
            function() {
                CKEDITOR.inline = function(e, t) {
                    if (!CKEDITOR.env.isCompatible) return null;
                    if (e = CKEDITOR.dom.element.get(e), e.getEditor()) throw 'The editor instance "' + e.getEditor().name + '" is already attached to the provided element.';
                    var n = new CKEDITOR.editor(t, e, CKEDITOR.ELEMENT_MODE_INLINE), i = e.is("textarea") ? e : null;
                    return i ? (n.setData(i.getValue(), null, !0), e = CKEDITOR.dom.element.createFromHtml('<div contenteditable="' + !!n.readOnly + '" class="cke_textarea_inline">' + i.getValue() + "</div>", CKEDITOR.document), 
                    e.insertAfter(i), i.hide(), i.$.form && n._attachToForm()) : n.setData(e.getHtml(), null, !0), 
                    n.on("loaded", function() {
                        n.fire("uiReady"), n.editable(e), n.container = e, n.ui.contentsElement = e, n.setData(n.getData(1)), 
                        n.resetDirty(), n.fire("contentDom"), n.mode = "wysiwyg", n.fire("mode"), n.status = "ready", 
                        n.fireOnce("instanceReady"), CKEDITOR.fire("instanceReady", null, n);
                    }, null, null, 1e4), n.on("destroy", function() {
                        i && (n.container.clearCustomData(), n.container.remove(), i.show()), n.element.clearCustomData(), 
                        delete n.element;
                    }), n;
                }, CKEDITOR.inlineAll = function() {
                    var e, t, n;
                    for (n in CKEDITOR.dtd.$editable) for (var i = CKEDITOR.document.getElementsByTag(n), o = 0, a = i.count(); o < a; o++) e = i.getItem(o), 
                    "true" == e.getAttribute("contenteditable") && (t = {
                        element: e,
                        config: {}
                    }, !1 !== CKEDITOR.fire("inline", t) && CKEDITOR.inline(e, t.config));
                }, CKEDITOR.domReady(function() {
                    !CKEDITOR.disableAutoInline && CKEDITOR.inlineAll();
                });
            }(), CKEDITOR.replaceClass = "ckeditor", function() {
                function a(e, t, n, i) {
                    if (!CKEDITOR.env.isCompatible) return null;
                    if (e = CKEDITOR.dom.element.get(e), e.getEditor()) throw 'The editor instance "' + e.getEditor().name + '" is already attached to the provided element.';
                    var o = new CKEDITOR.editor(t, e, i);
                    return i == CKEDITOR.ELEMENT_MODE_REPLACE && (e.setStyle("visibility", "hidden"), 
                    o._.required = e.hasAttribute("required"), e.removeAttribute("required")), n && o.setData(n, null, !0), 
                    o.on("loaded", function() {
                        b(o), i == CKEDITOR.ELEMENT_MODE_REPLACE && o.config.autoUpdateElement && e.$.form && o._attachToForm(), 
                        o.setMode(o.config.startupMode, function() {
                            o.resetDirty(), o.status = "ready", o.fireOnce("instanceReady"), CKEDITOR.fire("instanceReady", null, o);
                        });
                    }), o.on("destroy", f), o;
                }
                function f() {
                    var e = this.container, t = this.element;
                    e && (e.clearCustomData(), e.remove()), t && (t.clearCustomData(), this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE && (t.show(), 
                    this._.required && t.setAttribute("required", "required")), delete this.element);
                }
                function b(e) {
                    var t = e.name, n = e.element, i = e.elementMode, o = e.fire("uiSpace", {
                        space: "top",
                        html: ""
                    }).html, a = e.fire("uiSpace", {
                        space: "bottom",
                        html: ""
                    }).html, r = new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} ' + CKEDITOR.env.cssClass + '"  dir="{langDir}" lang="{langCode}" role="application"' + (e.title ? ' aria-labelledby="cke_{name}_arialbl"' : "") + ">" + (e.title ? '<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>' : "") + '<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'), t = CKEDITOR.dom.element.createFromHtml(r.output({
                        id: e.id,
                        name: t,
                        langDir: e.lang.dir,
                        langCode: e.langCode,
                        voiceLabel: e.title,
                        topHtml: o ? '<span id="' + e.ui.spaceId("top") + '" class="cke_top cke_reset_all" role="presentation" style="height:auto">' + o + "</span>" : "",
                        contentId: e.ui.spaceId("contents"),
                        bottomHtml: a ? '<span id="' + e.ui.spaceId("bottom") + '" class="cke_bottom cke_reset_all" role="presentation">' + a + "</span>" : "",
                        outerEl: CKEDITOR.env.ie ? "span" : "div"
                    }));
                    i == CKEDITOR.ELEMENT_MODE_REPLACE ? (n.hide(), t.insertAfter(n)) : n.append(t), 
                    e.container = t, e.ui.contentsElement = e.ui.space("contents"), o && e.ui.space("top").unselectable(), 
                    a && e.ui.space("bottom").unselectable(), n = e.config.width, i = e.config.height, 
                    n && t.setStyle("width", CKEDITOR.tools.cssLength(n)), i && e.ui.space("contents").setStyle("height", CKEDITOR.tools.cssLength(i)), 
                    t.disableContextMenu(), CKEDITOR.env.webkit && t.on("focus", function() {
                        e.focus();
                    }), e.fireOnce("uiReady");
                }
                CKEDITOR.replace = function(e, t) {
                    return a(e, t, null, CKEDITOR.ELEMENT_MODE_REPLACE);
                }, CKEDITOR.appendTo = function(e, t, n) {
                    return a(e, t, n, CKEDITOR.ELEMENT_MODE_APPENDTO);
                }, CKEDITOR.replaceAll = function() {
                    for (var e = document.getElementsByTagName("textarea"), t = 0; t < e.length; t++) {
                        var n = null, i = e[t];
                        if (i.name || i.id) {
                            if ("string" == typeof arguments[0]) {
                                if (!new RegExp("(?:^|\\s)" + arguments[0] + "(?:$|\\s)").test(i.className)) continue;
                            } else if ("function" == typeof arguments[0] && (n = {}, !1 === arguments[0](i, n))) continue;
                            this.replace(i, n);
                        }
                    }
                }, CKEDITOR.editor.prototype.addMode = function(e, t) {
                    (this._.modes || (this._.modes = {}))[e] = t;
                }, CKEDITOR.editor.prototype.setMode = function(e, t) {
                    var n = this, i = this._.modes;
                    if (e != n.mode && i && i[e]) {
                        if (n.fire("beforeSetMode", e), n.mode) {
                            var o, a = n.checkDirty(), i = n._.previousModeData, r = 0;
                            n.fire("beforeModeUnload"), n.editable(0), n._.previousMode = n.mode, n._.previousModeData = o = n.getData(1), 
                            "source" == n.mode && i == o && (n.fire("lockSnapshot", {
                                forceUpdate: !0
                            }), r = 1), n.ui.space("contents").setHtml(""), n.mode = "";
                        } else n._.previousModeData = n.getData(1);
                        this._.modes[e](function() {
                            n.mode = e, void 0 !== a && !a && n.resetDirty(), r ? n.fire("unlockSnapshot") : "wysiwyg" == e && n.fire("saveSnapshot"), 
                            setTimeout(function() {
                                n.fire("mode"), t && t.call(n);
                            }, 0);
                        });
                    }
                }, CKEDITOR.editor.prototype.resize = function(e, t, n, i) {
                    var o = this.container, a = this.ui.space("contents"), r = CKEDITOR.env.webkit && this.document && this.document.getWindow().$.frameElement;
                    i = i ? this.container.getFirst(function(e) {
                        return e.type == CKEDITOR.NODE_ELEMENT && e.hasClass("cke_inner");
                    }) : o, i.setSize("width", e, !0), r && (r.style.width = "1%");
                    var s = (i.$.offsetHeight || 0) - (a.$.clientHeight || 0), o = Math.max(t - (n ? 0 : s), 0);
                    t = n ? t + s : t, a.setStyle("height", o + "px"), r && (r.style.width = "100%"), 
                    this.fire("resize", {
                        outerHeight: t,
                        contentsHeight: o,
                        outerWidth: e || i.getSize("width")
                    });
                }, CKEDITOR.editor.prototype.getResizable = function(e) {
                    return e ? this.ui.space("contents") : this.container;
                }, CKEDITOR.domReady(function() {
                    CKEDITOR.replaceClass && CKEDITOR.replaceAll(CKEDITOR.replaceClass);
                });
            }(), CKEDITOR.config.startupMode = "wysiwyg", function() {
                function a(e) {
                    var t, n = e.editor, i = e.data.path, o = i.blockLimit, a = e.data.selection, r = a.getRanges()[0];
                    (CKEDITOR.env.gecko || CKEDITOR.env.ie && CKEDITOR.env.needsBrFiller) && (a = f(a, i)) && (a.appendBogus(), 
                    t = CKEDITOR.env.ie), k(n, i.block, o) && r.collapsed && !r.getCommonAncestor().isReadOnly() && (i = r.clone(), 
                    i.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS), o = new CKEDITOR.dom.walker(i), o.guard = function(e) {
                        return !c(e) || e.type == CKEDITOR.NODE_COMMENT || e.isReadOnly();
                    }, !o.checkForward() || i.checkStartOfBlock() && i.checkEndOfBlock()) && (n = r.fixBlock(!0, n.activeEnterMode == CKEDITOR.ENTER_DIV ? "div" : "p"), 
                    CKEDITOR.env.needsBrFiller || (n = n.getFirst(c)) && n.type == CKEDITOR.NODE_TEXT && CKEDITOR.tools.trim(n.getText()).match(/^(?:&nbsp;|\xa0)$/) && n.remove(), 
                    t = 1, e.cancel()), t && r.select();
                }
                function f(e, t) {
                    if (e.isFake) return 0;
                    var n = t.block || t.blockLimit, i = n && n.getLast(c);
                    return !n || !n.isBlockBoundary() || i && i.type == CKEDITOR.NODE_ELEMENT && i.isBlockBoundary() || n.is("pre") || n.getBogus() ? void 0 : n;
                }
                function b(e) {
                    var t = e.data.getTarget();
                    t.is("input") && ("submit" != (t = t.getAttribute("type")) && "reset" != t || e.data.preventDefault());
                }
                function c(e) {
                    return t(e) && n(e);
                }
                function e(e, t) {
                    return function(n) {
                        var i = n.data.$.toElement || n.data.$.fromElement || n.data.$.relatedTarget;
                        (i = i && i.nodeType == CKEDITOR.NODE_ELEMENT ? new CKEDITOR.dom.element(i) : null) && (t.equals(i) || t.contains(i)) || e.call(this, n);
                    };
                }
                function l(e) {
                    function b(e) {
                        return function(n, a) {
                            if (a && n.type == CKEDITOR.NODE_ELEMENT && n.is(i) && (t = n), !(a || !c(n) || e && o(n))) return !1;
                        };
                    }
                    var t, n = e.getRanges()[0];
                    e = e.root;
                    var i = {
                        table: 1,
                        ul: 1,
                        ol: 1,
                        dl: 1
                    };
                    if (n.startPath().contains(i)) {
                        var a = n.clone();
                        if (a.collapse(1), a.setStartAt(e, CKEDITOR.POSITION_AFTER_START), e = new CKEDITOR.dom.walker(a), 
                        e.guard = b(), e.checkBackward(), t) return a = n.clone(), a.collapse(), a.setEndAt(t, CKEDITOR.POSITION_AFTER_END), 
                        e = new CKEDITOR.dom.walker(a), e.guard = b(!0), t = !1, e.checkForward(), t;
                    }
                    return null;
                }
                function k(e, t, n) {
                    return !1 !== e.config.autoParagraph && e.activeEnterMode != CKEDITOR.ENTER_BR && (e.editable().equals(n) && !t || t && "true" == t.getAttribute("contenteditable"));
                }
                function d(e) {
                    return e.activeEnterMode != CKEDITOR.ENTER_BR && !1 !== e.config.autoParagraph && (e.activeEnterMode == CKEDITOR.ENTER_DIV ? "div" : "p");
                }
                function h(e) {
                    var t = e.editor;
                    t.getSelection().scrollIntoView(), setTimeout(function() {
                        t.fire("saveSnapshot");
                    }, 0);
                }
                function m(e, t, n) {
                    var i = e.getCommonAncestor(t);
                    for (t = e = n ? t : e; (e = e.getParent()) && !i.equals(e) && 1 == e.getChildCount(); ) t = e;
                    t.remove();
                }
                var t, n, i, o, r, s, u, E, p, T;
                CKEDITOR.editable = CKEDITOR.tools.createClass({
                    base: CKEDITOR.dom.element,
                    $: function(e, t) {
                        this.base(t.$ || t), this.editor = e, this.status = "unloaded", this.hasFocus = !1, 
                        this.setup();
                    },
                    proto: {
                        focus: function() {
                            var e;
                            if (CKEDITOR.env.webkit && !this.hasFocus && (e = this.editor._.previousActive || this.getDocument().getActive(), 
                            this.contains(e))) return void e.focus();
                            CKEDITOR.env.edge && 14 < CKEDITOR.env.version && !this.hasFocus && this.getDocument().equals(CKEDITOR.document) && (this.editor._.previousScrollTop = this.$.scrollTop);
                            try {
                                if (!CKEDITOR.env.ie || CKEDITOR.env.edge && 14 < CKEDITOR.env.version || !this.getDocument().equals(CKEDITOR.document)) if (CKEDITOR.env.chrome) {
                                    var t = this.$.scrollTop;
                                    this.$.focus(), this.$.scrollTop = t;
                                } else this.$.focus(); else this.$.setActive();
                            } catch (e) {
                                if (!CKEDITOR.env.ie) throw e;
                            }
                            CKEDITOR.env.safari && !this.isInline() && (e = CKEDITOR.document.getActive(), e.equals(this.getWindow().getFrame()) || this.getWindow().focus());
                        },
                        on: function(t, n) {
                            var i = Array.prototype.slice.call(arguments, 0);
                            return CKEDITOR.env.ie && /^focus|blur$/.exec(t) && (t = "focus" == t ? "focusin" : "focusout", 
                            n = e(n, this), i[0] = t, i[1] = n), CKEDITOR.dom.element.prototype.on.apply(this, i);
                        },
                        attachListener: function(e) {
                            !this._.listeners && (this._.listeners = []);
                            var t = Array.prototype.slice.call(arguments, 1), t = e.on.apply(e, t);
                            return this._.listeners.push(t), t;
                        },
                        clearListeners: function() {
                            var e = this._.listeners;
                            try {
                                for (;e.length; ) e.pop().removeListener();
                            } catch (e) {}
                        },
                        restoreAttrs: function() {
                            var e, t, n = this._.attrChanges;
                            for (t in n) n.hasOwnProperty(t) && (e = n[t], null !== e ? this.setAttribute(t, e) : this.removeAttribute(t));
                        },
                        attachClass: function(e) {
                            var t = this.getCustomData("classes");
                            this.hasClass(e) || (!t && (t = []), t.push(e), this.setCustomData("classes", t), 
                            this.addClass(e));
                        },
                        changeAttr: function(e, t) {
                            var n = this.getAttribute(e);
                            t !== n && (!this._.attrChanges && (this._.attrChanges = {}), e in this._.attrChanges || (this._.attrChanges[e] = n), 
                            this.setAttribute(e, t));
                        },
                        insertText: function(e) {
                            this.editor.focus(), this.insertHtml(this.transformPlainTextToHtml(e), "text");
                        },
                        transformPlainTextToHtml: function(e) {
                            var t = this.editor.getSelection().getStartElement().hasAscendant("pre", !0) ? CKEDITOR.ENTER_BR : this.editor.activeEnterMode;
                            return CKEDITOR.tools.transformPlainTextToHtml(e, t);
                        },
                        insertHtml: function(e, t, n) {
                            var i = this.editor;
                            i.focus(), i.fire("saveSnapshot"), n || (n = i.getSelection().getRanges()[0]), s(this, t || "html", e, n), 
                            n.select(), h(this), this.editor.fire("afterInsertHtml", {});
                        },
                        insertHtmlIntoRange: function(e, t, n) {
                            s(this, n || "html", e, t), this.editor.fire("afterInsertHtml", {
                                intoRange: t
                            });
                        },
                        insertElement: function(e, t) {
                            var n = this.editor;
                            n.focus(), n.fire("saveSnapshot");
                            var i = n.activeEnterMode, n = n.getSelection(), a = e.getName(), a = CKEDITOR.dtd.$block[a];
                            t || (t = n.getRanges()[0]), this.insertElementIntoRange(e, t) && (t.moveToPosition(e, CKEDITOR.POSITION_AFTER_END), 
                            a && ((a = e.getNext(function(e) {
                                return c(e) && !o(e);
                            })) && a.type == CKEDITOR.NODE_ELEMENT && a.is(CKEDITOR.dtd.$block) ? a.getDtd()["#"] ? t.moveToElementEditStart(a) : t.moveToElementEditEnd(e) : a || i == CKEDITOR.ENTER_BR || (a = t.fixBlock(!0, i == CKEDITOR.ENTER_DIV ? "div" : "p"), 
                            t.moveToElementEditStart(a)))), n.selectRanges([ t ]), h(this);
                        },
                        insertElementIntoSelection: function(e) {
                            this.insertElement(e);
                        },
                        insertElementIntoRange: function(e, t) {
                            var n = this.editor, i = n.config.enterMode, o = e.getName(), a = CKEDITOR.dtd.$block[o];
                            if (t.checkReadOnly()) return !1;
                            t.deleteContents(1), t.startContainer.type == CKEDITOR.NODE_ELEMENT && (t.startContainer.is({
                                tr: 1,
                                table: 1,
                                tbody: 1,
                                thead: 1,
                                tfoot: 1
                            }) ? u(t) : t.startContainer.is(CKEDITOR.dtd.$list) && E(t));
                            var r, s;
                            if (a) for (;(r = t.getCommonAncestor(0, 1)) && (s = CKEDITOR.dtd[r.getName()]) && (!s || !s[o]); ) r.getName() in CKEDITOR.dtd.span ? t.splitElement(r) : t.checkStartOfBlock() && t.checkEndOfBlock() ? (t.setStartBefore(r), 
                            t.collapse(!0), r.remove()) : t.splitBlock(i == CKEDITOR.ENTER_DIV ? "div" : "p", n.editable());
                            return t.insertNode(e), !0;
                        },
                        setData: function(e, t) {
                            t || (e = this.editor.dataProcessor.toHtml(e)), this.setHtml(e), this.fixInitialSelection(), 
                            "unloaded" == this.status && (this.status = "ready"), this.editor.fire("dataReady");
                        },
                        getData: function(e) {
                            var t = this.getHtml();
                            return e || (t = this.editor.dataProcessor.toDataFormat(t)), t;
                        },
                        setReadOnly: function(e) {
                            this.setAttribute("contenteditable", !e);
                        },
                        detach: function() {
                            this.removeClass("cke_editable"), this.status = "detached";
                            var e = this.editor;
                            this._.detach(), delete e.document, delete e.window;
                        },
                        isInline: function() {
                            return this.getDocument().equals(CKEDITOR.document);
                        },
                        fixInitialSelection: function() {
                            function a() {
                                var t, n = e.getDocument().$, i = n.getSelection();
                                e: if (i.anchorNode && i.anchorNode == e.$) t = !0; else {
                                    if (CKEDITOR.env.webkit && (t = e.getDocument().getActive()) && t.equals(e) && !i.anchorNode) {
                                        t = !0;
                                        break e;
                                    }
                                    t = void 0;
                                }
                                t && (t = new CKEDITOR.dom.range(e), t.moveToElementEditStart(e), n = n.createRange(), 
                                n.setStart(t.startContainer.$, t.startOffset), n.collapse(!0), i.removeAllRanges(), 
                                i.addRange(n));
                            }
                            var e = this;
                            CKEDITOR.env.ie && (9 > CKEDITOR.env.version || CKEDITOR.env.quirks) ? this.hasFocus && (this.focus(), 
                            function() {
                                var t = e.getDocument().$, n = t.selection, i = e.getDocument().getActive();
                                "None" == n.type && i.equals(e) && (n = new CKEDITOR.dom.range(e), t = t.body.createTextRange(), 
                                n.moveToElementEditStart(e), n = n.startContainer, n.type != CKEDITOR.NODE_ELEMENT && (n = n.getParent()), 
                                t.moveToElementText(n.$), t.collapse(!0), t.select());
                            }()) : this.hasFocus ? (this.focus(), a()) : this.once("focus", function() {
                                a();
                            }, null, null, -999);
                        },
                        getHtmlFromRange: function(e) {
                            return e.collapsed ? new CKEDITOR.dom.documentFragment(e.document) : (e = {
                                doc: this.getDocument(),
                                range: e.clone()
                            }, p.eol.detect(e, this), p.bogus.exclude(e), p.cell.shrink(e), e.fragment = e.range.cloneContents(), 
                            p.tree.rebuild(e, this), p.eol.fix(e, this), new CKEDITOR.dom.documentFragment(e.fragment.$));
                        },
                        extractHtmlFromRange: function(e, t) {
                            var o = T, a = {
                                range: e,
                                doc: e.document
                            }, r = this.getHtmlFromRange(e);
                            if (e.collapsed) return e.optimize(), r;
                            e.enlarge(CKEDITOR.ENLARGE_INLINE, 1), o.table.detectPurge(a), a.bookmark = e.createBookmark(), 
                            delete a.range;
                            var s = this.editor.createRange();
                            if (s.moveToPosition(a.bookmark.startNode, CKEDITOR.POSITION_BEFORE_START), a.targetBookmark = s.createBookmark(), 
                            o.list.detectMerge(a, this), o.table.detectRanges(a, this), o.block.detectMerge(a, this), 
                            a.tableContentsRanges ? (o.table.deleteRanges(a), e.moveToBookmark(a.bookmark), 
                            a.range = e) : (e.moveToBookmark(a.bookmark), a.range = e, e.extractContents(o.detectExtractMerge(a))), 
                            e.moveToBookmark(a.targetBookmark), e.optimize(), o.fixUneditableRangePosition(e), 
                            o.list.merge(a, this), o.table.purge(a, this), o.block.merge(a, this), t) {
                                if (o = e.startPath(), a = e.checkStartOfBlock() && e.checkEndOfBlock() && o.block && !e.root.equals(o.block)) {
                                    e: {
                                        var l, a = o.block.getElementsByTag("span"), s = 0;
                                        if (a) for (;l = a.getItem(s++); ) if (!n(l)) {
                                            a = !0;
                                            break e;
                                        }
                                        a = !1;
                                    }
                                    a = !a;
                                }
                                a && (e.moveToPosition(o.block, CKEDITOR.POSITION_BEFORE_START), o.block.remove());
                            } else o.autoParagraph(this.editor, e), i(e.startContainer) && e.startContainer.appendBogus();
                            return e.startContainer.mergeSiblings(), r;
                        },
                        setup: function() {
                            var e = this.editor;
                            if (this.attachListener(e, "beforeGetData", function() {
                                var t = this.getData();
                                this.is("textarea") || !1 !== e.config.ignoreEmptyParagraph && (t = t.replace(r, function(e, t) {
                                    return t;
                                })), e.setData(t, null, 1);
                            }, this), this.attachListener(e, "getSnapshot", function(e) {
                                e.data = this.getData(1);
                            }, this), this.attachListener(e, "afterSetData", function() {
                                this.setData(e.getData(1));
                            }, this), this.attachListener(e, "loadSnapshot", function(e) {
                                this.setData(e.data, 1);
                            }, this), this.attachListener(e, "beforeFocus", function() {
                                var t = e.getSelection();
                                (t = t && t.getNative()) && "Control" == t.type || this.focus();
                            }, this), this.attachListener(e, "insertHtml", function(e) {
                                this.insertHtml(e.data.dataValue, e.data.mode, e.data.range);
                            }, this), this.attachListener(e, "insertElement", function(e) {
                                this.insertElement(e.data);
                            }, this), this.attachListener(e, "insertText", function(e) {
                                this.insertText(e.data);
                            }, this), this.setReadOnly(e.readOnly), this.attachClass("cke_editable"), e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? this.attachClass("cke_editable_inline") : e.elementMode != CKEDITOR.ELEMENT_MODE_REPLACE && e.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO || this.attachClass("cke_editable_themed"), 
                            this.attachClass("cke_contents_" + e.config.contentsLangDirection), e.keystrokeHandler.blockedKeystrokes[8] = +e.readOnly, 
                            e.keystrokeHandler.attach(this), this.on("blur", function() {
                                this.hasFocus = !1;
                            }, null, null, -1), this.on("focus", function() {
                                this.hasFocus = !0;
                            }, null, null, -1), CKEDITOR.env.webkit && this.on("scroll", function() {
                                e._.previousScrollTop = e.editable().$.scrollTop;
                            }, null, null, -1), CKEDITOR.env.edge && 14 < CKEDITOR.env.version) {
                                var n = function() {
                                    var t = e.editable();
                                    null != e._.previousScrollTop && t.getDocument().equals(CKEDITOR.document) && (t.$.scrollTop = e._.previousScrollTop, 
                                    e._.previousScrollTop = null, this.removeListener("scroll", n));
                                };
                                this.on("scroll", n);
                            }
                            if (e.focusManager.add(this), this.equals(CKEDITOR.document.getActive()) && (this.hasFocus = !0, 
                            e.once("contentDom", function() {
                                e.focusManager.focus(this);
                            }, this)), this.isInline() && this.changeAttr("tabindex", e.tabIndex), !this.is("textarea")) {
                                e.document = this.getDocument(), e.window = this.getWindow();
                                var i = e.document;
                                this.changeAttr("spellcheck", !e.config.disableNativeSpellChecker);
                                var o = e.config.contentsLangDirection;
                                this.getDirection(1) != o && this.changeAttr("dir", o);
                                var a = CKEDITOR.getCss();
                                if (a) {
                                    var o = i.getHead(), s = o.getCustomData("stylesheet");
                                    s ? a != s.getText() && (CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? s.$.styleSheet.cssText = a : s.setText(a)) : (a = i.appendStyleText(a), 
                                    a = new CKEDITOR.dom.element(a.ownerNode || a.owningElement), o.setCustomData("stylesheet", a), 
                                    a.data("cke-temp", 1));
                                }
                                o = i.getCustomData("stylesheet_ref") || 0, i.setCustomData("stylesheet_ref", o + 1), 
                                this.setCustomData("cke_includeReadonly", !e.config.disableReadonlyStyling), this.attachListener(this, "click", function(e) {
                                    e = e.data;
                                    var t = new CKEDITOR.dom.elementPath(e.getTarget(), this).contains("a");
                                    t && 2 != e.$.button && t.isReadOnly() && e.preventDefault();
                                });
                                var d = {
                                    8: 1,
                                    46: 1
                                };
                                this.attachListener(e, "key", function(n) {
                                    if (e.readOnly) return !0;
                                    var i, o = n.data.domEvent.getKey();
                                    if (n = e.getSelection(), 0 !== n.getRanges().length) {
                                        if (o in d) {
                                            var a, r, s, c, u = n.getRanges()[0], h = u.startPath(), o = 8 == o;
                                            CKEDITOR.env.ie && 11 > CKEDITOR.env.version && (a = n.getSelectedElement()) || (a = l(n)) ? (e.fire("saveSnapshot"), 
                                            u.moveToPosition(a, CKEDITOR.POSITION_BEFORE_START), a.remove(), u.select(), e.fire("saveSnapshot"), 
                                            i = 1) : u.collapsed && ((r = h.block) && (c = r[o ? "getPrevious" : "getNext"](t)) && c.type == CKEDITOR.NODE_ELEMENT && c.is("table") && u[o ? "checkStartOfBlock" : "checkEndOfBlock"]() ? (e.fire("saveSnapshot"), 
                                            u[o ? "checkEndOfBlock" : "checkStartOfBlock"]() && r.remove(), u["moveToElementEdit" + (o ? "End" : "Start")](c), 
                                            u.select(), e.fire("saveSnapshot"), i = 1) : h.blockLimit && h.blockLimit.is("td") && (s = h.blockLimit.getAscendant("table")) && u.checkBoundaryOfElement(s, o ? CKEDITOR.START : CKEDITOR.END) && (c = s[o ? "getPrevious" : "getNext"](t)) ? (e.fire("saveSnapshot"), 
                                            u["moveToElementEdit" + (o ? "End" : "Start")](c), u.checkStartOfBlock() && u.checkEndOfBlock() ? c.remove() : u.select(), 
                                            e.fire("saveSnapshot"), i = 1) : (s = h.contains([ "td", "th", "caption" ])) && u.checkBoundaryOfElement(s, o ? CKEDITOR.START : CKEDITOR.END) && (i = 1));
                                        }
                                        return !i;
                                    }
                                }), e.blockless && CKEDITOR.env.ie && CKEDITOR.env.needsBrFiller && this.attachListener(this, "keyup", function(t) {
                                    t.data.getKeystroke() in d && !this.getFirst(c) && (this.appendBogus(), t = e.createRange(), 
                                    t.moveToPosition(this, CKEDITOR.POSITION_AFTER_START), t.select());
                                }), this.attachListener(this, "dblclick", function(t) {
                                    if (e.readOnly) return !1;
                                    t = {
                                        element: t.data.getTarget()
                                    }, e.fire("doubleclick", t);
                                }), CKEDITOR.env.ie && this.attachListener(this, "click", b), CKEDITOR.env.ie && !CKEDITOR.env.edge || this.attachListener(this, "mousedown", function(t) {
                                    var n = t.data.getTarget();
                                    n.is("img", "hr", "input", "textarea", "select") && !n.isReadOnly() && (e.getSelection().selectElement(n), 
                                    n.is("input", "textarea", "select") && t.data.preventDefault());
                                }), CKEDITOR.env.edge && this.attachListener(this, "mouseup", function(t) {
                                    (t = t.data.getTarget()) && t.is("img") && e.getSelection().selectElement(t);
                                }), CKEDITOR.env.gecko && this.attachListener(this, "mouseup", function(t) {
                                    if (2 == t.data.$.button && (t = t.data.getTarget(), !t.getOuterHtml().replace(r, ""))) {
                                        var n = e.createRange();
                                        n.moveToElementEditStart(t), n.select(!0);
                                    }
                                }), CKEDITOR.env.webkit && (this.attachListener(this, "click", function(e) {
                                    e.data.getTarget().is("input", "select") && e.data.preventDefault();
                                }), this.attachListener(this, "mouseup", function(e) {
                                    e.data.getTarget().is("input", "textarea") && e.data.preventDefault();
                                })), CKEDITOR.env.webkit && this.attachListener(e, "key", function(t) {
                                    if (e.readOnly) return !0;
                                    var n = t.data.domEvent.getKey();
                                    if (n in d && (t = e.getSelection(), 0 !== t.getRanges().length)) {
                                        var n = 8 == n, i = t.getRanges()[0];
                                        if (t = i.startPath(), i.collapsed) e: {
                                            var o = t.block;
                                            if (o && i[n ? "checkStartOfBlock" : "checkEndOfBlock"]() && i.moveToClosestEditablePosition(o, !n) && i.collapsed) {
                                                if (i.startContainer.type == CKEDITOR.NODE_ELEMENT) {
                                                    var a = i.startContainer.getChild(i.startOffset - (n ? 1 : 0));
                                                    if (a && a.type == CKEDITOR.NODE_ELEMENT && a.is("hr")) {
                                                        e.fire("saveSnapshot"), a.remove(), t = !0;
                                                        break e;
                                                    }
                                                }
                                                if (!(i = i.startPath().block) || i && i.contains(o)) t = void 0; else {
                                                    e.fire("saveSnapshot");
                                                    var r;
                                                    (r = (n ? i : o).getBogus()) && r.remove(), r = e.getSelection(), a = r.createBookmarks(), 
                                                    (n ? o : i).moveChildren(n ? i : o, !1), t.lastElement.mergeSiblings(), m(o, i, !n), 
                                                    r.selectBookmarks(a), t = !0;
                                                }
                                            } else t = !1;
                                        } else n = i, r = t.block, i = n.endPath().block, r && i && !r.equals(i) ? (e.fire("saveSnapshot"), 
                                        (o = r.getBogus()) && o.remove(), n.enlarge(CKEDITOR.ENLARGE_INLINE), n.deleteContents(), 
                                        i.getParent() && (i.moveChildren(r, !1), t.lastElement.mergeSiblings(), m(r, i, !0)), 
                                        n = e.getSelection().getRanges()[0], n.collapse(1), n.optimize(), "" === n.startContainer.getHtml() && n.startContainer.appendBogus(), 
                                        n.select(), t = !0) : t = !1;
                                        if (!t) return;
                                        return e.getSelection().scrollIntoView(), e.fire("saveSnapshot"), !1;
                                    }
                                }, this, null, 100);
                            }
                        }
                    },
                    _: {
                        detach: function() {
                            this.editor.setData(this.editor.getData(), 0, 1), this.clearListeners(), this.restoreAttrs();
                            var e;
                            if (e = this.removeCustomData("classes")) for (;e.length; ) this.removeClass(e.pop());
                            if (!this.is("textarea")) {
                                e = this.getDocument();
                                var t = e.getHead();
                                if (t.getCustomData("stylesheet")) {
                                    var n = e.getCustomData("stylesheet_ref");
                                    --n ? e.setCustomData("stylesheet_ref", n) : (e.removeCustomData("stylesheet_ref"), 
                                    t.removeCustomData("stylesheet").remove());
                                }
                            }
                            this.editor.fire("contentDomUnload"), delete this.editor;
                        }
                    }
                }), CKEDITOR.editor.prototype.editable = function(e) {
                    var t = this._.editable;
                    return t && e ? 0 : (arguments.length && (t = this._.editable = e ? e instanceof CKEDITOR.editable ? e : new CKEDITOR.editable(this, e) : (t && t.detach(), 
                    null)), t);
                }, CKEDITOR.on("instanceLoaded", function(e) {
                    var t = e.editor;
                    t.on("insertElement", function(e) {
                        e = e.data, e.type == CKEDITOR.NODE_ELEMENT && (e.is("input") || e.is("textarea")) && ("false" != e.getAttribute("contentEditable") && e.data("cke-editable", e.hasAttribute("contenteditable") ? "true" : "1"), 
                        e.setAttribute("contentEditable", !1));
                    }), t.on("selectionChange", function(e) {
                        if (!t.readOnly) {
                            var n = t.getSelection();
                            n && !n.isLocked && (n = t.checkDirty(), t.fire("lockSnapshot"), a(e), t.fire("unlockSnapshot"), 
                            !n && t.resetDirty());
                        }
                    });
                }), CKEDITOR.on("instanceCreated", function(e) {
                    var t = e.editor;
                    t.on("mode", function() {
                        var e = t.editable();
                        if (e && e.isInline()) {
                            var n = t.title;
                            e.changeAttr("role", "textbox"), e.changeAttr("aria-label", n), n && e.changeAttr("title", n);
                            var i = t.fire("ariaEditorHelpLabel", {}).label;
                            if (i && (n = this.ui.space(this.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? "top" : "contents"))) {
                                var o = CKEDITOR.tools.getNextId(), i = CKEDITOR.dom.element.createFromHtml('<span id="' + o + '" class="cke_voice_label">' + i + "</span>");
                                n.append(i), e.changeAttr("aria-describedby", o);
                            }
                        }
                    });
                }), CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"), 
                t = CKEDITOR.dom.walker.whitespaces(!0), n = CKEDITOR.dom.walker.bookmark(!1, !0), 
                i = CKEDITOR.dom.walker.empty(), o = CKEDITOR.dom.walker.bogus(), r = /(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi, 
                s = function() {
                    function a(e) {
                        return e.type == CKEDITOR.NODE_ELEMENT;
                    }
                    function b(e, n) {
                        var i, o, r, s, l = [], c = n.range.startContainer;
                        i = n.range.startPath();
                        for (var c = t[c.getName()], d = 0, u = e.getChildren(), h = u.count(), f = -1, m = -1, g = 0, E = i.contains(t.$list); d < h; ++d) i = u.getItem(d), 
                        a(i) ? (r = i.getName(), E && r in CKEDITOR.dtd.$list ? l = l.concat(b(i, n)) : (s = !!c[r], 
                        "br" != r || !i.data("cke-eol") || d && d != h - 1 || (g = (o = d ? l[d - 1].node : u.getItem(d + 1)) && (!a(o) || !o.is("br")), 
                        o = o && a(o) && t.$block[o.getName()]), -1 != f || s || (f = d), s || (m = d), 
                        l.push({
                            isElement: 1,
                            isLineBreak: g,
                            isBlock: i.isBlockBoundary(),
                            hasBlockSibling: o,
                            node: i,
                            name: r,
                            allowed: s
                        }), o = g = 0)) : l.push({
                            isElement: 0,
                            node: i,
                            allowed: 1
                        });
                        return -1 < f && (l[f].firstNotAllowed = 1), -1 < m && (l[m].lastNotAllowed = 1), 
                        l;
                    }
                    function e(n, i) {
                        var o, r = [], s = n.getChildren(), l = s.count(), c = 0, d = t[i], u = !n.is(t.$inline) || n.is("br");
                        for (u && r.push(" "); c < l; c++) o = s.getItem(c), a(o) && !o.is(d) ? r = r.concat(e(o, i)) : r.push(o);
                        return u && r.push(" "), r;
                    }
                    function g(e) {
                        return a(e.startContainer) && e.startContainer.getChild(e.startOffset - 1);
                    }
                    function f(e) {
                        return e && a(e) && (e.is(t.$removeEmpty) || e.is("a") && !e.isBlockBoundary());
                    }
                    function h(e, t, i, o) {
                        var r, s, l = e.clone();
                        l.setEndAt(t, CKEDITOR.POSITION_BEFORE_END), (r = new CKEDITOR.dom.walker(l).next()) && a(r) && n[r.getName()] && (s = r.getPrevious()) && a(s) && !s.getParent().equals(e.startContainer) && i.contains(s) && o.contains(r) && r.isIdentical(s) && (r.moveChildren(s), 
                        r.remove(), h(e, t, i, o));
                    }
                    function m(e, t) {
                        function d(e, t) {
                            if (t.isBlock && t.isElement && !t.node.is("br") && a(e) && e.is("br")) return e.remove(), 
                            1;
                        }
                        var n = t.endContainer.getChild(t.endOffset), i = t.endContainer.getChild(t.endOffset - 1);
                        n && d(n, e[e.length - 1]), i && d(i, e[0]) && (t.setEnd(t.endContainer, t.endOffset - 1), 
                        t.collapse());
                    }
                    var t = CKEDITOR.dtd, n = {
                        p: 1,
                        div: 1,
                        h1: 1,
                        h2: 1,
                        h3: 1,
                        h4: 1,
                        h5: 1,
                        h6: 1,
                        ul: 1,
                        ol: 1,
                        li: 1,
                        pre: 1,
                        dl: 1,
                        blockquote: 1
                    }, i = {
                        p: 1,
                        div: 1,
                        h1: 1,
                        h2: 1,
                        h3: 1,
                        h4: 1,
                        h5: 1,
                        h6: 1
                    }, o = CKEDITOR.tools.extend({}, t.$inline);
                    return delete o.br, function(n, r, s, l) {
                        var u = n.editor, E = !1;
                        if ("unfiltered_html" == r && (r = "html", E = !0), !l.checkReadOnly()) {
                            var p = new CKEDITOR.dom.elementPath(l.startContainer, l.root).blockLimit || l.root;
                            n = {
                                type: r,
                                dontFilter: E,
                                editable: n,
                                editor: u,
                                range: l,
                                blockLimit: p,
                                mergeCandidates: [],
                                zombies: []
                            }, r = n.range, l = n.mergeCandidates;
                            var T, C;
                            if ("text" == n.type && r.shrink(CKEDITOR.SHRINK_ELEMENT, !0, !1) && (T = CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>", r.document), 
                            r.insertNode(T), r.setStartAfter(T)), E = new CKEDITOR.dom.elementPath(r.startContainer), 
                            n.endPath = p = new CKEDITOR.dom.elementPath(r.endContainer), !r.collapsed) {
                                var u = p.block || p.blockLimit, I = r.getCommonAncestor();
                                u && !u.equals(I) && !u.contains(I) && r.checkEndOfBlock() && n.zombies.push(u), 
                                r.deleteContents();
                            }
                            for (;(C = g(r)) && a(C) && C.isBlockBoundary() && E.contains(C); ) r.moveToPosition(C, CKEDITOR.POSITION_BEFORE_END);
                            for (h(r, n.blockLimit, E, p), T && (r.setEndBefore(T), r.collapse(), T.remove()), 
                            T = r.startPath(), (u = T.contains(f, !1, 1)) && (r.splitElement(u), n.inlineStylesRoot = u, 
                            n.inlineStylesPeak = T.lastElement), T = r.createBookmark(), (u = T.startNode.getPrevious(c)) && a(u) && f(u) && l.push(u), 
                            (u = T.startNode.getNext(c)) && a(u) && f(u) && l.push(u), u = T.startNode; (u = u.getParent()) && f(u); ) l.push(u);
                            if (r.moveToBookmark(T), T = s) {
                                if (T = n.range, "text" == n.type && n.inlineStylesRoot) {
                                    for (C = n.inlineStylesPeak, r = C.getDocument().createText("{cke-peak}"), l = n.inlineStylesRoot.getParent(); !C.equals(l); ) r = r.appendTo(C.clone()), 
                                    C = C.getParent();
                                    s = r.getOuterHtml().split("{cke-peak}").join(s);
                                }
                                if (C = n.blockLimit.getName(), /^\s+|\s+$/.test(s) && "span" in CKEDITOR.dtd[C]) {
                                    var O = '<span data-cke-marker="1">&nbsp;</span>';
                                    s = O + s + O;
                                }
                                if (s = n.editor.dataProcessor.toHtml(s, {
                                    context: null,
                                    fixForBody: !1,
                                    protectedWhitespaces: !!O,
                                    dontFilter: n.dontFilter,
                                    filter: n.editor.activeFilter,
                                    enterMode: n.editor.activeEnterMode
                                }), C = T.document.createElement("body"), C.setHtml(s), O && (C.getFirst().remove(), 
                                C.getLast().remove()), (O = T.startPath().block) && (1 != O.getChildCount() || !O.getBogus())) e: {
                                    var D;
                                    if (1 == C.getChildCount() && a(D = C.getFirst()) && D.is(i) && !D.hasAttribute("contenteditable")) {
                                        for (O = D.getElementsByTag("*"), T = 0, l = O.count(); T < l; T++) if (r = O.getItem(T), 
                                        !r.is(o)) break e;
                                        D.moveChildren(D.getParent(1)), D.remove();
                                    }
                                }
                                n.dataWrapper = C, T = s;
                            }
                            if (T) {
                                D = n.range, T = D.document;
                                var R;
                                C = n.blockLimit, l = 0;
                                var v, K, y, O = [];
                                s = u = 0;
                                var _, N;
                                r = D.startContainer;
                                var S, E = n.endPath.elements[0], p = E.getPosition(r), I = !(!E.getCommonAncestor(r) || p == CKEDITOR.POSITION_IDENTICAL || p & CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_IS_CONTAINED);
                                for (r = b(n.dataWrapper, n), m(r, D); l < r.length; l++) {
                                    if (p = r[l], R = p.isLineBreak) {
                                        R = D, _ = C;
                                        var w = void 0, x = void 0;
                                        p.hasBlockSibling ? R = 1 : (w = R.startContainer.getAscendant(t.$block, 1)) && w.is({
                                            div: 1,
                                            p: 1
                                        }) ? (x = w.getPosition(_), x == CKEDITOR.POSITION_IDENTICAL || x == CKEDITOR.POSITION_CONTAINS ? R = 0 : (_ = R.splitElement(w), 
                                        R.moveToPosition(_, CKEDITOR.POSITION_AFTER_START), R = 1)) : R = 0;
                                    }
                                    if (R) s = 0 < l; else {
                                        if (R = D.startPath(), !p.isBlock && k(n.editor, R.block, R.blockLimit) && (y = d(n.editor)) && (y = T.createElement(y), 
                                        y.appendBogus(), D.insertNode(y), CKEDITOR.env.needsBrFiller && (v = y.getBogus()) && v.remove(), 
                                        D.moveToPosition(y, CKEDITOR.POSITION_BEFORE_END)), (R = D.startPath().block) && !R.equals(K) && ((v = R.getBogus()) && (v.remove(), 
                                        O.push(R)), K = R), p.firstNotAllowed && (u = 1), u && p.isElement) {
                                            for (R = D.startContainer, _ = null; R && !t[R.getName()][p.name]; ) {
                                                if (R.equals(C)) {
                                                    R = null;
                                                    break;
                                                }
                                                _ = R, R = R.getParent();
                                            }
                                            if (R) _ && (N = D.splitElement(_), n.zombies.push(N), n.zombies.push(_)); else {
                                                _ = C.getName(), S = !l, R = l == r.length - 1, _ = e(p.node, _);
                                                for (var w = [], x = _.length, A = 0, L = void 0, F = 0, B = -1; A < x; A++) L = _[A], 
                                                " " == L ? (F || S && !A || (w.push(new CKEDITOR.dom.text(" ")), B = w.length), 
                                                F = 1) : (w.push(L), F = 0);
                                                R && B == w.length && w.pop(), S = w;
                                            }
                                        }
                                        if (S) {
                                            for (;R = S.pop(); ) D.insertNode(R);
                                            S = 0;
                                        } else D.insertNode(p.node);
                                        p.lastNotAllowed && l < r.length - 1 && ((N = I ? E : N) && D.setEndAt(N, CKEDITOR.POSITION_AFTER_START), 
                                        u = 0), D.collapse();
                                    }
                                }
                                1 != r.length ? v = !1 : (v = r[0], v = v.isElement && "false" == v.node.getAttribute("contenteditable")), 
                                v && (s = !0, R = r[0].node, D.setStartAt(R, CKEDITOR.POSITION_BEFORE_START), D.setEndAt(R, CKEDITOR.POSITION_AFTER_END)), 
                                n.dontMoveCaret = s, n.bogusNeededBlocks = O;
                            }
                            v = n.range;
                            var P;
                            for (N = n.bogusNeededBlocks, S = v.createBookmark(); K = n.zombies.pop(); ) K.getParent() && (y = v.clone(), 
                            y.moveToElementEditStart(K), y.removeEmptyBlocksAtEnd());
                            if (N) for (;K = N.pop(); ) CKEDITOR.env.needsBrFiller ? K.appendBogus() : K.append(v.document.createText(" "));
                            for (;K = n.mergeCandidates.pop(); ) K.mergeSiblings();
                            if (v.moveToBookmark(S), !n.dontMoveCaret) {
                                for (K = g(v); K && a(K) && !K.is(t.$empty); ) {
                                    if (K.isBlockBoundary()) v.moveToPosition(K, CKEDITOR.POSITION_BEFORE_END); else {
                                        if (f(K) && K.getHtml().match(/(\s|&nbsp;)$/g)) {
                                            P = null;
                                            break;
                                        }
                                        P = v.clone(), P.moveToPosition(K, CKEDITOR.POSITION_BEFORE_END);
                                    }
                                    K = K.getLast(c);
                                }
                                P && v.moveToRange(P);
                            }
                        }
                    };
                }(), u = function() {
                    function a(e) {
                        return e = new CKEDITOR.dom.walker(e), e.guard = function(e, t) {
                            return !t && (e.type == CKEDITOR.NODE_ELEMENT ? e.is(CKEDITOR.dtd.$tableContent) : void 0);
                        }, e.evaluator = function(e) {
                            return e.type == CKEDITOR.NODE_ELEMENT;
                        }, e;
                    }
                    function b(e, t, n) {
                        return t = e.getDocument().createElement(t), e.append(t, n), t;
                    }
                    function c(e) {
                        var t, n = e.count();
                        for (n; 0 < n--; ) t = e.getItem(n), CKEDITOR.tools.trim(t.getHtml()) || (t.appendBogus(), 
                        CKEDITOR.env.ie && 9 > CKEDITOR.env.version && t.getChildCount() && t.getFirst().remove());
                    }
                    return function(e) {
                        var t = e.startContainer, n = t.getAscendant("table", 1), i = !1;
                        c(n.getElementsByTag("td")), c(n.getElementsByTag("th")), n = e.clone(), n.setStart(t, 0), 
                        n = a(n).lastBackward(), n || (n = e.clone(), n.setEndAt(t, CKEDITOR.POSITION_BEFORE_END), 
                        n = a(n).lastForward(), i = !0), n || (n = t), n.is("table") ? (e.setStartAt(n, CKEDITOR.POSITION_BEFORE_START), 
                        e.collapse(!0), n.remove()) : (n.is({
                            tbody: 1,
                            thead: 1,
                            tfoot: 1
                        }) && (n = b(n, "tr", i)), n.is("tr") && (n = b(n, n.getParent().is("thead") ? "th" : "td", i)), 
                        (t = n.getBogus()) && t.remove(), e.moveToPosition(n, i ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END));
                    };
                }(), E = function() {
                    function a(e) {
                        return e = new CKEDITOR.dom.walker(e), e.guard = function(e, t) {
                            return !t && (e.type == CKEDITOR.NODE_ELEMENT ? e.is(CKEDITOR.dtd.$list) || e.is(CKEDITOR.dtd.$listItem) : void 0);
                        }, e.evaluator = function(e) {
                            return e.type == CKEDITOR.NODE_ELEMENT && e.is(CKEDITOR.dtd.$listItem);
                        }, e;
                    }
                    return function(e) {
                        var t, n = e.startContainer, i = !1;
                        t = e.clone(), t.setStart(n, 0), t = a(t).lastBackward(), t || (t = e.clone(), t.setEndAt(n, CKEDITOR.POSITION_BEFORE_END), 
                        t = a(t).lastForward(), i = !0), t || (t = n), t.is(CKEDITOR.dtd.$list) ? (e.setStartAt(t, CKEDITOR.POSITION_BEFORE_START), 
                        e.collapse(!0), t.remove()) : ((n = t.getBogus()) && n.remove(), e.moveToPosition(t, i ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END), 
                        e.select());
                    };
                }(), p = {
                    eol: {
                        detect: function(e, t) {
                            var n = e.range, i = n.clone(), o = n.clone(), a = new CKEDITOR.dom.elementPath(n.startContainer, t), r = new CKEDITOR.dom.elementPath(n.endContainer, t);
                            i.collapse(1), o.collapse(), a.block && i.checkBoundaryOfElement(a.block, CKEDITOR.END) && (n.setStartAfter(a.block), 
                            e.prependEolBr = 1), r.block && o.checkBoundaryOfElement(r.block, CKEDITOR.START) && (n.setEndBefore(r.block), 
                            e.appendEolBr = 1);
                        },
                        fix: function(e, t) {
                            var n, i = t.getDocument();
                            e.appendEolBr && (n = this.createEolBr(i), e.fragment.append(n)), !e.prependEolBr || n && !n.getPrevious() || e.fragment.append(this.createEolBr(i), 1);
                        },
                        createEolBr: function(e) {
                            return e.createElement("br", {
                                attributes: {
                                    "data-cke-eol": 1
                                }
                            });
                        }
                    },
                    bogus: {
                        exclude: function(e) {
                            var t = e.range.getBoundaryNodes(), n = t.startNode, t = t.endNode;
                            !t || !o(t) || n && n.equals(t) || e.range.setEndBefore(t);
                        }
                    },
                    tree: {
                        rebuild: function(e, t) {
                            var n, i = e.range, o = i.getCommonAncestor(), a = new CKEDITOR.dom.elementPath(o, t), r = new CKEDITOR.dom.elementPath(i.startContainer, t), i = new CKEDITOR.dom.elementPath(i.endContainer, t);
                            if (o.type == CKEDITOR.NODE_TEXT && (o = o.getParent()), a.blockLimit.is({
                                tr: 1,
                                table: 1
                            })) {
                                var s = a.contains("table").getParent();
                                n = function(e) {
                                    return !e.equals(s);
                                };
                            } else if (a.block && a.block.is(CKEDITOR.dtd.$listItem) && (r = r.contains(CKEDITOR.dtd.$list), 
                            i = i.contains(CKEDITOR.dtd.$list), !r.equals(i))) {
                                var l = a.contains(CKEDITOR.dtd.$list).getParent();
                                n = function(e) {
                                    return !e.equals(l);
                                };
                            }
                            n || (n = function(e) {
                                return !e.equals(a.block) && !e.equals(a.blockLimit);
                            }), this.rebuildFragment(e, t, o, n);
                        },
                        rebuildFragment: function(e, t, n, i) {
                            for (var o; n && !n.equals(t) && i(n); ) o = n.clone(0, 1), e.fragment.appendTo(o), 
                            e.fragment = o, n = n.getParent();
                        }
                    },
                    cell: {
                        shrink: function(e) {
                            e = e.range;
                            var t = e.startContainer, n = e.endContainer, i = e.startOffset, o = e.endOffset;
                            t.type == CKEDITOR.NODE_ELEMENT && t.equals(n) && t.is("tr") && ++i == o && e.shrink(CKEDITOR.SHRINK_TEXT);
                        }
                    }
                }, T = function() {
                    function a(e, t) {
                        var n = e.getParent();
                        n.is(CKEDITOR.dtd.$inline) && e[t ? "insertBefore" : "insertAfter"](n);
                    }
                    function b(e, t, n) {
                        a(t), a(n, 1);
                        for (var o; o = n.getNext(); ) o.insertAfter(t), t = o;
                        i(e) && e.remove();
                    }
                    function c(e, t) {
                        var n = new CKEDITOR.dom.range(e);
                        return n.setStartAfter(t.startNode), n.setEndBefore(t.endNode), n;
                    }
                    return {
                        list: {
                            detectMerge: function(e, t) {
                                var n = c(t, e.bookmark), i = n.startPath(), o = n.endPath(), a = i.contains(CKEDITOR.dtd.$list), r = o.contains(CKEDITOR.dtd.$list);
                                e.mergeList = a && r && a.getParent().equals(r.getParent()) && !a.equals(r), e.mergeListItems = i.block && o.block && i.block.is(CKEDITOR.dtd.$listItem) && o.block.is(CKEDITOR.dtd.$listItem), 
                                (e.mergeList || e.mergeListItems) && (n = n.clone(), n.setStartBefore(e.bookmark.startNode), 
                                n.setEndAfter(e.bookmark.endNode), e.mergeListBookmark = n.createBookmark());
                            },
                            merge: function(e, t) {
                                if (e.mergeListBookmark) {
                                    var n = e.mergeListBookmark.startNode, i = e.mergeListBookmark.endNode, o = new CKEDITOR.dom.elementPath(n, t), a = new CKEDITOR.dom.elementPath(i, t);
                                    if (e.mergeList) {
                                        var r = o.contains(CKEDITOR.dtd.$list), s = a.contains(CKEDITOR.dtd.$list);
                                        r.equals(s) || (s.moveChildren(r), s.remove());
                                    }
                                    e.mergeListItems && (o = o.contains(CKEDITOR.dtd.$listItem), a = a.contains(CKEDITOR.dtd.$listItem), 
                                    o.equals(a) || b(a, n, i)), n.remove(), i.remove();
                                }
                            }
                        },
                        block: {
                            detectMerge: function(e, t) {
                                if (!e.tableContentsRanges && !e.mergeListBookmark) {
                                    var n = new CKEDITOR.dom.range(t);
                                    n.setStartBefore(e.bookmark.startNode), n.setEndAfter(e.bookmark.endNode), e.mergeBlockBookmark = n.createBookmark();
                                }
                            },
                            merge: function(e, t) {
                                if (e.mergeBlockBookmark && !e.purgeTableBookmark) {
                                    var n = e.mergeBlockBookmark.startNode, i = e.mergeBlockBookmark.endNode, o = new CKEDITOR.dom.elementPath(n, t), a = new CKEDITOR.dom.elementPath(i, t), o = o.block, a = a.block;
                                    o && a && !o.equals(a) && b(a, n, i), n.remove(), i.remove();
                                }
                            }
                        },
                        table: function() {
                            function a(t) {
                                var n, i = [], o = new CKEDITOR.dom.walker(t), a = t.startPath().contains(e), r = t.endPath().contains(e), s = {};
                                return o.guard = function(o, l) {
                                    if (o.type == CKEDITOR.NODE_ELEMENT) {
                                        var c = "visited_" + (l ? "out" : "in");
                                        if (o.getCustomData(c)) return;
                                        CKEDITOR.dom.element.setMarker(s, o, c, 1);
                                    }
                                    l && a && o.equals(a) ? (n = t.clone(), n.setEndAt(a, CKEDITOR.POSITION_BEFORE_END), 
                                    i.push(n)) : !l && r && o.equals(r) ? (n = t.clone(), n.setStartAt(r, CKEDITOR.POSITION_AFTER_START), 
                                    i.push(n)) : ((c = !l) && (c = o.type == CKEDITOR.NODE_ELEMENT && o.is(e) && (!a || b(o, a)) && (!r || b(o, r))), 
                                    c && (n = t.clone(), n.selectNodeContents(o), i.push(n)));
                                }, o.lastForward(), CKEDITOR.dom.element.clearAllMarkers(s), i;
                            }
                            function b(e, t) {
                                var n = CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_IS_CONTAINED, i = e.getPosition(t);
                                return i !== CKEDITOR.POSITION_IDENTICAL && 0 == (i & n);
                            }
                            var e = {
                                td: 1,
                                th: 1,
                                caption: 1
                            };
                            return {
                                detectPurge: function(t) {
                                    var n = t.range, i = n.clone();
                                    i.enlarge(CKEDITOR.ENLARGE_ELEMENT);
                                    var i = new CKEDITOR.dom.walker(i), o = 0;
                                    if (i.evaluator = function(t) {
                                        t.type == CKEDITOR.NODE_ELEMENT && t.is(e) && ++o;
                                    }, i.checkForward(), 1 < o) {
                                        var i = n.startPath().contains("table"), a = n.endPath().contains("table");
                                        i && a && n.checkBoundaryOfElement(i, CKEDITOR.START) && n.checkBoundaryOfElement(a, CKEDITOR.END) && (n = t.range.clone(), 
                                        n.setStartBefore(i), n.setEndAfter(a), t.purgeTableBookmark = n.createBookmark());
                                    }
                                },
                                detectRanges: function(t, n) {
                                    var i, o, r = c(n, t.bookmark), s = r.clone(), l = r.getCommonAncestor();
                                    l.is(CKEDITOR.dtd.$tableContent) && !l.is(e) && (l = l.getAscendant("table", !0)), 
                                    o = l, l = new CKEDITOR.dom.elementPath(r.startContainer, o), o = new CKEDITOR.dom.elementPath(r.endContainer, o), 
                                    l = l.contains("table"), o = o.contains("table"), (l || o) && (l && o && b(l, o) ? (t.tableSurroundingRange = s, 
                                    s.setStartAt(l, CKEDITOR.POSITION_AFTER_END), s.setEndAt(o, CKEDITOR.POSITION_BEFORE_START), 
                                    s = r.clone(), s.setEndAt(l, CKEDITOR.POSITION_AFTER_END), i = r.clone(), i.setStartAt(o, CKEDITOR.POSITION_BEFORE_START), 
                                    i = a(s).concat(a(i))) : l ? o || (t.tableSurroundingRange = s, s.setStartAt(l, CKEDITOR.POSITION_AFTER_END), 
                                    r.setEndAt(l, CKEDITOR.POSITION_AFTER_END)) : (t.tableSurroundingRange = s, s.setEndAt(o, CKEDITOR.POSITION_BEFORE_START), 
                                    r.setStartAt(o, CKEDITOR.POSITION_AFTER_START)), t.tableContentsRanges = i || a(r));
                                },
                                deleteRanges: function(e) {
                                    for (var t; t = e.tableContentsRanges.pop(); ) t.extractContents(), i(t.startContainer) && t.startContainer.appendBogus();
                                    e.tableSurroundingRange && e.tableSurroundingRange.extractContents();
                                },
                                purge: function(e) {
                                    if (e.purgeTableBookmark) {
                                        var t = e.doc, n = e.range.clone(), t = t.createElement("p");
                                        t.insertBefore(e.purgeTableBookmark.startNode), n.moveToBookmark(e.purgeTableBookmark), 
                                        n.deleteContents(), e.range.moveToPosition(t, CKEDITOR.POSITION_AFTER_START);
                                    }
                                }
                            };
                        }(),
                        detectExtractMerge: function(e) {
                            return !(e.range.startPath().contains(CKEDITOR.dtd.$listItem) && e.range.endPath().contains(CKEDITOR.dtd.$listItem));
                        },
                        fixUneditableRangePosition: function(e) {
                            e.startContainer.getDtd()["#"] || e.moveToClosestEditablePosition(null, !0);
                        },
                        autoParagraph: function(e, t) {
                            var n, i = t.startPath();
                            k(e, i.block, i.blockLimit) && (n = d(e)) && (n = t.document.createElement(n), n.appendBogus(), 
                            t.insertNode(n), t.moveToPosition(n, CKEDITOR.POSITION_AFTER_START));
                        }
                    };
                }();
            }(), function() {
                function a(e, t) {
                    if (0 === e.length) return !1;
                    var n, i;
                    if ((n = !t && 1 === e.length) && !(n = e[0].collapsed)) {
                        var o = e[0];
                        n = o.startContainer.getAscendant({
                            td: 1,
                            th: 1
                        }, !0);
                        var a = o.endContainer.getAscendant({
                            td: 1,
                            th: 1
                        }, !0);
                        i = CKEDITOR.tools.trim, n && n.equals(a) && !n.findOne("td, th, tr, tbody, table") ? (o = o.cloneContents(), 
                        n = !o.getFirst() || i(o.getFirst().getText()) !== i(n.getText())) : n = !1;
                    }
                    if (n) return !1;
                    for (i = 0; i < e.length; i++) if (!(n = e[i]._getTableElement())) return !1;
                    return !0;
                }
                function f(e) {
                    var t, n, i = [];
                    for (n = 0; n < e.length; n++) t = e[n]._getTableElement(), t.is && t.is({
                        td: 1,
                        th: 1
                    }) ? i.push(t) : i = i.concat(function(e) {
                        e = e.find("td, th");
                        var t, n = [];
                        for (t = 0; t < e.count(); t++) n.push(e.getItem(t));
                        return n;
                    }(t));
                    return i;
                }
                function b(e) {
                    e = f(e);
                    var t, n, i = "", o = [];
                    for (n = 0; n < e.length; n++) t && !t.equals(e[n].getAscendant("tr")) ? (i += o.join("\t") + "\n", 
                    t = e[n].getAscendant("tr"), o = []) : 0 === n && (t = e[n].getAscendant("tr")), 
                    o.push(e[n].getText());
                    return i += o.join("\t");
                }
                function c(e) {
                    var n = this.root.editor, i = n.getSelection(1);
                    this.reset(), t = !0, i.root.once("selectionchange", function(e) {
                        e.cancel();
                    }, null, null, 0), i.selectRanges([ e[0] ]), i = this._.cache, i.ranges = new CKEDITOR.dom.rangeList(e), 
                    i.type = CKEDITOR.SELECTION_TEXT, i.selectedElement = e[0]._getTableElement(), i.selectedText = b(e), 
                    i.nativeSel = null, this.isFake = 1, this.rev = u++, n._.fakeSelection = this, t = !1, 
                    this.root.fire("selectionchange");
                }
                function e() {
                    var e, t = this._.fakeSelection;
                    if (t) {
                        e = this.getSelection(1);
                        var n;
                        if (!(n = !e) && (n = !e.isHidden())) {
                            n = t;
                            var i = e.getRanges(), o = n.getRanges(), r = i.length && i[0]._getTableElement() && i[0]._getTableElement().getAscendant("table", !0), s = o.length && o[0]._getTableElement() && o[0]._getTableElement().getAscendant("table", !0), l = 1 === i.length && i[0]._getTableElement() && i[0]._getTableElement().is("table"), c = 1 === o.length && o[0]._getTableElement() && o[0]._getTableElement().is("table"), d = 1 === i.length && i[0].collapsed, o = a(i, !!CKEDITOR.env.webkit) && a(o);
                            r = !(!r || !s) && (r.equals(s) || s.contains(r)), r && (d || o) ? (l && !c && n.selectRanges(i), 
                            n = !0) : n = !1, n = !n;
                        }
                        n && (t.reset(), t = 0);
                    }
                    (t || (t = e || this.getSelection(1)) && t.getType() != CKEDITOR.SELECTION_NONE) && (this.fire("selectionCheck", t), 
                    e = this.elementPath(), e.compare(this._.selectionPreviousPath) || (n = this._.selectionPreviousPath && this._.selectionPreviousPath.blockLimit.equals(e.blockLimit), 
                    CKEDITOR.env.webkit && !n && (this._.previousActive = this.document.getActive()), 
                    this._.selectionPreviousPath = e, this.fire("selectionChange", {
                        selection: t,
                        path: e
                    })));
                }
                function l() {
                    o = !0, i || (k.call(this), i = CKEDITOR.tools.setTimeout(k, 200, this));
                }
                function k() {
                    i = null, o && (CKEDITOR.tools.setTimeout(e, 0, this), o = !1);
                }
                function d(e) {
                    return !(!T(e) && (e.type != CKEDITOR.NODE_ELEMENT || e.is(CKEDITOR.dtd.$empty)));
                }
                function h(e) {
                    function b(t, n) {
                        return !(!t || t.type == CKEDITOR.NODE_TEXT) && e.clone()["moveToElementEdit" + (n ? "End" : "Start")](t);
                    }
                    if (!(e.root instanceof CKEDITOR.editable)) return !1;
                    var t = e.startContainer, n = e.getPreviousNode(d, null, t), i = e.getNextNode(d, null, t);
                    return !(!b(n) && !b(i, 1) && (n || i || t.type == CKEDITOR.NODE_ELEMENT && t.isBlockBoundary() && t.getBogus()));
                }
                function m(e) {
                    g(e, !1);
                    var t = e.getDocument().createText(E);
                    return e.setCustomData("cke-fillingChar", t), t;
                }
                function g(e, t) {
                    var i = e && e.removeCustomData("cke-fillingChar");
                    if (i) {
                        if (!1 !== t) {
                            var o = e.getDocument().getSelection().getNative(), a = o && "None" != o.type && o.getRangeAt(0), r = E.length;
                            if (i.getLength() > r && a && a.intersectsNode(i.$)) {
                                var s = [ {
                                    node: o.anchorNode,
                                    offset: o.anchorOffset
                                }, {
                                    node: o.focusNode,
                                    offset: o.focusOffset
                                } ];
                                o.anchorNode == i.$ && o.anchorOffset > r && (s[0].offset -= r), o.focusNode == i.$ && o.focusOffset > r && (s[1].offset -= r);
                            }
                        }
                        i.setText(n(i.getText(), 1)), s && (i = e.getDocument().$, o = i.getSelection(), 
                        i = i.createRange(), i.setStart(s[0].node, s[0].offset), i.collapse(!0), o.removeAllRanges(), 
                        o.addRange(i), o.extend(s[1].node, s[1].offset));
                    }
                }
                function n(e, t) {
                    return t ? e.replace(p, function(e, t) {
                        return t ? " " : "";
                    }) : e.replace(E, "");
                }
                function r(e, t) {
                    var n = CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="' + (CKEDITOR.env.ie && 14 > CKEDITOR.env.version ? "display:none" : "position:fixed;top:0;left:-1000px") + '">' + (t || "&nbsp;") + "</div>", e.document);
                    e.fire("lockSnapshot"), e.editable().append(n);
                    var i = e.getSelection(1), o = e.createRange(), a = i.root.on("selectionchange", function(e) {
                        e.cancel();
                    }, null, null, 0);
                    o.setStartAt(n, CKEDITOR.POSITION_AFTER_START), o.setEndAt(n, CKEDITOR.POSITION_BEFORE_END), 
                    i.selectRanges([ o ]), a.removeListener(), e.fire("unlockSnapshot"), e._.hiddenSelectionContainer = n;
                }
                function q(e) {
                    var t = {
                        37: 1,
                        39: 1,
                        8: 1,
                        46: 1
                    };
                    return function(n) {
                        var i = n.data.getKeystroke();
                        if (t[i]) {
                            var o = e.getSelection().getRanges(), a = o[0];
                            1 == o.length && a.collapsed && (i = a[38 > i ? "getPreviousEditableNode" : "getNextEditableNode"]()) && i.type == CKEDITOR.NODE_ELEMENT && "false" == i.getAttribute("contenteditable") && (e.getSelection().fake(i), 
                            n.data.preventDefault(), n.cancel());
                        }
                    };
                }
                function y(e) {
                    for (var t = 0; t < e.length; t++) {
                        var n = e[t];
                        if (n.getCommonAncestor().isReadOnly() && e.splice(t, 1), !n.collapsed) {
                            if (n.startContainer.isReadOnly()) for (var i, o = n.startContainer; o && !((i = o.type == CKEDITOR.NODE_ELEMENT) && o.is("body") || !o.isReadOnly()); ) i && "false" == o.getAttribute("contentEditable") && n.setStartAfter(o), 
                            o = o.getParent();
                            o = n.startContainer, i = n.endContainer;
                            var a = n.startOffset, r = n.endOffset, s = n.clone();
                            o && o.type == CKEDITOR.NODE_TEXT && (a >= o.getLength() ? s.setStartAfter(o) : s.setStartBefore(o)), 
                            i && i.type == CKEDITOR.NODE_TEXT && (r ? s.setEndAfter(i) : s.setEndBefore(i)), 
                            o = new CKEDITOR.dom.walker(s), o.evaluator = function(i) {
                                if (i.type == CKEDITOR.NODE_ELEMENT && i.isReadOnly()) {
                                    var o = n.clone();
                                    return n.setEndBefore(i), n.collapsed && e.splice(t--, 1), i.getPosition(s.endContainer) & CKEDITOR.POSITION_CONTAINS || (o.setStartAfter(i), 
                                    o.collapsed || e.splice(t + 1, 0, o)), !0;
                                }
                                return !1;
                            }, o.next();
                        }
                    }
                    return e;
                }
                var t, i, o, s = "function" != typeof window.getSelection, u = 1, E = CKEDITOR.tools.repeat("​", 7), p = new RegExp(E + "( )?", "g"), T = CKEDITOR.dom.walker.invisible(1), C = function() {
                    function a(e) {
                        return function(t) {
                            var n = t.editor.createRange();
                            return n.moveToClosestEditablePosition(t.selected, e) && t.editor.getSelection().selectRanges([ n ]), 
                            !1;
                        };
                    }
                    function b(e) {
                        return function(t) {
                            var n, i = t.editor, o = i.createRange();
                            return (n = o.moveToClosestEditablePosition(t.selected, e)) || (n = o.moveToClosestEditablePosition(t.selected, !e)), 
                            n && i.getSelection().selectRanges([ o ]), i.fire("saveSnapshot"), t.selected.remove(), 
                            n || (o.moveToElementEditablePosition(i.editable()), i.getSelection().selectRanges([ o ])), 
                            i.fire("saveSnapshot"), !1;
                        };
                    }
                    var e = a(), t = a(1);
                    return {
                        37: e,
                        38: e,
                        39: t,
                        40: t,
                        8: b(),
                        46: b(1)
                    };
                }();
                CKEDITOR.on("instanceCreated", function(t) {
                    function b() {
                        var e = n.getSelection();
                        e && e.removeAllRanges();
                    }
                    var n = t.editor;
                    n.on("contentDom", function() {
                        function a() {
                            i = new CKEDITOR.dom.selection(n.getSelection()), i.lock();
                        }
                        function b() {
                            r.removeListener("mouseup", b), f.removeListener("mouseup", b);
                            var e = CKEDITOR.document.$.selection, t = e.createRange();
                            "None" != e.type && t.parentElement() && t.parentElement().ownerDocument == o.$ && t.select();
                        }
                        function d(e) {
                            if (CKEDITOR.env.ie) {
                                var t = (e = e.getRanges()[0]) ? e.startContainer.getAscendant(function(e) {
                                    return e.type == CKEDITOR.NODE_ELEMENT && ("false" == e.getAttribute("contenteditable") || "true" == e.getAttribute("contenteditable"));
                                }, !0) : null;
                                return e && "false" == t.getAttribute("contenteditable") && t;
                            }
                        }
                        var t, i, o = n.document, r = CKEDITOR.document, u = n.editable(), h = o.getBody(), f = o.getDocumentElement(), m = u.isInline();
                        if (CKEDITOR.env.gecko && u.attachListener(u, "focus", function(e) {
                            e.removeListener(), 0 !== t && (e = n.getSelection().getNative()) && e.isCollapsed && e.anchorNode == u.$ && (e = n.createRange(), 
                            e.moveToElementEditStart(u), e.select());
                        }, null, null, -2), u.attachListener(u, CKEDITOR.env.webkit ? "DOMFocusIn" : "focus", function() {
                            t && CKEDITOR.env.webkit && (t = n._.previousActive && n._.previousActive.equals(o.getActive())) && null != n._.previousScrollTop && n._.previousScrollTop != u.$.scrollTop && (u.$.scrollTop = n._.previousScrollTop), 
                            n.unlockSelection(t), t = 0;
                        }, null, null, -1), u.attachListener(u, "mousedown", function() {
                            t = 0;
                        }), (CKEDITOR.env.ie || m) && (s ? u.attachListener(u, "beforedeactivate", a, null, null, -1) : u.attachListener(n, "selectionCheck", a, null, null, -1), 
                        u.attachListener(u, CKEDITOR.env.webkit ? "DOMFocusOut" : "blur", function() {
                            n.lockSelection(i), t = 1;
                        }, null, null, -1), u.attachListener(u, "mousedown", function() {
                            t = 0;
                        })), CKEDITOR.env.ie && !m) {
                            var E;
                            if (u.attachListener(u, "mousedown", function(e) {
                                2 == e.data.$.button && ((e = n.document.getSelection()) && e.getType() != CKEDITOR.SELECTION_NONE || (E = n.window.getScrollPosition()));
                            }), u.attachListener(u, "mouseup", function(e) {
                                2 == e.data.$.button && E && (n.document.$.documentElement.scrollLeft = E.x, n.document.$.documentElement.scrollTop = E.y), 
                                E = null;
                            }), "BackCompat" != o.$.compatMode) {
                                if (CKEDITOR.env.ie7Compat || CKEDITOR.env.ie6Compat) {
                                    var p, T;
                                    f.on("mousedown", function(e) {
                                        function b(e) {
                                            if (e = e.data.$, p) {
                                                var t = h.$.createTextRange();
                                                try {
                                                    t.moveToPoint(e.clientX, e.clientY);
                                                } catch (e) {}
                                                p.setEndPoint(0 > T.compareEndPoints("StartToStart", t) ? "EndToEnd" : "StartToStart", t), 
                                                p.select();
                                            }
                                        }
                                        function c() {
                                            f.removeListener("mousemove", b), r.removeListener("mouseup", c), f.removeListener("mouseup", c), 
                                            p.select();
                                        }
                                        if (e = e.data, e.getTarget().is("html") && e.$.y < f.$.clientHeight && e.$.x < f.$.clientWidth) {
                                            p = h.$.createTextRange();
                                            try {
                                                p.moveToPoint(e.$.clientX, e.$.clientY);
                                            } catch (e) {}
                                            T = p.duplicate(), f.on("mousemove", b), r.on("mouseup", c), f.on("mouseup", c);
                                        }
                                    });
                                }
                                7 < CKEDITOR.env.version && 11 > CKEDITOR.env.version && f.on("mousedown", function(e) {
                                    e.data.getTarget().is("html") && (r.on("mouseup", b), f.on("mouseup", b));
                                });
                            }
                        }
                        if (u.attachListener(u, "selectionchange", e, n), u.attachListener(u, "keyup", l, n), 
                        u.attachListener(u, "keydown", function(e) {
                            var t = this.getSelection(1);
                            d(t) && (t.selectElement(d(t)), e.data.preventDefault());
                        }, n), u.attachListener(u, CKEDITOR.env.webkit ? "DOMFocusIn" : "focus", function() {
                            n.forceNextSelectionCheck(), n.selectionChange(1);
                        }), m && (CKEDITOR.env.webkit || CKEDITOR.env.gecko)) {
                            var C;
                            u.attachListener(u, "mousedown", function() {
                                C = 1;
                            }), u.attachListener(o.getDocumentElement(), "mouseup", function() {
                                C && l.call(n), C = 0;
                            });
                        } else u.attachListener(CKEDITOR.env.ie ? u : o.getDocumentElement(), "mouseup", l, n);
                        CKEDITOR.env.webkit && u.attachListener(o, "keydown", function(e) {
                            switch (e.data.getKey()) {
                              case 13:
                              case 33:
                              case 34:
                              case 35:
                              case 36:
                              case 37:
                              case 39:
                              case 8:
                              case 45:
                              case 46:
                                u.hasFocus && g(u);
                            }
                        }, null, null, -1), u.attachListener(u, "keydown", q(n), null, null, -1);
                    }), n.on("setData", function() {
                        n.unlockSelection(), CKEDITOR.env.webkit && b();
                    }), n.on("contentDomUnload", function() {
                        n.unlockSelection();
                    }), CKEDITOR.env.ie9Compat && n.on("beforeDestroy", b, null, null, 9), n.on("dataReady", function() {
                        delete n._.fakeSelection, delete n._.hiddenSelectionContainer, n.selectionChange(1);
                    }), n.on("loadSnapshot", function() {
                        var e = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT), t = n.editable().getLast(e);
                        t && t.hasAttribute("data-cke-hidden-sel") && (t.remove(), CKEDITOR.env.gecko && (e = n.editable().getFirst(e)) && e.is("br") && e.getAttribute("_moz_editor_bogus_node") && e.remove());
                    }, null, null, 100), n.on("key", function(e) {
                        if ("wysiwyg" == n.mode) {
                            var t = n.getSelection();
                            if (t.isFake) {
                                var i = C[e.data.keyCode];
                                if (i) return i({
                                    editor: n,
                                    selected: t.getSelectedElement(),
                                    selection: t,
                                    keyEvent: e
                                });
                            }
                        }
                    });
                }), CKEDITOR.env.webkit && CKEDITOR.on("instanceReady", function(e) {
                    var t = e.editor;
                    t.on("selectionChange", function() {
                        var e = t.editable(), n = e.getCustomData("cke-fillingChar");
                        n && (n.getCustomData("ready") ? (g(e), e.editor.fire("selectionCheck")) : n.setCustomData("ready", 1));
                    }, null, null, -1), t.on("beforeSetMode", function() {
                        g(t.editable());
                    }, null, null, -1), t.on("getSnapshot", function(e) {
                        e.data && (e.data = n(e.data));
                    }, t, null, 20), t.on("toDataFormat", function(e) {
                        e.data.dataValue = n(e.data.dataValue);
                    }, null, null, 0);
                }), CKEDITOR.editor.prototype.selectionChange = function(t) {
                    (t ? e : l).call(this);
                }, CKEDITOR.editor.prototype.getSelection = function(e) {
                    return !this._.savedSelection && !this._.fakeSelection || e ? (e = this.editable()) && "wysiwyg" == this.mode ? new CKEDITOR.dom.selection(e) : null : this._.savedSelection || this._.fakeSelection;
                }, CKEDITOR.editor.prototype.lockSelection = function(e) {
                    return e = e || this.getSelection(1), e.getType() != CKEDITOR.SELECTION_NONE && (!e.isLocked && e.lock(), 
                    this._.savedSelection = e, !0);
                }, CKEDITOR.editor.prototype.unlockSelection = function(e) {
                    var t = this._.savedSelection;
                    return !!t && (t.unlock(e), delete this._.savedSelection, !0);
                }, CKEDITOR.editor.prototype.forceNextSelectionCheck = function() {
                    delete this._.selectionPreviousPath;
                }, CKEDITOR.dom.document.prototype.getSelection = function() {
                    return new CKEDITOR.dom.selection(this);
                }, CKEDITOR.dom.range.prototype.select = function() {
                    var e = this.root instanceof CKEDITOR.editable ? this.root.editor.getSelection() : new CKEDITOR.dom.selection(this.root);
                    return e.selectRanges([ this ]), e;
                }, CKEDITOR.SELECTION_NONE = 1, CKEDITOR.SELECTION_TEXT = 2, CKEDITOR.SELECTION_ELEMENT = 3, 
                CKEDITOR.dom.selection = function(e) {
                    if (e instanceof CKEDITOR.dom.selection) {
                        var t = e;
                        e = e.root;
                    }
                    var n = e instanceof CKEDITOR.dom.element;
                    if (this.rev = t ? t.rev : u++, this.document = e instanceof CKEDITOR.dom.document ? e : e.getDocument(), 
                    this.root = n ? e : this.document.getBody(), this.isLocked = 0, this._ = {
                        cache: {}
                    }, t) return CKEDITOR.tools.extend(this._.cache, t._.cache), this.isFake = t.isFake, 
                    this.isLocked = t.isLocked, this;
                    e = this.getNative();
                    var i, o;
                    if (e) if (e.getRangeAt) i = (o = e.rangeCount && e.getRangeAt(0)) && new CKEDITOR.dom.node(o.commonAncestorContainer); else {
                        try {
                            o = e.createRange();
                        } catch (e) {}
                        i = o && CKEDITOR.dom.element.get(o.item && o.item(0) || o.parentElement());
                    }
                    return (!i || i.type != CKEDITOR.NODE_ELEMENT && i.type != CKEDITOR.NODE_TEXT || !this.root.equals(i) && !this.root.contains(i)) && (this._.cache.type = CKEDITOR.SELECTION_NONE, 
                    this._.cache.startElement = null, this._.cache.selectedElement = null, this._.cache.selectedText = "", 
                    this._.cache.ranges = new CKEDITOR.dom.rangeList()), this;
                };
                var I = {
                    img: 1,
                    hr: 1,
                    li: 1,
                    table: 1,
                    tr: 1,
                    td: 1,
                    th: 1,
                    embed: 1,
                    object: 1,
                    ol: 1,
                    ul: 1,
                    a: 1,
                    input: 1,
                    form: 1,
                    select: 1,
                    textarea: 1,
                    button: 1,
                    fieldset: 1,
                    thead: 1,
                    tfoot: 1
                };
                CKEDITOR.tools.extend(CKEDITOR.dom.selection, {
                    _removeFillingCharSequenceString: n,
                    _createFillingCharSequenceNode: m,
                    FILLING_CHAR_SEQUENCE: E
                }), CKEDITOR.dom.selection.prototype = {
                    getNative: function() {
                        return void 0 !== this._.cache.nativeSel ? this._.cache.nativeSel : this._.cache.nativeSel = s ? this.document.$.selection : this.document.getWindow().$.getSelection();
                    },
                    getType: s ? function() {
                        var e = this._.cache;
                        if (e.type) return e.type;
                        var t = CKEDITOR.SELECTION_NONE;
                        try {
                            var n = this.getNative(), i = n.type;
                            "Text" == i && (t = CKEDITOR.SELECTION_TEXT), "Control" == i && (t = CKEDITOR.SELECTION_ELEMENT), 
                            n.createRange().parentElement() && (t = CKEDITOR.SELECTION_TEXT);
                        } catch (e) {}
                        return e.type = t;
                    } : function() {
                        var e = this._.cache;
                        if (e.type) return e.type;
                        var t = CKEDITOR.SELECTION_TEXT, n = this.getNative();
                        if (n && n.rangeCount) {
                            if (1 == n.rangeCount) {
                                var n = n.getRangeAt(0), i = n.startContainer;
                                i == n.endContainer && 1 == i.nodeType && 1 == n.endOffset - n.startOffset && I[i.childNodes[n.startOffset].nodeName.toLowerCase()] && (t = CKEDITOR.SELECTION_ELEMENT);
                            }
                        } else t = CKEDITOR.SELECTION_NONE;
                        return e.type = t;
                    },
                    getRanges: function() {
                        var e = s ? function() {
                            function a(e) {
                                return new CKEDITOR.dom.node(e).getIndex();
                            }
                            var e = function(e, t) {
                                e = e.duplicate(), e.collapse(t);
                                var n = e.parentElement();
                                if (!n.hasChildNodes()) return {
                                    container: n,
                                    offset: 0
                                };
                                for (var i, o, r, s, l = n.children, c = e.duplicate(), d = 0, u = l.length - 1, h = -1; d <= u; ) if (h = Math.floor((d + u) / 2), 
                                i = l[h], c.moveToElementText(i), 0 < (r = c.compareEndPoints("StartToStart", e))) u = h - 1; else {
                                    if (!(0 > r)) return {
                                        container: n,
                                        offset: a(i)
                                    };
                                    d = h + 1;
                                }
                                if (-1 == h || h == l.length - 1 && 0 > r) {
                                    if (c.moveToElementText(n), c.setEndPoint("StartToStart", e), c = c.text.replace(/(\r\n|\r)/g, "\n").length, 
                                    l = n.childNodes, !c) return i = l[l.length - 1], i.nodeType != CKEDITOR.NODE_TEXT ? {
                                        container: n,
                                        offset: l.length
                                    } : {
                                        container: i,
                                        offset: i.nodeValue.length
                                    };
                                    for (n = l.length; 0 < c && 0 < n; ) o = l[--n], o.nodeType == CKEDITOR.NODE_TEXT && (s = o, 
                                    c -= o.nodeValue.length);
                                    return {
                                        container: s,
                                        offset: -c
                                    };
                                }
                                if (c.collapse(0 < r), c.setEndPoint(0 < r ? "StartToStart" : "EndToStart", e), 
                                !(c = c.text.replace(/(\r\n|\r)/g, "\n").length)) return {
                                    container: n,
                                    offset: a(i) + (0 < r ? 0 : 1)
                                };
                                for (;0 < c; ) try {
                                    o = i[0 < r ? "previousSibling" : "nextSibling"], o.nodeType == CKEDITOR.NODE_TEXT && (c -= o.nodeValue.length, 
                                    s = o), i = o;
                                } catch (e) {
                                    return {
                                        container: n,
                                        offset: a(i)
                                    };
                                }
                                return {
                                    container: s,
                                    offset: 0 < r ? -c : s.nodeValue.length + c
                                };
                            };
                            return function() {
                                var t = this.getNative(), n = t && t.createRange(), i = this.getType();
                                if (!t) return [];
                                if (i == CKEDITOR.SELECTION_TEXT) return t = new CKEDITOR.dom.range(this.root), 
                                i = e(n, !0), t.setStart(new CKEDITOR.dom.node(i.container), i.offset), i = e(n), 
                                t.setEnd(new CKEDITOR.dom.node(i.container), i.offset), t.endContainer.getPosition(t.startContainer) & CKEDITOR.POSITION_PRECEDING && t.endOffset <= t.startContainer.getIndex() && t.collapse(), 
                                [ t ];
                                if (i == CKEDITOR.SELECTION_ELEMENT) {
                                    for (var i = [], o = 0; o < n.length; o++) {
                                        for (var a = n.item(o), r = a.parentNode, s = 0, t = new CKEDITOR.dom.range(this.root); s < r.childNodes.length && r.childNodes[s] != a; s++) ;
                                        t.setStart(new CKEDITOR.dom.node(r), s), t.setEnd(new CKEDITOR.dom.node(r), s + 1), 
                                        i.push(t);
                                    }
                                    return i;
                                }
                                return [];
                            };
                        }() : function() {
                            var e, t = [], n = this.getNative();
                            if (!n) return t;
                            for (var i = 0; i < n.rangeCount; i++) {
                                var o = n.getRangeAt(i);
                                e = new CKEDITOR.dom.range(this.root), e.setStart(new CKEDITOR.dom.node(o.startContainer), o.startOffset), 
                                e.setEnd(new CKEDITOR.dom.node(o.endContainer), o.endOffset), t.push(e);
                            }
                            return t;
                        };
                        return function(t) {
                            var n = this._.cache, i = n.ranges;
                            return i || (n.ranges = i = new CKEDITOR.dom.rangeList(e.call(this))), t ? y(new CKEDITOR.dom.rangeList(i.slice())) : i;
                        };
                    }(),
                    getStartElement: function() {
                        var e = this._.cache;
                        if (void 0 !== e.startElement) return e.startElement;
                        var t;
                        switch (this.getType()) {
                          case CKEDITOR.SELECTION_ELEMENT:
                            return this.getSelectedElement();

                          case CKEDITOR.SELECTION_TEXT:
                            var n = this.getRanges()[0];
                            if (n) {
                                if (n.collapsed) t = n.startContainer, t.type != CKEDITOR.NODE_ELEMENT && (t = t.getParent()); else {
                                    for (n.optimize(); t = n.startContainer, n.startOffset == (t.getChildCount ? t.getChildCount() : t.getLength()) && !t.isBlockBoundary(); ) n.setStartAfter(t);
                                    if (t = n.startContainer, t.type != CKEDITOR.NODE_ELEMENT) return t.getParent();
                                    if ((t = t.getChild(n.startOffset)) && t.type == CKEDITOR.NODE_ELEMENT) for (n = t.getFirst(); n && n.type == CKEDITOR.NODE_ELEMENT; ) t = n, 
                                    n = n.getFirst(); else t = n.startContainer;
                                }
                                t = t.$;
                            }
                        }
                        return e.startElement = t ? new CKEDITOR.dom.element(t) : null;
                    },
                    getSelectedElement: function() {
                        var e = this._.cache;
                        if (void 0 !== e.selectedElement) return e.selectedElement;
                        var t = this, n = CKEDITOR.tools.tryThese(function() {
                            return t.getNative().createRange().item(0);
                        }, function() {
                            for (var e, n, i = t.getRanges()[0].clone(), o = 2; o && !((e = i.getEnclosedNode()) && e.type == CKEDITOR.NODE_ELEMENT && I[e.getName()] && (n = e)); o--) i.shrink(CKEDITOR.SHRINK_ELEMENT);
                            return n && n.$;
                        });
                        return e.selectedElement = n ? new CKEDITOR.dom.element(n) : null;
                    },
                    getSelectedText: function() {
                        var e = this._.cache;
                        if (void 0 !== e.selectedText) return e.selectedText;
                        var t = this.getNative(), t = s ? "Control" == t.type ? "" : t.createRange().text : t.toString();
                        return e.selectedText = t;
                    },
                    lock: function() {
                        this.getRanges(), this.getStartElement(), this.getSelectedElement(), this.getSelectedText(), 
                        this._.cache.nativeSel = null, this.isLocked = 1;
                    },
                    unlock: function(e) {
                        if (this.isLocked) {
                            if (e) var t = this.getSelectedElement(), n = this.getRanges(), i = this.isFake;
                            this.isLocked = 0, this.reset(), e && (e = t || n[0] && n[0].getCommonAncestor()) && e.getAscendant("body", 1) && (a(n) ? c.call(this, n) : i ? this.fake(t) : t ? this.selectElement(t) : this.selectRanges(n));
                        }
                    },
                    reset: function() {
                        this._.cache = {}, this.isFake = 0;
                        var e = this.root.editor;
                        if (e && e._.fakeSelection) if (this.rev == e._.fakeSelection.rev) {
                            delete e._.fakeSelection;
                            var t = e._.hiddenSelectionContainer;
                            if (t) {
                                var n = e.checkDirty();
                                e.fire("lockSnapshot"), t.remove(), e.fire("unlockSnapshot"), !n && e.resetDirty();
                            }
                            delete e._.hiddenSelectionContainer;
                        } else CKEDITOR.warn("selection-fake-reset");
                        this.rev = u++;
                    },
                    selectElement: function(e) {
                        var t = new CKEDITOR.dom.range(this.root);
                        t.setStartBefore(e), t.setEndAfter(e), this.selectRanges([ t ]);
                    },
                    selectRanges: function(e) {
                        var n = this.root.editor, i = n && n._.hiddenSelectionContainer;
                        if (this.reset(), i) for (var o, i = this.root, r = 0; r < e.length; ++r) o = e[r], 
                        o.endContainer.equals(i) && (o.endOffset = Math.min(o.endOffset, i.getChildCount()));
                        if (e.length) if (this.isLocked) {
                            var l = CKEDITOR.document.getActive();
                            this.unlock(), this.selectRanges(e), this.lock(), l && !l.equals(this.root) && l.focus();
                        } else {
                            var d, u, f;
                            if (1 == e.length && !(f = e[0]).collapsed && (d = f.getEnclosedNode()) && d.type == CKEDITOR.NODE_ELEMENT && (f = f.clone(), 
                            f.shrink(CKEDITOR.SHRINK_ELEMENT, !0), (u = f.getEnclosedNode()) && u.type == CKEDITOR.NODE_ELEMENT && (d = u), 
                            "false" == d.getAttribute("contenteditable")) || (d = void 0), d) this.fake(d); else if (n && n.plugins.tableselection && CKEDITOR.plugins.tableselection.isSupportedEnvironment && a(e) && !t) c.call(this, e); else {
                                if (s) {
                                    u = CKEDITOR.dom.walker.whitespaces(!0), d = /\ufeff|\u00a0/, f = {
                                        table: 1,
                                        tbody: 1,
                                        tr: 1
                                    }, 1 < e.length && (n = e[e.length - 1], e[0].setEnd(n.endContainer, n.endOffset)), 
                                    n = e[0], e = n.collapsed;
                                    var E, p, T;
                                    if ((i = n.getEnclosedNode()) && i.type == CKEDITOR.NODE_ELEMENT && i.getName() in I && (!i.is("a") || !i.getText())) try {
                                        return T = i.$.createControlRange(), T.addElement(i.$), void T.select();
                                    } catch (e) {}
                                    (n.startContainer.type == CKEDITOR.NODE_ELEMENT && n.startContainer.getName() in f || n.endContainer.type == CKEDITOR.NODE_ELEMENT && n.endContainer.getName() in f) && (n.shrink(CKEDITOR.NODE_ELEMENT, !0), 
                                    e = n.collapsed), T = n.createBookmark(), f = T.startNode, e || (l = T.endNode), 
                                    T = n.document.$.body.createTextRange(), T.moveToElementText(f.$), T.moveStart("character", 1), 
                                    l ? (d = n.document.$.body.createTextRange(), d.moveToElementText(l.$), T.setEndPoint("EndToEnd", d), 
                                    T.moveEnd("character", -1)) : (E = f.getNext(u), p = f.hasAscendant("pre"), E = !(E && E.getText && E.getText().match(d)) && (p || !f.hasPrevious() || f.getPrevious().is && f.getPrevious().is("br")), 
                                    p = n.document.createElement("span"), p.setHtml("&#65279;"), p.insertBefore(f), 
                                    E && n.document.createText("\ufeff").insertBefore(f)), n.setStartBefore(f), f.remove(), 
                                    e ? (E ? (T.moveStart("character", -1), T.select(), n.document.$.selection.clear()) : T.select(), 
                                    n.moveToPosition(p, CKEDITOR.POSITION_BEFORE_START), p.remove()) : (n.setEndBefore(l), 
                                    l.remove(), T.select());
                                } else {
                                    if (!(l = this.getNative())) return;
                                    for (this.removeAllRanges(), T = 0; T < e.length; T++) if (T < e.length - 1 && (E = e[T], 
                                    p = e[T + 1], d = E.clone(), d.setStart(E.endContainer, E.endOffset), d.setEnd(p.startContainer, p.startOffset), 
                                    !d.collapsed && (d.shrink(CKEDITOR.NODE_ELEMENT, !0), n = d.getCommonAncestor(), 
                                    d = d.getEnclosedNode(), n.isReadOnly() || d && d.isReadOnly()))) p.setStart(E.startContainer, E.startOffset), 
                                    e.splice(T--, 1); else {
                                        n = e[T], p = this.document.$.createRange(), n.collapsed && CKEDITOR.env.webkit && h(n) && (d = m(this.root), 
                                        n.insertNode(d), (E = d.getNext()) && !d.getPrevious() && E.type == CKEDITOR.NODE_ELEMENT && "br" == E.getName() ? (g(this.root), 
                                        n.moveToPosition(E, CKEDITOR.POSITION_BEFORE_START)) : n.moveToPosition(d, CKEDITOR.POSITION_AFTER_END)), 
                                        p.setStart(n.startContainer.$, n.startOffset);
                                        try {
                                            p.setEnd(n.endContainer.$, n.endOffset);
                                        } catch (e) {
                                            if (!(0 <= e.toString().indexOf("NS_ERROR_ILLEGAL_VALUE"))) throw e;
                                            n.collapse(1), p.setEnd(n.endContainer.$, n.endOffset);
                                        }
                                        l.addRange(p);
                                    }
                                }
                                this.reset(), this.root.fire("selectionchange");
                            }
                        }
                    },
                    fake: function(e, t) {
                        var n = this.root.editor;
                        void 0 === t && e.hasAttribute("aria-label") && (t = e.getAttribute("aria-label")), 
                        this.reset(), r(n, t);
                        var i = this._.cache, o = new CKEDITOR.dom.range(this.root);
                        o.setStartBefore(e), o.setEndAfter(e), i.ranges = new CKEDITOR.dom.rangeList(o), 
                        i.selectedElement = i.startElement = e, i.type = CKEDITOR.SELECTION_ELEMENT, i.selectedText = i.nativeSel = null, 
                        this.isFake = 1, this.rev = u++, n._.fakeSelection = this, this.root.fire("selectionchange");
                    },
                    isHidden: function() {
                        var e = this.getCommonAncestor();
                        return e && e.type == CKEDITOR.NODE_TEXT && (e = e.getParent()), !(!e || !e.data("cke-hidden-sel"));
                    },
                    isInTable: function(e) {
                        return a(this.getRanges(), e);
                    },
                    createBookmarks: function(e) {
                        return e = this.getRanges().createBookmarks(e), this.isFake && (e.isFake = 1), e;
                    },
                    createBookmarks2: function(e) {
                        return e = this.getRanges().createBookmarks2(e), this.isFake && (e.isFake = 1), 
                        e;
                    },
                    selectBookmarks: function(e) {
                        for (var t, n = [], i = 0; i < e.length; i++) {
                            var o = new CKEDITOR.dom.range(this.root);
                            o.moveToBookmark(e[i]), n.push(o);
                        }
                        return e.isFake && ((t = a(n) ? n[0]._getTableElement() : n[0].getEnclosedNode()) && t.type == CKEDITOR.NODE_ELEMENT || (CKEDITOR.warn("selection-not-fake"), 
                        e.isFake = 0)), e.isFake && !a(n) ? this.fake(t) : this.selectRanges(n), this;
                    },
                    getCommonAncestor: function() {
                        var e = this.getRanges();
                        return e.length ? e[0].startContainer.getCommonAncestor(e[e.length - 1].endContainer) : null;
                    },
                    scrollIntoView: function() {
                        this.type != CKEDITOR.SELECTION_NONE && this.getRanges()[0].scrollIntoView();
                    },
                    removeAllRanges: function() {
                        if (this.getType() != CKEDITOR.SELECTION_NONE) {
                            var e = this.getNative();
                            try {
                                e && e[s ? "empty" : "removeAllRanges"]();
                            } catch (e) {}
                            this.reset();
                        }
                    }
                };
            }(), CKEDITOR.STYLE_BLOCK = 1, CKEDITOR.STYLE_INLINE = 2, CKEDITOR.STYLE_OBJECT = 3, 
            function() {
                function a(e, t) {
                    for (var n, i; (e = e.getParent()) && !e.equals(t); ) if (e.getAttribute("data-nostyle")) n = e; else if (!i) {
                        var o = e.getAttribute("contentEditable");
                        "false" == o ? n = e : "true" == o && (i = 1);
                    }
                    return n;
                }
                function f(e, t, n, i) {
                    return (e.getPosition(t) | i) == i && (!n.childRule || n.childRule(e));
                }
                function b(t) {
                    var n = t.document;
                    if (t.collapsed) n = v(this, n), t.insertNode(n), t.moveToPosition(n, CKEDITOR.POSITION_BEFORE_END); else {
                        var i, o = this.element, r = this._.definition, s = r.ignoreReadonly, l = s || r.includeReadonly;
                        null == l && (l = t.root.getCustomData("cke_includeReadonly"));
                        var c = CKEDITOR.dtd[o];
                        c || (i = !0, c = CKEDITOR.dtd.span), t.enlarge(CKEDITOR.ENLARGE_INLINE, 1), t.trim();
                        var d, u = t.createBookmark(), h = u.startNode, m = u.endNode, g = h;
                        if (!s) {
                            var E = t.getCommonAncestor(), s = a(h, E), E = a(m, E);
                            s && (g = s.getNextSourceNode(!0)), E && (m = E);
                        }
                        for (g.getPosition(m) == CKEDITOR.POSITION_FOLLOWING && (g = 0); g; ) {
                            if (s = !1, g.equals(m)) g = null, s = !0; else {
                                var p = g.type == CKEDITOR.NODE_ELEMENT ? g.getName() : null, E = p && "false" == g.getAttribute("contentEditable"), C = p && g.getAttribute("data-nostyle");
                                if (p && g.data("cke-bookmark")) {
                                    g = g.getNextSourceNode(!0);
                                    continue;
                                }
                                if (E && l && CKEDITOR.dtd.$block[p]) for (var D = g, R = e(D), K = void 0, _ = R.length, k = 0, D = _ && new CKEDITOR.dom.range(D.getDocument()); k < _; ++k) {
                                    var K = R[k], N = CKEDITOR.filter.instances[K.data("cke-filter")];
                                    (N ? N.check(this) : 1) && (D.selectNodeContents(K), b.call(this, D));
                                }
                                if (R = p ? !c[p] || C ? 0 : E && !l ? 0 : f(g, m, r, I) : 1) {
                                    if (K = g.getParent(), R = r, _ = o, k = i, !K || !(K.getDtd() || CKEDITOR.dtd.span)[_] && !k || R.parentRule && !R.parentRule(K)) s = !0; else if (d || p && CKEDITOR.dtd.$removeEmpty[p] && (g.getPosition(m) | I) != I || (d = t.clone(), 
                                    d.setStartBefore(g)), (p = g.type) == CKEDITOR.NODE_TEXT || E || p == CKEDITOR.NODE_ELEMENT && !g.getChildCount()) {
                                        for (var S, p = g; (s = !p.getNext(T)) && (S = p.getParent(), c[S.getName()]) && f(S, h, r, O); ) p = S;
                                        d.setEndAfter(p);
                                    }
                                } else s = !0;
                                g = g.getNextSourceNode(C || E);
                            }
                            if (s && d && !d.collapsed) {
                                for (var w, x, A, s = v(this, n), E = s.hasAttributes(), C = d.getCommonAncestor(), p = {}, R = {}, K = {}, _ = {}; s && C; ) {
                                    if (C.getName() == o) {
                                        for (w in r.attributes) !_[w] && (A = C.getAttribute(x)) && (s.getAttribute(w) == A ? R[w] = 1 : _[w] = 1);
                                        for (x in r.styles) !K[x] && (A = C.getStyle(x)) && (s.getStyle(x) == A ? p[x] = 1 : K[x] = 1);
                                    }
                                    C = C.getParent();
                                }
                                for (w in R) s.removeAttribute(w);
                                for (x in p) s.removeStyle(x);
                                E && !s.hasAttributes() && (s = null), s ? (d.extractContents().appendTo(s), d.insertNode(s), 
                                y.call(this, s), s.mergeSiblings(), CKEDITOR.env.ie || s.$.normalize()) : (s = new CKEDITOR.dom.element("span"), 
                                d.extractContents().appendTo(s), d.insertNode(s), y.call(this, s), s.remove(!0)), 
                                d = null;
                            }
                        }
                        t.moveToBookmark(u), t.shrink(CKEDITOR.SHRINK_TEXT), t.shrink(CKEDITOR.NODE_ELEMENT, !0);
                    }
                }
                function c(e) {
                    function b() {
                        for (var e = new CKEDITOR.dom.elementPath(i.getParent()), t = new CKEDITOR.dom.elementPath(d.getParent()), n = null, o = null, a = 0; a < e.elements.length; a++) {
                            var r = e.elements[a];
                            if (r == e.block || r == e.blockLimit) break;
                            u.checkElementRemovable(r, !0) && (n = r);
                        }
                        for (a = 0; a < t.elements.length && ((r = t.elements[a]) != t.block && r != t.blockLimit); a++) u.checkElementRemovable(r, !0) && (o = r);
                        o && d.breakParent(o), n && i.breakParent(n);
                    }
                    e.enlarge(CKEDITOR.ENLARGE_INLINE, 1);
                    var n = e.createBookmark(), i = n.startNode, o = this._.definition.alwaysRemoveElement;
                    if (e.collapsed) {
                        for (var a, r, s = new CKEDITOR.dom.elementPath(i.getParent(), e.root), l = 0; l < s.elements.length && (r = s.elements[l]) && r != s.block && r != s.blockLimit; l++) if (this.checkElementRemovable(r)) {
                            var c;
                            !o && e.collapsed && (e.checkBoundaryOfElement(r, CKEDITOR.END) || (c = e.checkBoundaryOfElement(r, CKEDITOR.START))) ? (a = r, 
                            a.match = c ? "start" : "end") : (r.mergeSiblings(), r.is(this.element) ? q.call(this, r) : w(r, t(this)[r.getName()]));
                        }
                        if (a) {
                            for (o = i, l = 0; r = s.elements[l], !r.equals(a); l++) r.match || (r = r.clone(), 
                            r.append(o), o = r);
                            o["start" == a.match ? "insertBefore" : "insertAfter"](a);
                        }
                    } else {
                        var d = n.endNode, u = this;
                        for (b(), s = i; !s.equals(d); ) a = s.getNextSourceNode(), s.type == CKEDITOR.NODE_ELEMENT && this.checkElementRemovable(s) && (s.getName() == this.element ? q.call(this, s) : w(s, t(this)[s.getName()]), 
                        a.type == CKEDITOR.NODE_ELEMENT && a.contains(i) && (b(), a = i.getNext())), s = a;
                    }
                    e.moveToBookmark(n), e.shrink(CKEDITOR.NODE_ELEMENT, !0);
                }
                function e(e) {
                    var t = [];
                    return e.forEach(function(e) {
                        if ("true" == e.getAttribute("contenteditable")) return t.push(e), !1;
                    }, CKEDITOR.NODE_ELEMENT, !0), t;
                }
                function l(e) {
                    var t = e.getEnclosedNode() || e.getCommonAncestor(!1, !0);
                    (e = new CKEDITOR.dom.elementPath(t, e.root).contains(this.element, 1)) && !e.isReadOnly() && u(e, this);
                }
                function k(e) {
                    var t = e.getCommonAncestor(!0, !0);
                    if (e = new CKEDITOR.dom.elementPath(t, e.root).contains(this.element, 1)) {
                        var t = this._.definition, n = t.attributes;
                        if (n) for (var i in n) e.removeAttribute(i, n[i]);
                        if (t.styles) for (var o in t.styles) t.styles.hasOwnProperty(o) && e.removeStyle(o);
                    }
                }
                function d(e) {
                    var t = e.createBookmark(!0), n = e.createIterator();
                    n.enforceRealBlocks = !0, this._.enterMode && (n.enlargeBr = this._.enterMode != CKEDITOR.ENTER_BR);
                    for (var i, o, a = e.document; i = n.getNextParagraph(); ) !i.isReadOnly() && (n.activeFilter ? n.activeFilter.check(this) : 1) && (o = v(this, a, i), 
                    m(i, o));
                    e.moveToBookmark(t);
                }
                function h(e) {
                    var t = e.createBookmark(1), n = e.createIterator();
                    n.enforceRealBlocks = !0, n.enlargeBr = this._.enterMode != CKEDITOR.ENTER_BR;
                    for (var i, o; i = n.getNextParagraph(); ) this.checkElementRemovable(i) && (i.is("pre") ? ((o = this._.enterMode == CKEDITOR.ENTER_BR ? null : e.document.createElement(this._.enterMode == CKEDITOR.ENTER_P ? "p" : "div")) && i.copyAttributes(o), 
                    m(i, o)) : q.call(this, i));
                    e.moveToBookmark(t);
                }
                function m(e, t) {
                    var i = !t;
                    i && (t = e.getDocument().createElement("div"), e.copyAttributes(t));
                    var o = t && t.is("pre"), a = e.is("pre"), s = !o && a;
                    if (o && !a) {
                        if (a = t, (s = e.getBogus()) && s.remove(), s = e.getHtml(), s = n(s, /(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g, ""), 
                        s = s.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi, "$1"), s = s.replace(/([ \t\n\r]+|&nbsp;)/g, " "), 
                        s = s.replace(/<br\b[^>]*>/gi, "\n"), CKEDITOR.env.ie) {
                            var l = e.getDocument().createElement("div");
                            l.append(a), a.$.outerHTML = "<pre>" + s + "</pre>", a.copyAttributes(l.getFirst()), 
                            a = l.getFirst().remove();
                        } else a.setHtml(s);
                        t = a;
                    } else s ? t = r(i ? [ e.getHtml() ] : g(e), t) : e.moveChildren(t);
                    if (t.replace(e), o) {
                        var c, i = t;
                        (c = i.getPrevious(C)) && c.type == CKEDITOR.NODE_ELEMENT && c.is("pre") && (o = n(c.getHtml(), /\n$/, "") + "\n\n" + n(i.getHtml(), /^\n/, ""), 
                        CKEDITOR.env.ie ? i.$.outerHTML = "<pre>" + o + "</pre>" : i.setHtml(o), c.remove());
                    } else i && p(t);
                }
                function g(e) {
                    var t = [];
                    return n(e.getOuterHtml(), /(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi, function(e, t, n) {
                        return t + "</pre>" + n + "<pre>";
                    }).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi, function(e, n) {
                        t.push(n);
                    }), t;
                }
                function n(e, t, n) {
                    var i = "", o = "";
                    return e = e.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi, function(e, t, n) {
                        return t && (i = t), n && (o = n), "";
                    }), i + e.replace(t, n) + o;
                }
                function r(e, t) {
                    var i;
                    1 < e.length && (i = new CKEDITOR.dom.documentFragment(t.getDocument()));
                    for (var o = 0; o < e.length; o++) {
                        var a = e[o], a = a.replace(/(\r\n|\r)/g, "\n"), a = n(a, /^[ \t]*\n/, ""), a = n(a, /\n$/, ""), a = n(a, /^[ \t]+|[ \t]+$/g, function(e, t) {
                            return 1 == e.length ? "&nbsp;" : t ? " " + CKEDITOR.tools.repeat("&nbsp;", e.length - 1) : CKEDITOR.tools.repeat("&nbsp;", e.length - 1) + " ";
                        }), a = a.replace(/\n/g, "<br>"), a = a.replace(/[ \t]{2,}/g, function(e) {
                            return CKEDITOR.tools.repeat("&nbsp;", e.length - 1) + " ";
                        });
                        if (i) {
                            var r = t.clone();
                            r.setHtml(a), i.append(r);
                        } else t.setHtml(a);
                    }
                    return i || t;
                }
                function q(e, n) {
                    var o, a = this._.definition, r = a.attributes, a = a.styles, s = t(this)[e.getName()], l = CKEDITOR.tools.isEmpty(r) && CKEDITOR.tools.isEmpty(a);
                    for (o in r) ("class" != o && !this._.definition.fullMatch || e.getAttribute(o) == A(o, r[o])) && (n && "data-" == o.slice(0, 5) || (l = e.hasAttribute(o), 
                    e.removeAttribute(o)));
                    for (var c in a) this._.definition.fullMatch && e.getStyle(c) != A(c, a[c], !0) || (l = l || !!e.getStyle(c), 
                    e.removeStyle(c));
                    w(e, s, i[e.getName()]), l && (this._.definition.alwaysRemoveElement ? p(e, 1) : !CKEDITOR.dtd.$block[e.getName()] || this._.enterMode == CKEDITOR.ENTER_BR && !e.hasAttributes() ? p(e) : e.renameNode(this._.enterMode == CKEDITOR.ENTER_P ? "p" : "div"));
                }
                function y(e) {
                    for (var n, i = t(this), o = e.getElementsByTag(this.element), a = o.count(); 0 <= --a; ) n = o.getItem(a), 
                    n.isReadOnly() || q.call(this, n, !0);
                    for (var r in i) if (r != this.element) for (o = e.getElementsByTag(r), a = o.count() - 1; 0 <= a; a--) n = o.getItem(a), 
                    n.isReadOnly() || w(n, i[r]);
                }
                function w(e, t, n) {
                    if (t = t && t.attributes) for (var i = 0; i < t.length; i++) {
                        var o, a = t[i][0];
                        if (o = e.getAttribute(a)) {
                            var r = t[i][1];
                            (null === r || r.test && r.test(o) || "string" == typeof r && o == r) && e.removeAttribute(a);
                        }
                    }
                    n || p(e);
                }
                function p(e, t) {
                    if (!e.hasAttributes() || t) if (CKEDITOR.dtd.$block[e.getName()]) {
                        var n = e.getPrevious(C), i = e.getNext(C);
                        !n || n.type != CKEDITOR.NODE_TEXT && n.isBlockBoundary({
                            br: 1
                        }) || e.append("br", 1), !i || i.type != CKEDITOR.NODE_TEXT && i.isBlockBoundary({
                            br: 1
                        }) || e.append("br"), e.remove(!0);
                    } else n = e.getFirst(), i = e.getLast(), e.remove(!0), n && (n.type == CKEDITOR.NODE_ELEMENT && n.mergeSiblings(), 
                    i && !n.equals(i) && i.type == CKEDITOR.NODE_ELEMENT && i.mergeSiblings());
                }
                function v(e, t, n) {
                    var i;
                    return i = e.element, "*" == i && (i = "span"), i = new CKEDITOR.dom.element(i, t), 
                    n && n.copyAttributes(i), i = u(i, e), t.getCustomData("doc_processing_style") && i.hasAttribute("id") ? i.removeAttribute("id") : t.setCustomData("doc_processing_style", 1), 
                    i;
                }
                function u(e, t) {
                    var n = t._.definition, i = n.attributes, n = CKEDITOR.style.getStyleText(n);
                    if (i) for (var o in i) e.setAttribute(o, i[o]);
                    return n && e.setAttribute("style", n), e;
                }
                function z(e, t) {
                    for (var n in e) e[n] = e[n].replace(E, function(e, n) {
                        return t[n];
                    });
                }
                function t(e) {
                    if (e._.overrides) return e._.overrides;
                    var t = e._.overrides = {}, n = e._.definition.overrides;
                    if (n) {
                        CKEDITOR.tools.isArray(n) || (n = [ n ]);
                        for (var i = 0; i < n.length; i++) {
                            var o, a, r = n[i];
                            if ("string" == typeof r ? o = r.toLowerCase() : (o = r.element ? r.element.toLowerCase() : e.element, 
                            a = r.attributes), r = t[o] || (t[o] = {}), a) {
                                var s, r = r.attributes = r.attributes || [];
                                for (s in a) r.push([ s.toLowerCase(), a[s] ]);
                            }
                        }
                    }
                    return t;
                }
                function A(e, t, n) {
                    var i = new CKEDITOR.dom.element("span");
                    return i[n ? "setStyle" : "setAttribute"](e, t), i[n ? "getStyle" : "getAttribute"](e);
                }
                function D(e, t) {
                    function c(e, t) {
                        return "font-family" == t.toLowerCase() ? e.replace(/["']/g, "") : e;
                    }
                    "string" == typeof e && (e = CKEDITOR.tools.parseCssText(e)), "string" == typeof t && (t = CKEDITOR.tools.parseCssText(t, !0));
                    for (var n in e) if (!(n in t) || c(t[n], n) != c(e[n], n) && "inherit" != e[n] && "inherit" != t[n]) return !1;
                    return !0;
                }
                function x(e, t, n) {
                    var i = e.document, o = e.getRanges();
                    t = t ? this.removeFromRange : this.applyToRange;
                    var a, r;
                    if (e.isFake && e.isInTable()) for (a = [], r = 0; r < o.length; r++) a.push(o[r].clone());
                    for (var s = o.createIterator(); r = s.getNextRange(); ) t.call(this, r, n);
                    e.selectRanges(a || o), i.removeCustomData("doc_processing_style");
                }
                var i = {
                    address: 1,
                    div: 1,
                    h1: 1,
                    h2: 1,
                    h3: 1,
                    h4: 1,
                    h5: 1,
                    h6: 1,
                    p: 1,
                    pre: 1,
                    section: 1,
                    header: 1,
                    footer: 1,
                    nav: 1,
                    article: 1,
                    aside: 1,
                    figure: 1,
                    dialog: 1,
                    hgroup: 1,
                    time: 1,
                    meter: 1,
                    menu: 1,
                    command: 1,
                    keygen: 1,
                    output: 1,
                    progress: 1,
                    details: 1,
                    datagrid: 1,
                    datalist: 1
                }, o = {
                    a: 1,
                    blockquote: 1,
                    embed: 1,
                    hr: 1,
                    img: 1,
                    li: 1,
                    object: 1,
                    ol: 1,
                    table: 1,
                    td: 1,
                    tr: 1,
                    th: 1,
                    ul: 1,
                    dl: 1,
                    dt: 1,
                    dd: 1,
                    form: 1,
                    audio: 1,
                    video: 1
                }, s = /\s*(?:;\s*|$)/, E = /#\((.+?)\)/g, T = CKEDITOR.dom.walker.bookmark(0, 1), C = CKEDITOR.dom.walker.whitespaces(1);
                CKEDITOR.style = function(e, t) {
                    if ("string" == typeof e.type) return new CKEDITOR.style.customHandlers[e.type](e);
                    var n = e.attributes;
                    n && n.style && (e.styles = CKEDITOR.tools.extend({}, e.styles, CKEDITOR.tools.parseCssText(n.style)), 
                    delete n.style), t && (e = CKEDITOR.tools.clone(e), z(e.attributes, t), z(e.styles, t)), 
                    n = this.element = e.element ? "string" == typeof e.element ? e.element.toLowerCase() : e.element : "*", 
                    this.type = e.type || (i[n] ? CKEDITOR.STYLE_BLOCK : o[n] ? CKEDITOR.STYLE_OBJECT : CKEDITOR.STYLE_INLINE), 
                    "object" == typeof this.element && (this.type = CKEDITOR.STYLE_OBJECT), this._ = {
                        definition: e
                    };
                }, CKEDITOR.style.prototype = {
                    apply: function(e) {
                        if (e instanceof CKEDITOR.dom.document) return x.call(this, e.getSelection());
                        if (this.checkApplicable(e.elementPath(), e)) {
                            var t = this._.enterMode;
                            t || (this._.enterMode = e.activeEnterMode), x.call(this, e.getSelection(), 0, e), 
                            this._.enterMode = t;
                        }
                    },
                    remove: function(e) {
                        if (e instanceof CKEDITOR.dom.document) return x.call(this, e.getSelection(), 1);
                        if (this.checkApplicable(e.elementPath(), e)) {
                            var t = this._.enterMode;
                            t || (this._.enterMode = e.activeEnterMode), x.call(this, e.getSelection(), 1, e), 
                            this._.enterMode = t;
                        }
                    },
                    applyToRange: function(e) {
                        return this.applyToRange = this.type == CKEDITOR.STYLE_INLINE ? b : this.type == CKEDITOR.STYLE_BLOCK ? d : this.type == CKEDITOR.STYLE_OBJECT ? l : null, 
                        this.applyToRange(e);
                    },
                    removeFromRange: function(e) {
                        return this.removeFromRange = this.type == CKEDITOR.STYLE_INLINE ? c : this.type == CKEDITOR.STYLE_BLOCK ? h : this.type == CKEDITOR.STYLE_OBJECT ? k : null, 
                        this.removeFromRange(e);
                    },
                    applyToObject: function(e) {
                        u(e, this);
                    },
                    checkActive: function(e, t) {
                        switch (this.type) {
                          case CKEDITOR.STYLE_BLOCK:
                            return this.checkElementRemovable(e.block || e.blockLimit, !0, t);

                          case CKEDITOR.STYLE_OBJECT:
                          case CKEDITOR.STYLE_INLINE:
                            for (var n, i = e.elements, o = 0; o < i.length; o++) if (n = i[o], this.type != CKEDITOR.STYLE_INLINE || n != e.block && n != e.blockLimit) {
                                if (this.type == CKEDITOR.STYLE_OBJECT) {
                                    var a = n.getName();
                                    if (!("string" == typeof this.element ? a == this.element : a in this.element)) continue;
                                }
                                if (this.checkElementRemovable(n, !0, t)) return !0;
                            }
                        }
                        return !1;
                    },
                    checkApplicable: function(e, t, n) {
                        if (t && t instanceof CKEDITOR.filter && (n = t), n && !n.check(this)) return !1;
                        switch (this.type) {
                          case CKEDITOR.STYLE_OBJECT:
                            return !!e.contains(this.element);

                          case CKEDITOR.STYLE_BLOCK:
                            return !!e.blockLimit.getDtd()[this.element];
                        }
                        return !0;
                    },
                    checkElementMatch: function(e, t) {
                        var n = this._.definition;
                        if (!e || !n.ignoreReadonly && e.isReadOnly()) return !1;
                        var i = e.getName();
                        if ("string" == typeof this.element ? i == this.element : i in this.element) {
                            if (!t && !e.hasAttributes()) return !0;
                            if (i = n._AC) n = i; else {
                                var i = {}, o = 0, a = n.attributes;
                                if (a) for (var r in a) o++, i[r] = a[r];
                                (r = CKEDITOR.style.getStyleText(n)) && (i.style || o++, i.style = r), i._length = o, 
                                n = n._AC = i;
                            }
                            if (!n._length) return !0;
                            for (var s in n) if ("_length" != s) if (i = e.getAttribute(s) || "", "style" == s ? D(n[s], i) : n[s] == i) {
                                if (!t) return !0;
                            } else if (t) return !1;
                            if (t) return !0;
                        }
                        return !1;
                    },
                    checkElementRemovable: function(e, n, i) {
                        if (this.checkElementMatch(e, n, i)) return !0;
                        if (n = t(this)[e.getName()]) {
                            var o;
                            if (!(n = n.attributes)) return !0;
                            for (i = 0; i < n.length; i++) if (o = n[i][0], o = e.getAttribute(o)) {
                                var a = n[i][1];
                                if (null === a) return !0;
                                if ("string" == typeof a) {
                                    if (o == a) return !0;
                                } else if (a.test(o)) return !0;
                            }
                        }
                        return !1;
                    },
                    buildPreview: function(e) {
                        var t = this._.definition, n = [], i = t.element;
                        "bdo" == i && (i = "span");
                        var n = [ "<", i ], o = t.attributes;
                        if (o) for (var a in o) n.push(" ", a, '="', o[a], '"');
                        return (o = CKEDITOR.style.getStyleText(t)) && n.push(' style="', o, '"'), n.push(">", e || t.name, "</", i, ">"), 
                        n.join("");
                    },
                    getDefinition: function() {
                        return this._.definition;
                    }
                }, CKEDITOR.style.getStyleText = function(e) {
                    var t = e._ST;
                    if (t) return t;
                    var t = e.styles, n = e.attributes && e.attributes.style || "", i = "";
                    n.length && (n = n.replace(s, ";"));
                    for (var o in t) {
                        var a = t[o], r = (o + ":" + a).replace(s, ";");
                        "inherit" == a ? i += r : n += r;
                    }
                    return n.length && (n = CKEDITOR.tools.normalizeCssText(n, !0)), e._ST = n + i;
                }, CKEDITOR.style.customHandlers = {}, CKEDITOR.style.addCustomHandler = function(e) {
                    var t = function(e) {
                        this._ = {
                            definition: e
                        }, this.setup && this.setup(e);
                    };
                    return t.prototype = CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype), {
                        assignedTo: CKEDITOR.STYLE_OBJECT
                    }, e, !0), this.customHandlers[e.type] = t;
                };
                var I = CKEDITOR.POSITION_PRECEDING | CKEDITOR.POSITION_IDENTICAL | CKEDITOR.POSITION_IS_CONTAINED, O = CKEDITOR.POSITION_FOLLOWING | CKEDITOR.POSITION_IDENTICAL | CKEDITOR.POSITION_IS_CONTAINED;
            }(), CKEDITOR.styleCommand = function(e, t) {
                this.requiredContent = this.allowedContent = this.style = e, CKEDITOR.tools.extend(this, t, !0);
            }, CKEDITOR.styleCommand.prototype.exec = function(e) {
                e.focus(), this.state == CKEDITOR.TRISTATE_OFF ? e.applyStyle(this.style) : this.state == CKEDITOR.TRISTATE_ON && e.removeStyle(this.style);
            }, CKEDITOR.stylesSet = new CKEDITOR.resourceManager("", "stylesSet"), CKEDITOR.addStylesSet = CKEDITOR.tools.bind(CKEDITOR.stylesSet.add, CKEDITOR.stylesSet), 
            CKEDITOR.loadStylesSet = function(e, t, n) {
                CKEDITOR.stylesSet.addExternal(e, t, ""), CKEDITOR.stylesSet.load(e, n);
            }, CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
                attachStyleStateChange: function(e, t) {
                    var n = this._.styleStateChangeCallbacks;
                    n || (n = this._.styleStateChangeCallbacks = [], this.on("selectionChange", function(e) {
                        for (var t = 0; t < n.length; t++) {
                            var i = n[t], o = i.style.checkActive(e.data.path, this) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF;
                            i.fn.call(this, o);
                        }
                    })), n.push({
                        style: e,
                        fn: t
                    });
                },
                applyStyle: function(e) {
                    e.apply(this);
                },
                removeStyle: function(e) {
                    e.remove(this);
                },
                getStylesSet: function(e) {
                    if (this._.stylesDefinitions) e(this._.stylesDefinitions); else {
                        var t = this, n = t.config.stylesCombo_stylesSet || t.config.stylesSet;
                        if (!1 === n) e(null); else if (n instanceof Array) t._.stylesDefinitions = n, e(n); else {
                            n || (n = "default");
                            var n = n.split(":"), i = n[0];
                            CKEDITOR.stylesSet.addExternal(i, n[1] ? n.slice(1).join(":") : CKEDITOR.getUrl("styles.js"), ""), 
                            CKEDITOR.stylesSet.load(i, function(n) {
                                t._.stylesDefinitions = n[i], e(t._.stylesDefinitions);
                            });
                        }
                    }
                }
            }), CKEDITOR.dom.comment = function(e, t) {
                "string" == typeof e && (e = (t ? t.$ : document).createComment(e)), CKEDITOR.dom.domObject.call(this, e);
            }, CKEDITOR.dom.comment.prototype = new CKEDITOR.dom.node(), CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype, {
                type: CKEDITOR.NODE_COMMENT,
                getOuterHtml: function() {
                    return "\x3c!--" + this.$.nodeValue + "--\x3e";
                }
            }), function() {
                var e, t = {}, n = {};
                for (e in CKEDITOR.dtd.$blockLimit) e in CKEDITOR.dtd.$list || (t[e] = 1);
                for (e in CKEDITOR.dtd.$block) e in CKEDITOR.dtd.$blockLimit || e in CKEDITOR.dtd.$empty || (n[e] = 1);
                CKEDITOR.dom.elementPath = function(e, i) {
                    var o, a = null, r = null, s = [], l = e;
                    i = i || e.getDocument().getBody(), l || (l = i);
                    do {
                        if (l.type == CKEDITOR.NODE_ELEMENT) {
                            if (s.push(l), !this.lastElement && (this.lastElement = l, l.is(CKEDITOR.dtd.$object) || "false" == l.getAttribute("contenteditable"))) continue;
                            if (l.equals(i)) break;
                            if (!r && (o = l.getName(), "true" == l.getAttribute("contenteditable") ? r = l : !a && n[o] && (a = l), 
                            t[o])) {
                                if (o = !a && "div" == o) {
                                    e: {
                                        o = l.getChildren();
                                        for (var c = 0, d = o.count(); c < d; c++) {
                                            var u = o.getItem(c);
                                            if (u.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$block[u.getName()]) {
                                                o = !0;
                                                break e;
                                            }
                                        }
                                        o = !1;
                                    }
                                    o = !o;
                                }
                                o ? a = l : r = l;
                            }
                        }
                    } while (l = l.getParent());
                    r || (r = i), this.block = a, this.blockLimit = r, this.root = i, this.elements = s;
                };
            }(), CKEDITOR.dom.elementPath.prototype = {
                compare: function(e) {
                    var t = this.elements;
                    if (!(e = e && e.elements) || t.length != e.length) return !1;
                    for (var n = 0; n < t.length; n++) if (!t[n].equals(e[n])) return !1;
                    return !0;
                },
                contains: function(e, t, n) {
                    var i, o = 0;
                    "string" == typeof e && (i = function(t) {
                        return t.getName() == e;
                    }), e instanceof CKEDITOR.dom.element ? i = function(t) {
                        return t.equals(e);
                    } : CKEDITOR.tools.isArray(e) ? i = function(t) {
                        return -1 < CKEDITOR.tools.indexOf(e, t.getName());
                    } : "function" == typeof e ? i = e : "object" == typeof e && (i = function(t) {
                        return t.getName() in e;
                    });
                    var a = this.elements, r = a.length;
                    for (t && (n ? o += 1 : --r), n && (a = Array.prototype.slice.call(a, 0), a.reverse()); o < r; o++) if (i(a[o])) return a[o];
                    return null;
                },
                isContextFor: function(e) {
                    var t;
                    return !(e in CKEDITOR.dtd.$block) || (t = this.contains(CKEDITOR.dtd.$intermediate) || this.root.equals(this.block) && this.block || this.blockLimit, 
                    !!t.getDtd()[e]);
                },
                direction: function() {
                    return (this.block || this.blockLimit || this.root).getDirection(1);
                }
            }, CKEDITOR.dom.text = function(e, t) {
                "string" == typeof e && (e = (t ? t.$ : document).createTextNode(e)), this.$ = e;
            }, CKEDITOR.dom.text.prototype = new CKEDITOR.dom.node(), CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype, {
                type: CKEDITOR.NODE_TEXT,
                getLength: function() {
                    return this.$.nodeValue.length;
                },
                getText: function() {
                    return this.$.nodeValue;
                },
                setText: function(e) {
                    this.$.nodeValue = e;
                },
                split: function(e) {
                    var t = this.$.parentNode, n = t.childNodes.length, i = this.getLength(), o = this.getDocument(), a = new CKEDITOR.dom.text(this.$.splitText(e), o);
                    return t.childNodes.length == n && (e >= i ? (a = o.createText(""), a.insertAfter(this)) : (e = o.createText(""), 
                    e.insertAfter(a), e.remove())), a;
                },
                substring: function(e, t) {
                    return "number" != typeof t ? this.$.nodeValue.substr(e) : this.$.nodeValue.substring(e, t);
                }
            }), function() {
                function a(e, t, n) {
                    var i = e.serializable, o = t[n ? "endContainer" : "startContainer"], a = n ? "endOffset" : "startOffset", r = i ? t.document.getById(e.startNode) : e.startNode;
                    return e = i ? t.document.getById(e.endNode) : e.endNode, o.equals(r.getPrevious()) ? (t.startOffset = t.startOffset - o.getLength() - e.getPrevious().getLength(), 
                    o = e.getNext()) : o.equals(e.getPrevious()) && (t.startOffset -= o.getLength(), 
                    o = e.getNext()), o.equals(r.getParent()) && t[a]++, o.equals(e.getParent()) && t[a]++, 
                    t[n ? "endContainer" : "startContainer"] = o, t;
                }
                CKEDITOR.dom.rangeList = function(t) {
                    return t instanceof CKEDITOR.dom.rangeList ? t : (t ? t instanceof CKEDITOR.dom.range && (t = [ t ]) : t = [], 
                    CKEDITOR.tools.extend(t, e));
                };
                var e = {
                    createIterator: function() {
                        var e, t = this, n = CKEDITOR.dom.walker.bookmark(), i = [];
                        return {
                            getNextRange: function(o) {
                                e = void 0 === e ? 0 : e + 1;
                                var a = t[e];
                                if (a && 1 < t.length) {
                                    if (!e) for (var r = t.length - 1; 0 <= r; r--) i.unshift(t[r].createBookmark(!0));
                                    if (o) for (var s = 0; t[e + s + 1]; ) {
                                        var l = a.document;
                                        for (o = 0, r = l.getById(i[s].endNode), l = l.getById(i[s + 1].startNode); ;) {
                                            if (r = r.getNextSourceNode(!1), l.equals(r)) o = 1; else if (n(r) || r.type == CKEDITOR.NODE_ELEMENT && r.isBlockBoundary()) continue;
                                            break;
                                        }
                                        if (!o) break;
                                        s++;
                                    }
                                    for (a.moveToBookmark(i.shift()); s--; ) r = t[++e], r.moveToBookmark(i.shift()), 
                                    a.setEnd(r.endContainer, r.endOffset);
                                }
                                return a;
                            }
                        };
                    },
                    createBookmarks: function(e) {
                        for (var t, n = [], i = 0; i < this.length; i++) {
                            n.push(t = this[i].createBookmark(e, !0));
                            for (var o = i + 1; o < this.length; o++) this[o] = a(t, this[o]), this[o] = a(t, this[o], !0);
                        }
                        return n;
                    },
                    createBookmarks2: function(e) {
                        for (var t = [], n = 0; n < this.length; n++) t.push(this[n].createBookmark2(e));
                        return t;
                    },
                    moveToBookmarks: function(e) {
                        for (var t = 0; t < this.length; t++) this[t].moveToBookmark(e[t]);
                    }
                };
            }(), function() {
                function a() {
                    return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1] || "skins/" + CKEDITOR.skinName.split(",")[0] + "/");
                }
                function f(e) {
                    var t = CKEDITOR.skin["ua_" + e], n = CKEDITOR.env;
                    if (t) for (var i, t = t.split(",").sort(function(e, t) {
                        return e > t ? -1 : 1;
                    }), o = 0; o < t.length; o++) if (i = t[o], n.ie && (i.replace(/^ie/, "") == n.version || n.quirks && "iequirks" == i) && (i = "ie"), 
                    n[i]) {
                        e += "_" + t[o];
                        break;
                    }
                    return CKEDITOR.getUrl(a() + e + ".css");
                }
                function b(e, n) {
                    t[e] || (CKEDITOR.document.appendStyleSheet(f(e)), t[e] = 1), n && n();
                }
                function c(e) {
                    var t = e.getById(n);
                    return t || (t = e.getHead().append("style"), t.setAttribute("id", n), t.setAttribute("type", "text/css")), 
                    t;
                }
                function e(e, t, n) {
                    var i, o, a;
                    if (CKEDITOR.env.webkit) for (t = t.split("}").slice(0, -1), o = 0; o < t.length; o++) t[o] = t[o].split("{");
                    for (var r = 0; r < e.length; r++) if (CKEDITOR.env.webkit) for (o = 0; o < t.length; o++) {
                        for (a = t[o][1], i = 0; i < n.length; i++) a = a.replace(n[i][0], n[i][1]);
                        e[r].$.sheet.addRule(t[o][0], a);
                    } else {
                        for (a = t, i = 0; i < n.length; i++) a = a.replace(n[i][0], n[i][1]);
                        CKEDITOR.env.ie && 11 > CKEDITOR.env.version ? e[r].$.styleSheet.cssText += a : e[r].$.innerHTML += a;
                    }
                }
                var t = {};
                CKEDITOR.skin = {
                    path: a,
                    loadPart: function(e, t) {
                        CKEDITOR.skin.name != CKEDITOR.skinName.split(",")[0] ? CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a() + "skin.js"), function() {
                            b(e, t);
                        }) : b(e, t);
                    },
                    getPath: function(e) {
                        return CKEDITOR.getUrl(f(e));
                    },
                    icons: {},
                    addIcon: function(e, t, n, i) {
                        e = e.toLowerCase(), this.icons[e] || (this.icons[e] = {
                            path: t,
                            offset: n || 0,
                            bgsize: i || "16px"
                        });
                    },
                    getIconStyle: function(e, t, n, i, o) {
                        var a;
                        return e && (e = e.toLowerCase(), t && (a = this.icons[e + "-rtl"]), a || (a = this.icons[e])), 
                        e = n || a && a.path || "", i = i || a && a.offset, o = o || a && a.bgsize || "16px", 
                        e && (e = e.replace(/'/g, "\\'")), e && "background-image:url('" + CKEDITOR.getUrl(e) + "');background-position:0 " + i + "px;background-size:" + o + ";";
                    }
                }, CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
                    getUiColor: function() {
                        return this.uiColor;
                    },
                    setUiColor: function(t) {
                        var n = c(CKEDITOR.document);
                        return (this.setUiColor = function(t) {
                            this.uiColor = t;
                            var a = CKEDITOR.skin.chameleon, r = "", s = "";
                            "function" == typeof a && (r = a(this, "editor"), s = a(this, "panel")), t = [ [ o, t ] ], 
                            e([ n ], r, t), e(i, s, t);
                        }).call(this, t);
                    }
                });
                var n = "cke_ui_color", i = [], o = /\$color/g;
                CKEDITOR.on("instanceLoaded", function(t) {
                    if (!CKEDITOR.env.ie || !CKEDITOR.env.quirks) {
                        var n = t.editor;
                        t = function(t) {
                            if (t = (t.data[0] || t.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument(), 
                            !t.getById("cke_ui_color")) {
                                t = c(t), i.push(t);
                                var a = n.getUiColor();
                                a && e([ t ], CKEDITOR.skin.chameleon(n, "panel"), [ [ o, a ] ]);
                            }
                        }, n.on("panelShow", t), n.on("menuShow", t), n.config.uiColor && n.setUiColor(n.config.uiColor);
                    }
                });
            }(), function() {
                if (CKEDITOR.env.webkit) CKEDITOR.env.hc = !1; else {
                    var e = CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>', CKEDITOR.document);
                    e.appendTo(CKEDITOR.document.getHead());
                    try {
                        var t = e.getComputedStyle("border-top-color"), n = e.getComputedStyle("border-right-color");
                        CKEDITOR.env.hc = !(!t || t != n);
                    } catch (e) {
                        CKEDITOR.env.hc = !1;
                    }
                    e.remove();
                }
                if (CKEDITOR.env.hc && (CKEDITOR.env.cssClass += " cke_hc"), CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"), 
                CKEDITOR.status = "loaded", CKEDITOR.fireOnce("loaded"), e = CKEDITOR._.pending) for (delete CKEDITOR._.pending, 
                t = 0; t < e.length; t++) CKEDITOR.editor.prototype.constructor.apply(e[t][0], e[t][1]), 
                CKEDITOR.add(e[t][0]);
            }(), CKEDITOR.skin.name = "moono-lisa", CKEDITOR.skin.ua_editor = "ie,iequirks,ie8,gecko", 
            CKEDITOR.skin.ua_dialog = "ie,iequirks,ie8", CKEDITOR.skin.chameleon = function() {
                var e = function() {
                    return function(e, t) {
                        for (var n = e.match(/[^#]./g), i = 0; 3 > i; i++) {
                            var o, a = i;
                            o = parseInt(n[i], 16), o = ("0" + (0 > t ? 0 | o * (1 + t) : 0 | o + (255 - o) * t).toString(16)).slice(-2), 
                            n[a] = o;
                        }
                        return "#" + n.join("");
                    };
                }(), t = {
                    editor: new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),
                    panel: new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")
                };
                return function(n, i) {
                    var o = e(n.uiColor, .4), o = {
                        id: "." + n.id,
                        defaultBorder: e(o, -.2),
                        toolbarElementsBorder: e(o, -.25),
                        defaultBackground: o,
                        lightBackground: e(o, .8),
                        darkBackground: e(o, -.15),
                        ckeButtonOn: e(o, .4),
                        ckeResizer: e(o, -.4),
                        ckeColorauto: e(o, .8),
                        dialogBody: e(o, .7),
                        dialogTab: e(o, .65),
                        dialogTabSelected: "#FFF",
                        dialogTabSelectedBorder: "#FFF",
                        elementsPathColor: e(o, -.6),
                        menubuttonHover: e(o, .1),
                        menubuttonIcon: e(o, .5),
                        menubuttonIconHover: e(o, .3)
                    };
                    return t[i].output(o).replace(/\[/g, "{").replace(/\]/g, "}");
                };
            }(), CKEDITOR.plugins.add("dialogui", {
                onLoad: function() {
                    var e = function(e) {
                        this._ || (this._ = {}), this._.default = this._.initValue = e.default || "", this._.required = e.required || !1;
                        for (var t = [ this._ ], n = 1; n < arguments.length; n++) t.push(arguments[n]);
                        return t.push(!0), CKEDITOR.tools.extend.apply(CKEDITOR.tools, t), this._;
                    }, t = {
                        build: function(e, t, n) {
                            return new CKEDITOR.ui.dialog.textInput(e, t, n);
                        }
                    }, n = {
                        build: function(e, t, n) {
                            return new CKEDITOR.ui.dialog[t.type](e, t, n);
                        }
                    }, i = {
                        isChanged: function() {
                            return this.getValue() != this.getInitValue();
                        },
                        reset: function(e) {
                            this.setValue(this.getInitValue(), e);
                        },
                        setInitValue: function() {
                            this._.initValue = this.getValue();
                        },
                        resetInitValue: function() {
                            this._.initValue = this._.default;
                        },
                        getInitValue: function() {
                            return this._.initValue;
                        }
                    }, o = CKEDITOR.tools.extend({}, CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors, {
                        onChange: function(e, t) {
                            this._.domOnChangeRegistered || (e.on("load", function() {
                                this.getInputElement().on("change", function() {
                                    e.parts.dialog.isVisible() && this.fire("change", {
                                        value: this.getValue()
                                    });
                                }, this);
                            }, this), this._.domOnChangeRegistered = !0), this.on("change", t);
                        }
                    }, !0), a = /^on([A-Z]\w+)/, r = function(e) {
                        for (var t in e) (a.test(t) || "title" == t || "type" == t) && delete e[t];
                        return e;
                    }, s = function(e) {
                        e = e.data.getKeystroke(), e == CKEDITOR.SHIFT + CKEDITOR.ALT + 36 ? this.setDirectionMarker("ltr") : e == CKEDITOR.SHIFT + CKEDITOR.ALT + 35 && this.setDirectionMarker("rtl");
                    };
                    CKEDITOR.tools.extend(CKEDITOR.ui.dialog, {
                        labeledElement: function(t, n, i, o) {
                            if (!(4 > arguments.length)) {
                                var a = e.call(this, n);
                                a.labelId = CKEDITOR.tools.getNextId() + "_label", this._.children = [];
                                var r = {
                                    role: n.role || "presentation"
                                };
                                n.includeLabel && (r["aria-labelledby"] = a.labelId), CKEDITOR.ui.dialog.uiElement.call(this, t, n, i, "div", null, r, function() {
                                    var e = [], i = n.required ? " cke_required" : "";
                                    return "horizontal" != n.labelLayout ? e.push('<label class="cke_dialog_ui_labeled_label' + i + '" ', ' id="' + a.labelId + '"', a.inputId ? ' for="' + a.inputId + '"' : "", (n.labelStyle ? ' style="' + n.labelStyle + '"' : "") + ">", n.label, "</label>", '<div class="cke_dialog_ui_labeled_content"', n.controlStyle ? ' style="' + n.controlStyle + '"' : "", ' role="presentation">', o.call(this, t, n), "</div>") : (i = {
                                        type: "hbox",
                                        widths: n.widths,
                                        padding: 0,
                                        children: [ {
                                            type: "html",
                                            html: '<label class="cke_dialog_ui_labeled_label' + i + '" id="' + a.labelId + '" for="' + a.inputId + '"' + (n.labelStyle ? ' style="' + n.labelStyle + '"' : "") + ">" + CKEDITOR.tools.htmlEncode(n.label) + "</label>"
                                        }, {
                                            type: "html",
                                            html: '<span class="cke_dialog_ui_labeled_content"' + (n.controlStyle ? ' style="' + n.controlStyle + '"' : "") + ">" + o.call(this, t, n) + "</span>"
                                        } ]
                                    }, CKEDITOR.dialog._.uiElementBuilders.hbox.build(t, i, e)), e.join("");
                                });
                            }
                        },
                        textInput: function(t, n, i) {
                            if (!(3 > arguments.length)) {
                                e.call(this, n);
                                var o = this._.inputId = CKEDITOR.tools.getNextId() + "_textInput", a = {
                                    class: "cke_dialog_ui_input_" + n.type,
                                    id: o,
                                    type: n.type
                                };
                                n.validate && (this.validate = n.validate), n.maxLength && (a.maxlength = n.maxLength), 
                                n.size && (a.size = n.size), n.inputStyle && (a.style = n.inputStyle);
                                var r = this, l = !1;
                                t.on("load", function() {
                                    r.getInputElement().on("keydown", function(e) {
                                        13 == e.data.getKeystroke() && (l = !0);
                                    }), r.getInputElement().on("keyup", function(e) {
                                        13 == e.data.getKeystroke() && l && (t.getButton("ok") && setTimeout(function() {
                                            t.getButton("ok").click();
                                        }, 0), l = !1), r.bidi && s.call(r, e);
                                    }, null, null, 1e3);
                                }), CKEDITOR.ui.dialog.labeledElement.call(this, t, n, i, function() {
                                    var e = [ '<div class="cke_dialog_ui_input_', n.type, '" role="presentation"' ];
                                    n.width && e.push('style="width:' + n.width + '" '), e.push("><input "), a["aria-labelledby"] = this._.labelId, 
                                    this._.required && (a["aria-required"] = this._.required);
                                    for (var t in a) e.push(t + '="' + a[t] + '" ');
                                    return e.push(" /></div>"), e.join("");
                                });
                            }
                        },
                        textarea: function(t, n, i) {
                            if (!(3 > arguments.length)) {
                                e.call(this, n);
                                var o = this, a = this._.inputId = CKEDITOR.tools.getNextId() + "_textarea", r = {};
                                n.validate && (this.validate = n.validate), r.rows = n.rows || 5, r.cols = n.cols || 20, 
                                r.class = "cke_dialog_ui_input_textarea " + (n.class || ""), void 0 !== n.inputStyle && (r.style = n.inputStyle), 
                                n.dir && (r.dir = n.dir), o.bidi && t.on("load", function() {
                                    o.getInputElement().on("keyup", s);
                                }, o), CKEDITOR.ui.dialog.labeledElement.call(this, t, n, i, function() {
                                    r["aria-labelledby"] = this._.labelId, this._.required && (r["aria-required"] = this._.required);
                                    var e, t = [ '<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="', a, '" ' ];
                                    for (e in r) t.push(e + '="' + CKEDITOR.tools.htmlEncode(r[e]) + '" ');
                                    return t.push(">", CKEDITOR.tools.htmlEncode(o._.default), "</textarea></div>"), 
                                    t.join("");
                                });
                            }
                        },
                        checkbox: function(t, n, i) {
                            if (!(3 > arguments.length)) {
                                var o = e.call(this, n, {
                                    default: !!n.default
                                });
                                n.validate && (this.validate = n.validate), CKEDITOR.ui.dialog.uiElement.call(this, t, n, i, "span", null, null, function() {
                                    var e = CKEDITOR.tools.extend({}, n, {
                                        id: n.id ? n.id + "_checkbox" : CKEDITOR.tools.getNextId() + "_checkbox"
                                    }, !0), i = [], a = CKEDITOR.tools.getNextId() + "_label", s = {
                                        class: "cke_dialog_ui_checkbox_input",
                                        type: "checkbox",
                                        "aria-labelledby": a
                                    };
                                    return r(e), n.default && (s.checked = "checked"), void 0 !== e.inputStyle && (e.style = e.inputStyle), 
                                    o.checkbox = new CKEDITOR.ui.dialog.uiElement(t, e, i, "input", null, s), i.push(' <label id="', a, '" for="', s.id, '"' + (n.labelStyle ? ' style="' + n.labelStyle + '"' : "") + ">", CKEDITOR.tools.htmlEncode(n.label), "</label>"), 
                                    i.join("");
                                });
                            }
                        },
                        radio: function(t, n, i) {
                            if (!(3 > arguments.length)) {
                                e.call(this, n), this._.default || (this._.default = this._.initValue = n.items[0][1]), 
                                n.validate && (this.validate = n.validate);
                                var o = [], a = this;
                                n.role = "radiogroup", n.includeLabel = !0, CKEDITOR.ui.dialog.labeledElement.call(this, t, n, i, function() {
                                    for (var e = [], i = [], s = (n.id ? n.id : CKEDITOR.tools.getNextId()) + "_radio", l = 0; l < n.items.length; l++) {
                                        var c = n.items[l], d = void 0 !== c[2] ? c[2] : c[0], u = void 0 !== c[1] ? c[1] : c[0], h = CKEDITOR.tools.getNextId() + "_radio_input", f = h + "_label", h = CKEDITOR.tools.extend({}, n, {
                                            id: h,
                                            title: null,
                                            type: null
                                        }, !0), d = CKEDITOR.tools.extend({}, h, {
                                            title: d
                                        }, !0), m = {
                                            type: "radio",
                                            class: "cke_dialog_ui_radio_input",
                                            name: s,
                                            value: u,
                                            "aria-labelledby": f
                                        }, g = [];
                                        a._.default == u && (m.checked = "checked"), r(h), r(d), void 0 !== h.inputStyle && (h.style = h.inputStyle), 
                                        h.keyboardFocusable = !0, o.push(new CKEDITOR.ui.dialog.uiElement(t, h, g, "input", null, m)), 
                                        g.push(" "), new CKEDITOR.ui.dialog.uiElement(t, d, g, "label", null, {
                                            id: f,
                                            for: m.id
                                        }, c[0]), e.push(g.join(""));
                                    }
                                    return new CKEDITOR.ui.dialog.hbox(t, o, e, i), i.join("");
                                }), this._.children = o;
                            }
                        },
                        button: function(t, n, i) {
                            if (arguments.length) {
                                "function" == typeof n && (n = n(t.getParentEditor())), e.call(this, n, {
                                    disabled: n.disabled || !1
                                }), CKEDITOR.event.implementOn(this);
                                var o = this;
                                t.on("load", function() {
                                    var e = this.getElement();
                                    !function() {
                                        e.on("click", function(e) {
                                            o.click(), e.data.preventDefault();
                                        }), e.on("keydown", function(e) {
                                            e.data.getKeystroke() in {
                                                32: 1
                                            } && (o.click(), e.data.preventDefault());
                                        });
                                    }(), e.unselectable();
                                }, this);
                                var a = CKEDITOR.tools.extend({}, n);
                                delete a.style;
                                var r = CKEDITOR.tools.getNextId() + "_label";
                                CKEDITOR.ui.dialog.uiElement.call(this, t, a, i, "a", null, {
                                    style: n.style,
                                    href: "javascript:void(0)",
                                    title: n.label,
                                    hidefocus: "true",
                                    class: n.class,
                                    role: "button",
                                    "aria-labelledby": r
                                }, '<span id="' + r + '" class="cke_dialog_ui_button">' + CKEDITOR.tools.htmlEncode(n.label) + "</span>");
                            }
                        },
                        select: function(t, n, i) {
                            if (!(3 > arguments.length)) {
                                var o = e.call(this, n);
                                n.validate && (this.validate = n.validate), o.inputId = CKEDITOR.tools.getNextId() + "_select", 
                                CKEDITOR.ui.dialog.labeledElement.call(this, t, n, i, function() {
                                    var e = CKEDITOR.tools.extend({}, n, {
                                        id: n.id ? n.id + "_select" : CKEDITOR.tools.getNextId() + "_select"
                                    }, !0), i = [], a = [], s = {
                                        id: o.inputId,
                                        class: "cke_dialog_ui_input_select",
                                        "aria-labelledby": this._.labelId
                                    };
                                    i.push('<div class="cke_dialog_ui_input_', n.type, '" role="presentation"'), n.width && i.push('style="width:' + n.width + '" '), 
                                    i.push(">"), void 0 !== n.size && (s.size = n.size), void 0 !== n.multiple && (s.multiple = n.multiple), 
                                    r(e);
                                    for (var l, c = 0; c < n.items.length && (l = n.items[c]); c++) a.push('<option value="', CKEDITOR.tools.htmlEncode(void 0 !== l[1] ? l[1] : l[0]).replace(/"/g, "&quot;"), '" /> ', CKEDITOR.tools.htmlEncode(l[0]));
                                    return void 0 !== e.inputStyle && (e.style = e.inputStyle), o.select = new CKEDITOR.ui.dialog.uiElement(t, e, i, "select", null, s, a.join("")), 
                                    i.push("</div>"), i.join("");
                                });
                            }
                        },
                        file: function(t, n, i) {
                            if (!(3 > arguments.length)) {
                                void 0 === n.default && (n.default = "");
                                var o = CKEDITOR.tools.extend(e.call(this, n), {
                                    definition: n,
                                    buttons: []
                                });
                                n.validate && (this.validate = n.validate), t.on("load", function() {
                                    CKEDITOR.document.getById(o.frameId).getParent().addClass("cke_dialog_ui_input_file");
                                }), CKEDITOR.ui.dialog.labeledElement.call(this, t, n, i, function() {
                                    o.frameId = CKEDITOR.tools.getNextId() + "_fileInput";
                                    var e = [ '<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="', o.frameId, '" title="', n.label, '" src="javascript:void(' ];
                                    return e.push(CKEDITOR.env.ie ? "(function(){" + encodeURIComponent("document.open();(" + CKEDITOR.tools.fixDomain + ")();document.close();") + "})()" : "0"), 
                                    e.push(')"></iframe>'), e.join("");
                                });
                            }
                        },
                        fileButton: function(t, n, i) {
                            var o = this;
                            if (!(3 > arguments.length)) {
                                e.call(this, n), n.validate && (this.validate = n.validate);
                                var a = CKEDITOR.tools.extend({}, n), r = a.onClick;
                                a.className = (a.className ? a.className + " " : "") + "cke_dialog_ui_button", a.onClick = function(e) {
                                    var i = n.for;
                                    r && !1 === r.call(this, e) || (t.getContentElement(i[0], i[1]).submit(), this.disable());
                                }, t.on("load", function() {
                                    t.getContentElement(n.for[0], n.for[1])._.buttons.push(o);
                                }), CKEDITOR.ui.dialog.button.call(this, t, a, i);
                            }
                        },
                        html: function() {
                            var e = /^\s*<[\w:]+\s+([^>]*)?>/, t = /^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/, n = /\/$/;
                            return function(i, o, a) {
                                if (!(3 > arguments.length)) {
                                    var r = [], s = o.html;
                                    "<" != s.charAt(0) && (s = "<span>" + s + "</span>");
                                    var l = o.focus;
                                    if (l) {
                                        var c = this.focus;
                                        this.focus = function() {
                                            ("function" == typeof l ? l : c).call(this), this.fire("focus");
                                        }, o.isFocusable && (this.isFocusable = this.isFocusable), this.keyboardFocusable = !0;
                                    }
                                    CKEDITOR.ui.dialog.uiElement.call(this, i, o, r, "span", null, null, ""), r = r.join("").match(e), 
                                    s = s.match(t) || [ "", "", "" ], n.test(s[1]) && (s[1] = s[1].slice(0, -1), s[2] = "/" + s[2]), 
                                    a.push([ s[1], " ", r[1] || "", s[2] ].join(""));
                                }
                            };
                        }(),
                        fieldset: function(e, t, n, i, o) {
                            var a = o.label;
                            this._ = {
                                children: t
                            }, CKEDITOR.ui.dialog.uiElement.call(this, e, o, i, "fieldset", null, null, function() {
                                var e = [];
                                a && e.push("<legend" + (o.labelStyle ? ' style="' + o.labelStyle + '"' : "") + ">" + a + "</legend>");
                                for (var t = 0; t < n.length; t++) e.push(n[t]);
                                return e.join("");
                            });
                        }
                    }, !0), CKEDITOR.ui.dialog.html.prototype = new CKEDITOR.ui.dialog.uiElement(), 
                    CKEDITOR.ui.dialog.labeledElement.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement(), {
                        setLabel: function(e) {
                            var t = CKEDITOR.document.getById(this._.labelId);
                            return 1 > t.getChildCount() ? new CKEDITOR.dom.text(e, CKEDITOR.document).appendTo(t) : t.getChild(0).$.nodeValue = e, 
                            this;
                        },
                        getLabel: function() {
                            var e = CKEDITOR.document.getById(this._.labelId);
                            return !e || 1 > e.getChildCount() ? "" : e.getChild(0).getText();
                        },
                        eventProcessors: o
                    }, !0), CKEDITOR.ui.dialog.button.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement(), {
                        click: function() {
                            return !this._.disabled && this.fire("click", {
                                dialog: this._.dialog
                            });
                        },
                        enable: function() {
                            this._.disabled = !1;
                            var e = this.getElement();
                            e && e.removeClass("cke_disabled");
                        },
                        disable: function() {
                            this._.disabled = !0, this.getElement().addClass("cke_disabled");
                        },
                        isVisible: function() {
                            return this.getElement().getFirst().isVisible();
                        },
                        isEnabled: function() {
                            return !this._.disabled;
                        },
                        eventProcessors: CKEDITOR.tools.extend({}, CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors, {
                            onClick: function(e, t) {
                                this.on("click", function() {
                                    t.apply(this, arguments);
                                });
                            }
                        }, !0),
                        accessKeyUp: function() {
                            this.click();
                        },
                        accessKeyDown: function() {
                            this.focus();
                        },
                        keyboardFocusable: !0
                    }, !0), CKEDITOR.ui.dialog.textInput.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement(), {
                        getInputElement: function() {
                            return CKEDITOR.document.getById(this._.inputId);
                        },
                        focus: function() {
                            var e = this.selectParentTab();
                            setTimeout(function() {
                                var t = e.getInputElement();
                                t && t.$.focus();
                            }, 0);
                        },
                        select: function() {
                            var e = this.selectParentTab();
                            setTimeout(function() {
                                var t = e.getInputElement();
                                t && (t.$.focus(), t.$.select());
                            }, 0);
                        },
                        accessKeyUp: function() {
                            this.select();
                        },
                        setValue: function(e) {
                            if (this.bidi) {
                                var t = e && e.charAt(0);
                                (t = "‪" == t ? "ltr" : "‫" == t ? "rtl" : null) && (e = e.slice(1)), this.setDirectionMarker(t);
                            }
                            return e || (e = ""), CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this, arguments);
                        },
                        getValue: function() {
                            var e = CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);
                            if (this.bidi && e) {
                                var t = this.getDirectionMarker();
                                t && (e = ("ltr" == t ? "‪" : "‫") + e);
                            }
                            return e;
                        },
                        setDirectionMarker: function(e) {
                            var t = this.getInputElement();
                            e ? t.setAttributes({
                                dir: e,
                                "data-cke-dir-marker": e
                            }) : this.getDirectionMarker() && t.removeAttributes([ "dir", "data-cke-dir-marker" ]);
                        },
                        getDirectionMarker: function() {
                            return this.getInputElement().data("cke-dir-marker");
                        },
                        keyboardFocusable: !0
                    }, i, !0), CKEDITOR.ui.dialog.textarea.prototype = new CKEDITOR.ui.dialog.textInput(), 
                    CKEDITOR.ui.dialog.select.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement(), {
                        getInputElement: function() {
                            return this._.select.getElement();
                        },
                        add: function(e, t, n) {
                            var i = new CKEDITOR.dom.element("option", this.getDialog().getParentEditor().document), o = this.getInputElement().$;
                            return i.$.text = e, i.$.value = void 0 === t || null === t ? e : t, void 0 === n || null === n ? CKEDITOR.env.ie ? o.add(i.$) : o.add(i.$, null) : o.add(i.$, n), 
                            this;
                        },
                        remove: function(e) {
                            return this.getInputElement().$.remove(e), this;
                        },
                        clear: function() {
                            for (var e = this.getInputElement().$; 0 < e.length; ) e.remove(0);
                            return this;
                        },
                        keyboardFocusable: !0
                    }, i, !0), CKEDITOR.ui.dialog.checkbox.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement(), {
                        getInputElement: function() {
                            return this._.checkbox.getElement();
                        },
                        setValue: function(e, t) {
                            this.getInputElement().$.checked = e, !t && this.fire("change", {
                                value: e
                            });
                        },
                        getValue: function() {
                            return this.getInputElement().$.checked;
                        },
                        accessKeyUp: function() {
                            this.setValue(!this.getValue());
                        },
                        eventProcessors: {
                            onChange: function(e, t) {
                                return !CKEDITOR.env.ie || 8 < CKEDITOR.env.version ? o.onChange.apply(this, arguments) : (e.on("load", function() {
                                    var e = this._.checkbox.getElement();
                                    e.on("propertychange", function(t) {
                                        t = t.data.$, "checked" == t.propertyName && this.fire("change", {
                                            value: e.$.checked
                                        });
                                    }, this);
                                }, this), this.on("change", t), null);
                            }
                        },
                        keyboardFocusable: !0
                    }, i, !0), CKEDITOR.ui.dialog.radio.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement(), {
                        setValue: function(e, t) {
                            for (var n, i = this._.children, o = 0; o < i.length && (n = i[o]); o++) n.getElement().$.checked = n.getValue() == e;
                            !t && this.fire("change", {
                                value: e
                            });
                        },
                        getValue: function() {
                            for (var e = this._.children, t = 0; t < e.length; t++) if (e[t].getElement().$.checked) return e[t].getValue();
                            return null;
                        },
                        accessKeyUp: function() {
                            var e, t = this._.children;
                            for (e = 0; e < t.length; e++) if (t[e].getElement().$.checked) return void t[e].getElement().focus();
                            t[0].getElement().focus();
                        },
                        eventProcessors: {
                            onChange: function(e, t) {
                                return !CKEDITOR.env.ie || 8 < CKEDITOR.env.version ? o.onChange.apply(this, arguments) : (e.on("load", function() {
                                    for (var e = this._.children, t = this, n = 0; n < e.length; n++) e[n].getElement().on("propertychange", function(e) {
                                        e = e.data.$, "checked" == e.propertyName && this.$.checked && t.fire("change", {
                                            value: this.getAttribute("value")
                                        });
                                    });
                                }, this), this.on("change", t), null);
                            }
                        }
                    }, i, !0), CKEDITOR.ui.dialog.file.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement(), i, {
                        getInputElement: function() {
                            var e = CKEDITOR.document.getById(this._.frameId).getFrameDocument();
                            return 0 < e.$.forms.length ? new CKEDITOR.dom.element(e.$.forms[0].elements[0]) : this.getElement();
                        },
                        submit: function() {
                            return this.getInputElement().getParent().$.submit(), this;
                        },
                        getAction: function() {
                            return this.getInputElement().getParent().$.action;
                        },
                        registerEvents: function(e) {
                            var t, n, i = /^on([A-Z]\w+)/;
                            for (n in e) (t = n.match(i)) && (this.eventProcessors[n] ? this.eventProcessors[n].call(this, this._.dialog, e[n]) : function(e, t, n, i) {
                                e.on("formLoaded", function() {
                                    e.getInputElement().on(n, i, e);
                                });
                            }(this, this._.dialog, t[1].toLowerCase(), e[n]));
                            return this;
                        },
                        reset: function() {
                            function a() {
                                t.$.open();
                                var a = "";
                                n.size && (a = n.size - (CKEDITOR.env.ie ? 7 : 0));
                                var c = e.frameId + "_input";
                                for (t.$.write([ '<html dir="' + s + '" lang="' + l + '"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">', '<form enctype="multipart/form-data" method="POST" dir="' + s + '" lang="' + l + '" action="', CKEDITOR.tools.htmlEncode(n.action), '"><label id="', e.labelId, '" for="', c, '" style="display:none">', CKEDITOR.tools.htmlEncode(n.label), '</label><input style="width:100%" id="', c, '" aria-labelledby="', e.labelId, '" type="file" name="', CKEDITOR.tools.htmlEncode(n.id || "cke_upload"), '" size="', CKEDITOR.tools.htmlEncode(0 < a ? a : ""), '" /></form></body></html><script>', CKEDITOR.env.ie ? "(" + CKEDITOR.tools.fixDomain + ")();" : "", "window.parent.CKEDITOR.tools.callFunction(" + o + ");", "window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction(" + r + ")}", "<\/script>" ].join("")), 
                                t.$.close(), a = 0; a < i.length; a++) i[a].enable();
                            }
                            var e = this._, t = CKEDITOR.document.getById(e.frameId).getFrameDocument(), n = e.definition, i = e.buttons, o = this.formLoadedNumber, r = this.formUnloadNumber, s = e.dialog._.editor.lang.dir, l = e.dialog._.editor.langCode;
                            o || (o = this.formLoadedNumber = CKEDITOR.tools.addFunction(function() {
                                this.fire("formLoaded");
                            }, this), r = this.formUnloadNumber = CKEDITOR.tools.addFunction(function() {
                                this.getInputElement().clearCustomData();
                            }, this), this.getDialog()._.editor.on("destroy", function() {
                                CKEDITOR.tools.removeFunction(o), CKEDITOR.tools.removeFunction(r);
                            })), CKEDITOR.env.gecko ? setTimeout(a, 500) : a();
                        },
                        getValue: function() {
                            return this.getInputElement().$.value || "";
                        },
                        setInitValue: function() {
                            this._.initValue = "";
                        },
                        eventProcessors: {
                            onChange: function(e, t) {
                                this._.domOnChangeRegistered || (this.on("formLoaded", function() {
                                    this.getInputElement().on("change", function() {
                                        this.fire("change", {
                                            value: this.getValue()
                                        });
                                    }, this);
                                }, this), this._.domOnChangeRegistered = !0), this.on("change", t);
                            }
                        },
                        keyboardFocusable: !0
                    }, !0), CKEDITOR.ui.dialog.fileButton.prototype = new CKEDITOR.ui.dialog.button(), 
                    CKEDITOR.ui.dialog.fieldset.prototype = CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype), 
                    CKEDITOR.dialog.addUIElement("text", t), CKEDITOR.dialog.addUIElement("password", t), 
                    CKEDITOR.dialog.addUIElement("textarea", n), CKEDITOR.dialog.addUIElement("checkbox", n), 
                    CKEDITOR.dialog.addUIElement("radio", n), CKEDITOR.dialog.addUIElement("button", n), 
                    CKEDITOR.dialog.addUIElement("select", n), CKEDITOR.dialog.addUIElement("file", n), 
                    CKEDITOR.dialog.addUIElement("fileButton", n), CKEDITOR.dialog.addUIElement("html", n), 
                    CKEDITOR.dialog.addUIElement("fieldset", {
                        build: function(e, t, n) {
                            for (var i, o = t.children, a = [], r = [], s = 0; s < o.length && (i = o[s]); s++) {
                                var l = [];
                                a.push(l), r.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(e, i, l));
                            }
                            return new CKEDITOR.ui.dialog[t.type](e, r, a, n, t);
                        }
                    });
                }
            }), CKEDITOR.DIALOG_RESIZE_NONE = 0, CKEDITOR.DIALOG_RESIZE_WIDTH = 1, CKEDITOR.DIALOG_RESIZE_HEIGHT = 2, 
            CKEDITOR.DIALOG_RESIZE_BOTH = 3, CKEDITOR.DIALOG_STATE_IDLE = 1, CKEDITOR.DIALOG_STATE_BUSY = 2, 
            function() {
                function a() {
                    for (var e = this._.tabIdList.length, t = CKEDITOR.tools.indexOf(this._.tabIdList, this._.currentTabId) + e, n = t - 1; n > t - e; n--) if (this._.tabs[this._.tabIdList[n % e]][0].$.offsetHeight) return this._.tabIdList[n % e];
                    return null;
                }
                function f() {
                    for (var e = this._.tabIdList.length, t = CKEDITOR.tools.indexOf(this._.tabIdList, this._.currentTabId), n = t + 1; n < t + e; n++) if (this._.tabs[this._.tabIdList[n % e]][0].$.offsetHeight) return this._.tabIdList[n % e];
                    return null;
                }
                function b(e, t) {
                    for (var n = e.$.getElementsByTagName("input"), i = 0, o = n.length; i < o; i++) {
                        var a = new CKEDITOR.dom.element(n[i]);
                        "text" == a.getAttribute("type").toLowerCase() && (t ? (a.setAttribute("value", a.getCustomData("fake_value") || ""), 
                        a.removeCustomData("fake_value")) : (a.setCustomData("fake_value", a.getAttribute("value")), 
                        a.setAttribute("value", "")));
                    }
                }
                function c(e, t) {
                    var n = this.getInputElement();
                    n && (e ? n.removeAttribute("aria-invalid") : n.setAttribute("aria-invalid", !0)), 
                    e || (this.select ? this.select() : this.focus()), t && alert(t), this.fire("validated", {
                        valid: e,
                        msg: t
                    });
                }
                function e() {
                    var e = this.getInputElement();
                    e && e.removeAttribute("aria-invalid");
                }
                function l(e) {
                    var t = CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog", i).output({
                        id: CKEDITOR.tools.getNextNumber(),
                        editorId: e.id,
                        langDir: e.lang.dir,
                        langCode: e.langCode,
                        editorDialogClass: "cke_editor_" + e.name.replace(/\./g, "\\.") + "_dialog",
                        closeTitle: e.lang.common.close,
                        hidpi: CKEDITOR.env.hidpi ? "cke_hidpi" : ""
                    })), n = t.getChild([ 0, 0, 0, 0, 0 ]), o = n.getChild(0), a = n.getChild(1);
                    return e.plugins.clipboard && CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n), 
                    !CKEDITOR.env.ie || CKEDITOR.env.quirks || CKEDITOR.env.edge || (e = "javascript:void(function(){" + encodeURIComponent("document.open();(" + CKEDITOR.tools.fixDomain + ")();document.close();") + "}())", 
                    CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="' + e + '" tabIndex="-1"></iframe>').appendTo(n.getParent())), 
                    o.unselectable(), a.unselectable(), {
                        element: t,
                        parts: {
                            dialog: t.getChild(0),
                            title: o,
                            close: a,
                            tabs: n.getChild(2),
                            contents: n.getChild([ 3, 0, 0, 0 ]),
                            footer: n.getChild([ 3, 0, 1, 0 ])
                        }
                    };
                }
                function k(e, t, n) {
                    this.element = t, this.focusIndex = n, this.tabIndex = 0, this.isFocusable = function() {
                        return !t.getAttribute("disabled") && t.isVisible();
                    }, this.focus = function() {
                        e._.currentFocusIndex = this.focusIndex, this.element.focus();
                    }, t.on("keydown", function(e) {
                        e.data.getKeystroke() in {
                            32: 1,
                            13: 1
                        } && this.fire("click");
                    }), t.on("focus", function() {
                        this.fire("mouseover");
                    }), t.on("blur", function() {
                        this.fire("mouseout");
                    });
                }
                function d(e) {
                    function b() {
                        e.layout();
                    }
                    var t = CKEDITOR.document.getWindow();
                    t.on("resize", b), e.on("hide", function() {
                        t.removeListener("resize", b);
                    });
                }
                function h(e, t) {
                    this._ = {
                        dialog: e
                    }, CKEDITOR.tools.extend(this, t);
                }
                function m(e) {
                    function b(r) {
                        var s = e.getSize(), l = CKEDITOR.document.getWindow().getViewPaneSize(), c = r.data.$.screenX, d = r.data.$.screenY, u = c - t.x, h = d - t.y;
                        t = {
                            x: c,
                            y: d
                        }, n.x += u, n.y += h, e.move(n.x + a[3] < o ? -a[3] : n.x - a[1] > l.width - s.width - o ? l.width - s.width + ("rtl" == i.lang.dir ? 0 : a[1]) : n.x, n.y + a[0] < o ? -a[0] : n.y - a[2] > l.height - s.height - o ? l.height - s.height + a[2] : n.y, 1), 
                        r.data.preventDefault();
                    }
                    function c() {
                        if (CKEDITOR.document.removeListener("mousemove", b), CKEDITOR.document.removeListener("mouseup", c), 
                        CKEDITOR.env.ie6Compat) {
                            var e = C.getChild(0).getFrameDocument();
                            e.removeListener("mousemove", b), e.removeListener("mouseup", c);
                        }
                    }
                    var t = null, n = null, i = e.getParentEditor(), o = i.config.dialog_magnetDistance, a = CKEDITOR.skin.margins || [ 0, 0, 0, 0 ];
                    void 0 === o && (o = 20), e.parts.title.on("mousedown", function(i) {
                        if (t = {
                            x: i.data.$.screenX,
                            y: i.data.$.screenY
                        }, CKEDITOR.document.on("mousemove", b), CKEDITOR.document.on("mouseup", c), n = e.getPosition(), 
                        CKEDITOR.env.ie6Compat) {
                            var o = C.getChild(0).getFrameDocument();
                            o.on("mousemove", b), o.on("mouseup", c);
                        }
                        i.data.preventDefault();
                    }, e);
                }
                function g(e) {
                    function b(l) {
                        var c = "rtl" == d.lang.dir, u = s.width, h = s.height, f = u + (l.data.$.screenX - r.x) * (c ? -1 : 1) * (e._.moved ? 1 : 2), m = h + (l.data.$.screenY - r.y) * (e._.moved ? 1 : 2), g = e._.element.getFirst(), g = c && g.getComputedStyle("right"), E = e.getPosition();
                        E.y + m > a.height && (m = a.height - E.y), (c ? g : E.x) + f > a.width && (f = a.width - (c ? g : E.x)), 
                        n != CKEDITOR.DIALOG_RESIZE_WIDTH && n != CKEDITOR.DIALOG_RESIZE_BOTH || (u = Math.max(t.minWidth || 0, f - i)), 
                        n != CKEDITOR.DIALOG_RESIZE_HEIGHT && n != CKEDITOR.DIALOG_RESIZE_BOTH || (h = Math.max(t.minHeight || 0, m - o)), 
                        e.resize(u, h), e._.moved || e.layout(), l.data.preventDefault();
                    }
                    function c() {
                        if (CKEDITOR.document.removeListener("mouseup", c), CKEDITOR.document.removeListener("mousemove", b), 
                        l && (l.remove(), l = null), CKEDITOR.env.ie6Compat) {
                            var e = C.getChild(0).getFrameDocument();
                            e.removeListener("mouseup", c), e.removeListener("mousemove", b);
                        }
                    }
                    var t = e.definition, n = t.resizable;
                    if (n != CKEDITOR.DIALOG_RESIZE_NONE) {
                        var i, o, a, r, s, l, d = e.getParentEditor(), u = CKEDITOR.tools.addFunction(function(t) {
                            s = e.getSize();
                            var n = e.parts.contents;
                            n.$.getElementsByTagName("iframe").length && (l = CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'), 
                            n.append(l)), o = s.height - e.parts.contents.getSize("height", !(CKEDITOR.env.gecko || CKEDITOR.env.ie && CKEDITOR.env.quirks)), 
                            i = s.width - e.parts.contents.getSize("width", 1), r = {
                                x: t.screenX,
                                y: t.screenY
                            }, a = CKEDITOR.document.getWindow().getViewPaneSize(), CKEDITOR.document.on("mousemove", b), 
                            CKEDITOR.document.on("mouseup", c), CKEDITOR.env.ie6Compat && (n = C.getChild(0).getFrameDocument(), 
                            n.on("mousemove", b), n.on("mouseup", c)), t.preventDefault && t.preventDefault();
                        });
                        e.on("load", function() {
                            var t = "";
                            n == CKEDITOR.DIALOG_RESIZE_WIDTH ? t = " cke_resizer_horizontal" : n == CKEDITOR.DIALOG_RESIZE_HEIGHT && (t = " cke_resizer_vertical"), 
                            t = CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer' + t + " cke_resizer_" + d.lang.dir + '" title="' + CKEDITOR.tools.htmlEncode(d.lang.common.resize) + '" onmousedown="CKEDITOR.tools.callFunction(' + u + ', event )">' + ("ltr" == d.lang.dir ? "◢" : "◣") + "</div>"), 
                            e.parts.footer.append(t, 1);
                        }), d.on("destroy", function() {
                            CKEDITOR.tools.removeFunction(u);
                        });
                    }
                }
                function n(e) {
                    e.data.preventDefault(1);
                }
                function r(e) {
                    var t = CKEDITOR.document.getWindow(), i = e.config, o = CKEDITOR.skinName || e.config.skin, a = i.dialog_backgroundCoverColor || ("moono-lisa" == o ? "black" : "white"), o = i.dialog_backgroundCoverOpacity, r = i.baseFloatZIndex, i = CKEDITOR.tools.genKey(a, o, r), s = I[i];
                    s ? s.show() : (r = [ '<div tabIndex="-1" style="position: ', CKEDITOR.env.ie6Compat ? "absolute" : "fixed", "; z-index: ", r, "; top: 0px; left: 0px; ", CKEDITOR.env.ie6Compat ? "" : "background-color: " + a, '" class="cke_dialog_background_cover">' ], 
                    CKEDITOR.env.ie6Compat && (a = "<html><body style=\\'background-color:" + a + ";\\'></body></html>", 
                    r.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'), 
                    r.push("void((function(){" + encodeURIComponent("document.open();(" + CKEDITOR.tools.fixDomain + ")();document.write( '" + a + "' );document.close();") + "})())"), 
                    r.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')), 
                    r.push("</div>"), s = CKEDITOR.dom.element.createFromHtml(r.join("")), s.setOpacity(void 0 !== o ? o : .5), 
                    s.on("keydown", n), s.on("keypress", n), s.on("keyup", n), s.appendTo(CKEDITOR.document.getBody()), 
                    I[i] = s), e.focusManager.add(s), C = s, e = function() {
                        var e = t.getViewPaneSize();
                        s.setStyles({
                            width: e.width + "px",
                            height: e.height + "px"
                        });
                    };
                    var l = function() {
                        var e = t.getScrollPosition(), n = CKEDITOR.dialog._.currentTop;
                        if (s.setStyles({
                            left: e.x + "px",
                            top: e.y + "px"
                        }), n) do {
                            e = n.getPosition(), n.move(e.x, e.y);
                        } while (n = n._.parentDialog);
                    };
                    if (T = e, t.on("resize", e), e(), CKEDITOR.env.mac && CKEDITOR.env.webkit || s.focus(), 
                    CKEDITOR.env.ie6Compat) {
                        var c = function() {
                            l(), arguments.callee.prevScrollHandler.apply(this, arguments);
                        };
                        t.$.setTimeout(function() {
                            c.prevScrollHandler = window.onscroll || function() {}, window.onscroll = c;
                        }, 0), l();
                    }
                }
                function q(e) {
                    C && (e.focusManager.remove(C), e = CKEDITOR.document.getWindow(), C.hide(), e.removeListener("resize", T), 
                    CKEDITOR.env.ie6Compat && e.$.setTimeout(function() {
                        window.onscroll = window.onscroll && window.onscroll.prevScrollHandler || null;
                    }, 0), T = null);
                }
                var t = CKEDITOR.tools.cssLength, i = '<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog ' + CKEDITOR.env.cssClass + ' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';
                CKEDITOR.dialog = function(t, i) {
                    function h() {
                        var e = O._.focusList;
                        e.sort(function(e, t) {
                            return e.tabIndex != t.tabIndex ? t.tabIndex - e.tabIndex : e.focusIndex - t.focusIndex;
                        });
                        for (var t = e.length, n = 0; n < t; n++) e[n].focusIndex = n;
                    }
                    function k(e) {
                        var t = O._.focusList;
                        if (e = e || 0, !(1 > t.length)) {
                            var n = O._.currentFocusIndex;
                            O._.tabBarMode && 0 > e && (n = 0);
                            try {
                                t[n].getInputElement().$.blur();
                            } catch (e) {}
                            var i = n, o = 1 < O._.pageCount;
                            do {
                                if (i += e, o && !O._.tabBarMode && (i == t.length || -1 == i)) return O._.tabBarMode = !0, 
                                O._.tabs[O._.currentTabId][0].focus(), void (O._.currentFocusIndex = -1);
                                if ((i = (i + t.length) % t.length) == n) break;
                            } while (e && !t[i].isFocusable());
                            t[i].focus(), "text" == t[i].type && t[i].select();
                        }
                    }
                    function n(e) {
                        if (O == CKEDITOR.dialog._.currentTop) {
                            var n = e.data.getKeystroke(), i = "rtl" == t.lang.dir, o = [ 37, 38, 39, 40 ];
                            if (r = s = 0, 9 == n || n == CKEDITOR.SHIFT + 9) k(n == CKEDITOR.SHIFT + 9 ? -1 : 1), 
                            r = 1; else if (n == CKEDITOR.ALT + 121 && !O._.tabBarMode && 1 < O.getPageCount()) O._.tabBarMode = !0, 
                            O._.tabs[O._.currentTabId][0].focus(), O._.currentFocusIndex = -1, r = 1; else if (-1 != CKEDITOR.tools.indexOf(o, n) && O._.tabBarMode) n = -1 != CKEDITOR.tools.indexOf([ i ? 39 : 37, 38 ], n) ? a.call(O) : f.call(O), 
                            O.selectPage(n), O._.tabs[n][0].focus(), r = 1; else if (13 != n && 32 != n || !O._.tabBarMode) if (13 == n) n = e.data.getTarget(), 
                            n.is("a", "button", "select", "textarea") || n.is("input") && "button" == n.$.type || ((n = this.getButton("ok")) && CKEDITOR.tools.setTimeout(n.click, 0, n), 
                            r = 1), s = 1; else {
                                if (27 != n) return;
                                (n = this.getButton("cancel")) ? CKEDITOR.tools.setTimeout(n.click, 0, n) : !1 !== this.fire("cancel", {
                                    hide: !0
                                }).hide && this.hide(), s = 1;
                            } else this.selectPage(this._.currentTabId), this._.tabBarMode = !1, this._.currentFocusIndex = -1, 
                            k(1), r = 1;
                            v(e);
                        }
                    }
                    function v(e) {
                        r ? e.data.preventDefault(1) : s && e.data.stopPropagation();
                    }
                    var r, s, d = CKEDITOR.dialog._.dialogDefinitions[i], u = CKEDITOR.tools.clone(o), E = t.config.dialog_buttonsOrder || "OS", T = t.lang.dir, C = {};
                    if (("OS" == E && CKEDITOR.env.mac || "rtl" == E && "ltr" == T || "ltr" == E && "rtl" == T) && u.buttons.reverse(), 
                    d = CKEDITOR.tools.extend(d(t), u), d = CKEDITOR.tools.clone(d), d = new p(this, d), 
                    u = l(t), this._ = {
                        editor: t,
                        element: u.element,
                        name: i,
                        contentSize: {
                            width: 0,
                            height: 0
                        },
                        size: {
                            width: 0,
                            height: 0
                        },
                        contents: {},
                        buttons: {},
                        accessKeyMap: {},
                        tabs: {},
                        tabIdList: [],
                        currentTabId: null,
                        currentTabIndex: null,
                        pageCount: 0,
                        lastTab: null,
                        tabBarMode: !1,
                        focusList: [],
                        currentFocusIndex: 0,
                        hasFocus: !1
                    }, this.parts = u.parts, CKEDITOR.tools.setTimeout(function() {
                        t.fire("ariaWidget", this.parts.contents);
                    }, 0, this), u = {
                        position: CKEDITOR.env.ie6Compat ? "absolute" : "fixed",
                        top: 0,
                        visibility: "hidden"
                    }, u["rtl" == T ? "right" : "left"] = 0, this.parts.dialog.setStyles(u), CKEDITOR.event.call(this), 
                    this.definition = d = CKEDITOR.fire("dialogDefinition", {
                        name: i,
                        definition: d
                    }, t).definition, !("removeDialogTabs" in t._) && t.config.removeDialogTabs) {
                        for (u = t.config.removeDialogTabs.split(";"), T = 0; T < u.length; T++) if (E = u[T].split(":"), 
                        2 == E.length) {
                            var I = E[0];
                            C[I] || (C[I] = []), C[I].push(E[1]);
                        }
                        t._.removeDialogTabs = C;
                    }
                    if (t._.removeDialogTabs && (C = t._.removeDialogTabs[i])) for (T = 0; T < C.length; T++) d.removeContents(C[T]);
                    d.onLoad && this.on("load", d.onLoad), d.onShow && this.on("show", d.onShow), d.onHide && this.on("hide", d.onHide), 
                    d.onOk && this.on("ok", function(e) {
                        t.fire("saveSnapshot"), setTimeout(function() {
                            t.fire("saveSnapshot");
                        }, 0), !1 === d.onOk.call(this, e) && (e.data.hide = !1);
                    }), this.state = CKEDITOR.DIALOG_STATE_IDLE, d.onCancel && this.on("cancel", function(e) {
                        !1 === d.onCancel.call(this, e) && (e.data.hide = !1);
                    });
                    var O = this, D = function(e) {
                        var t, n = O._.contents;
                        for (t in n) for (var i in n[t]) if (e.call(this, n[t][i])) return;
                    };
                    this.on("ok", function(e) {
                        D(function(t) {
                            if (t.validate) {
                                var n = t.validate(this), i = "string" == typeof n || !1 === n;
                                return i && (e.data.hide = !1, e.stop()), c.call(t, !i, "string" == typeof n ? n : void 0), 
                                i;
                            }
                        });
                    }, this, null, 0), this.on("cancel", function(e) {
                        D(function(n) {
                            if (n.isChanged()) return t.config.dialog_noConfirmCancel || confirm(t.lang.common.confirmCancel) || (e.data.hide = !1), 
                            !0;
                        });
                    }, this, null, 0), this.parts.close.on("click", function(e) {
                        !1 !== this.fire("cancel", {
                            hide: !0
                        }).hide && this.hide(), e.data.preventDefault();
                    }, this), this.changeFocus = k;
                    var R = this._.element;
                    for (t.focusManager.add(R, 1), this.on("show", function() {
                        R.on("keydown", n, this), CKEDITOR.env.gecko && R.on("keypress", v, this);
                    }), this.on("hide", function() {
                        R.removeListener("keydown", n), CKEDITOR.env.gecko && R.removeListener("keypress", v), 
                        D(function(t) {
                            e.apply(t);
                        });
                    }), this.on("iframeAdded", function(e) {
                        new CKEDITOR.dom.document(e.data.iframe.$.contentWindow.document).on("keydown", n, this, null, 0);
                    }), this.on("show", function() {
                        h();
                        var e = 1 < O._.pageCount;
                        t.config.dialog_startupFocusTab && e ? (O._.tabBarMode = !0, O._.tabs[O._.currentTabId][0].focus(), 
                        O._.currentFocusIndex = -1) : this._.hasFocus || (this._.currentFocusIndex = e ? -1 : this._.focusList.length - 1, 
                        d.onFocus ? (e = d.onFocus.call(this)) && e.focus() : k(1));
                    }, this, null, 4294967295), CKEDITOR.env.ie6Compat && this.on("load", function() {
                        var e = this.getElement(), t = e.getFirst();
                        t.remove(), t.appendTo(e);
                    }, this), m(this), g(this), new CKEDITOR.dom.text(d.title, CKEDITOR.document).appendTo(this.parts.title), 
                    T = 0; T < d.contents.length; T++) (C = d.contents[T]) && this.addPage(C);
                    for (this.parts.tabs.on("click", function(e) {
                        var t = e.data.getTarget();
                        t.hasClass("cke_dialog_tab") && (t = t.$.id, this.selectPage(t.substring(4, t.lastIndexOf("_"))), 
                        this._.tabBarMode && (this._.tabBarMode = !1, this._.currentFocusIndex = -1, k(1)), 
                        e.data.preventDefault());
                    }, this), T = [], C = CKEDITOR.dialog._.uiElementBuilders.hbox.build(this, {
                        type: "hbox",
                        className: "cke_dialog_footer_buttons",
                        widths: [],
                        children: d.buttons
                    }, T).getChild(), this.parts.footer.setHtml(T.join("")), T = 0; T < C.length; T++) this._.buttons[C[T].id] = C[T];
                }, CKEDITOR.dialog.prototype = {
                    destroy: function() {
                        this.hide(), this._.element.remove();
                    },
                    resize: function() {
                        return function(e, t) {
                            this._.contentSize && this._.contentSize.width == e && this._.contentSize.height == t || (CKEDITOR.dialog.fire("resize", {
                                dialog: this,
                                width: e,
                                height: t
                            }, this._.editor), this.fire("resize", {
                                width: e,
                                height: t
                            }, this._.editor), this.parts.contents.setStyles({
                                width: e + "px",
                                height: t + "px"
                            }), "rtl" == this._.editor.lang.dir && this._.position && (this._.position.x = CKEDITOR.document.getWindow().getViewPaneSize().width - this._.contentSize.width - parseInt(this._.element.getFirst().getStyle("right"), 10)), 
                            this._.contentSize = {
                                width: e,
                                height: t
                            });
                        };
                    }(),
                    getSize: function() {
                        var e = this._.element.getFirst();
                        return {
                            width: e.$.offsetWidth || 0,
                            height: e.$.offsetHeight || 0
                        };
                    },
                    move: function(e, t, n) {
                        var i = this._.element.getFirst(), o = "rtl" == this._.editor.lang.dir, a = "fixed" == i.getComputedStyle("position");
                        CKEDITOR.env.ie && i.setStyle("zoom", "100%"), a && this._.position && this._.position.x == e && this._.position.y == t || (this._.position = {
                            x: e,
                            y: t
                        }, a || (a = CKEDITOR.document.getWindow().getScrollPosition(), e += a.x, t += a.y), 
                        o && (a = this.getSize(), e = CKEDITOR.document.getWindow().getViewPaneSize().width - a.width - e), 
                        t = {
                            top: (0 < t ? t : 0) + "px"
                        }, t[o ? "right" : "left"] = (0 < e ? e : 0) + "px", i.setStyles(t), n && (this._.moved = 1));
                    },
                    getPosition: function() {
                        return CKEDITOR.tools.extend({}, this._.position);
                    },
                    show: function() {
                        var e = this._.element, t = this.definition;
                        e.getParent() && e.getParent().equals(CKEDITOR.document.getBody()) ? e.setStyle("display", "block") : e.appendTo(CKEDITOR.document.getBody()), 
                        this.resize(this._.contentSize && this._.contentSize.width || t.width || t.minWidth, this._.contentSize && this._.contentSize.height || t.height || t.minHeight), 
                        this.reset(), this.selectPage(this.definition.contents[0].id), null === CKEDITOR.dialog._.currentZIndex && (CKEDITOR.dialog._.currentZIndex = this._.editor.config.baseFloatZIndex), 
                        this._.element.getFirst().setStyle("z-index", CKEDITOR.dialog._.currentZIndex += 10), 
                        null === CKEDITOR.dialog._.currentTop ? (CKEDITOR.dialog._.currentTop = this, this._.parentDialog = null, 
                        r(this._.editor)) : (this._.parentDialog = CKEDITOR.dialog._.currentTop, this._.parentDialog.getElement().getFirst().$.style.zIndex -= Math.floor(this._.editor.config.baseFloatZIndex / 2), 
                        CKEDITOR.dialog._.currentTop = this), e.on("keydown", D), e.on("keyup", R), this._.hasFocus = !1;
                        for (var n in t.contents) if (t.contents[n]) {
                            var e = t.contents[n], i = this._.tabs[e.id], o = e.requiredContent, a = 0;
                            if (i) {
                                for (var s in this._.contents[e.id]) {
                                    var l = this._.contents[e.id][s];
                                    "hbox" != l.type && "vbox" != l.type && l.getInputElement() && (l.requiredContent && !this._.editor.activeFilter.check(l.requiredContent) ? l.disable() : (l.enable(), 
                                    a++));
                                }
                                !a || o && !this._.editor.activeFilter.check(o) ? i[0].addClass("cke_dialog_tab_disabled") : i[0].removeClass("cke_dialog_tab_disabled");
                            }
                        }
                        CKEDITOR.tools.setTimeout(function() {
                            this.layout(), d(this), this.parts.dialog.setStyle("visibility", ""), this.fireOnce("load", {}), 
                            CKEDITOR.ui.fire("ready", this), this.fire("show", {}), this._.editor.fire("dialogShow", this), 
                            this._.parentDialog || this._.editor.focusManager.lock(), this.foreach(function(e) {
                                e.setInitValue && e.setInitValue();
                            });
                        }, 100, this);
                    },
                    layout: function() {
                        var e = this.parts.dialog, t = this.getSize(), n = CKEDITOR.document.getWindow().getViewPaneSize(), i = (n.width - t.width) / 2, o = (n.height - t.height) / 2;
                        CKEDITOR.env.ie6Compat || (t.height + (0 < o ? o : 0) > n.height || t.width + (0 < i ? i : 0) > n.width ? e.setStyle("position", "absolute") : e.setStyle("position", "fixed")), 
                        this.move(this._.moved ? this._.position.x : i, this._.moved ? this._.position.y : o);
                    },
                    foreach: function(e) {
                        for (var t in this._.contents) for (var n in this._.contents[t]) e.call(this, this._.contents[t][n]);
                        return this;
                    },
                    reset: function() {
                        var e = function(e) {
                            e.reset && e.reset(1);
                        };
                        return function() {
                            return this.foreach(e), this;
                        };
                    }(),
                    setupContent: function() {
                        var e = arguments;
                        this.foreach(function(t) {
                            t.setup && t.setup.apply(t, e);
                        });
                    },
                    commitContent: function() {
                        var e = arguments;
                        this.foreach(function(t) {
                            CKEDITOR.env.ie && this._.currentFocusIndex == t.focusIndex && t.getInputElement().$.blur(), 
                            t.commit && t.commit.apply(t, e);
                        });
                    },
                    hide: function() {
                        if (this.parts.dialog.isVisible()) {
                            this.fire("hide", {}), this._.editor.fire("dialogHide", this), this.selectPage(this._.tabIdList[0]);
                            var e = this._.element;
                            for (e.setStyle("display", "none"), this.parts.dialog.setStyle("visibility", "hidden"), 
                            y(this); CKEDITOR.dialog._.currentTop != this; ) CKEDITOR.dialog._.currentTop.hide();
                            if (this._.parentDialog) {
                                var t = this._.parentDialog.getElement().getFirst();
                                t.setStyle("z-index", parseInt(t.$.style.zIndex, 10) + Math.floor(this._.editor.config.baseFloatZIndex / 2));
                            } else q(this._.editor);
                            if (CKEDITOR.dialog._.currentTop = this._.parentDialog) CKEDITOR.dialog._.currentZIndex -= 10; else {
                                CKEDITOR.dialog._.currentZIndex = null, e.removeListener("keydown", D), e.removeListener("keyup", R);
                                var n = this._.editor;
                                n.focus(), setTimeout(function() {
                                    n.focusManager.unlock(), CKEDITOR.env.iOS && n.window.focus();
                                }, 0);
                            }
                            delete this._.parentDialog, this.foreach(function(e) {
                                e.resetInitValue && e.resetInitValue();
                            }), this.setState(CKEDITOR.DIALOG_STATE_IDLE);
                        }
                    },
                    addPage: function(e) {
                        if (!e.requiredContent || this._.editor.filter.check(e.requiredContent)) {
                            for (var t = [], n = e.label ? ' title="' + CKEDITOR.tools.htmlEncode(e.label) + '"' : "", i = CKEDITOR.dialog._.uiElementBuilders.vbox.build(this, {
                                type: "vbox",
                                className: "cke_dialog_page_contents",
                                children: e.elements,
                                expand: !!e.expand,
                                padding: e.padding,
                                style: e.style || "width: 100%;"
                            }, t), o = this._.contents[e.id] = {}, a = i.getChild(), r = 0; i = a.shift(); ) i.notAllowed || "hbox" == i.type || "vbox" == i.type || r++, 
                            o[i.id] = i, "function" == typeof i.getChild && a.push.apply(a, i.getChild());
                            r || (e.hidden = !0), t = CKEDITOR.dom.element.createFromHtml(t.join("")), t.setAttribute("role", "tabpanel"), 
                            i = CKEDITOR.env, o = "cke_" + e.id + "_" + CKEDITOR.tools.getNextNumber(), n = CKEDITOR.dom.element.createFromHtml([ '<a class="cke_dialog_tab"', 0 < this._.pageCount ? " cke_last" : "cke_first", n, e.hidden ? ' style="display:none"' : "", ' id="', o, '"', i.gecko && !i.hc ? "" : ' href="javascript:void(0)"', ' tabIndex="-1" hidefocus="true" role="tab">', e.label, "</a>" ].join("")), 
                            t.setAttribute("aria-labelledby", o), this._.tabs[e.id] = [ n, t ], this._.tabIdList.push(e.id), 
                            !e.hidden && this._.pageCount++, this._.lastTab = n, this.updateStyle(), t.setAttribute("name", e.id), 
                            t.appendTo(this.parts.contents), n.unselectable(), this.parts.tabs.append(n), e.accessKey && (K(this, this, "CTRL+" + e.accessKey, N, _), 
                            this._.accessKeyMap["CTRL+" + e.accessKey] = e.id);
                        }
                    },
                    selectPage: function(e) {
                        if (this._.currentTabId != e && !this._.tabs[e][0].hasClass("cke_dialog_tab_disabled") && !1 !== this.fire("selectPage", {
                            page: e,
                            currentPage: this._.currentTabId
                        })) {
                            for (var t in this._.tabs) {
                                var n = this._.tabs[t][0], i = this._.tabs[t][1];
                                t != e && (n.removeClass("cke_dialog_tab_selected"), i.hide()), i.setAttribute("aria-hidden", t != e);
                            }
                            var o = this._.tabs[e];
                            o[0].addClass("cke_dialog_tab_selected"), CKEDITOR.env.ie6Compat || CKEDITOR.env.ie7Compat ? (b(o[1]), 
                            o[1].show(), setTimeout(function() {
                                b(o[1], 1);
                            }, 0)) : o[1].show(), this._.currentTabId = e, this._.currentTabIndex = CKEDITOR.tools.indexOf(this._.tabIdList, e);
                        }
                    },
                    updateStyle: function() {
                        this.parts.dialog[(1 === this._.pageCount ? "add" : "remove") + "Class"]("cke_single_page");
                    },
                    hidePage: function(e) {
                        var t = this._.tabs[e] && this._.tabs[e][0];
                        t && 1 != this._.pageCount && t.isVisible() && (e == this._.currentTabId && this.selectPage(a.call(this)), 
                        t.hide(), this._.pageCount--, this.updateStyle());
                    },
                    showPage: function(e) {
                        (e = this._.tabs[e] && this._.tabs[e][0]) && (e.show(), this._.pageCount++, this.updateStyle());
                    },
                    getElement: function() {
                        return this._.element;
                    },
                    getName: function() {
                        return this._.name;
                    },
                    getContentElement: function(e, t) {
                        var n = this._.contents[e];
                        return n && n[t];
                    },
                    getValueOf: function(e, t) {
                        return this.getContentElement(e, t).getValue();
                    },
                    setValueOf: function(e, t, n) {
                        return this.getContentElement(e, t).setValue(n);
                    },
                    getButton: function(e) {
                        return this._.buttons[e];
                    },
                    click: function(e) {
                        return this._.buttons[e].click();
                    },
                    disableButton: function(e) {
                        return this._.buttons[e].disable();
                    },
                    enableButton: function(e) {
                        return this._.buttons[e].enable();
                    },
                    getPageCount: function() {
                        return this._.pageCount;
                    },
                    getParentEditor: function() {
                        return this._.editor;
                    },
                    getSelectedElement: function() {
                        return this.getParentEditor().getSelection().getSelectedElement();
                    },
                    addFocusable: function(e, t) {
                        if (void 0 === t) t = this._.focusList.length, this._.focusList.push(new k(this, e, t)); else {
                            this._.focusList.splice(t, 0, new k(this, e, t));
                            for (var n = t + 1; n < this._.focusList.length; n++) this._.focusList[n].focusIndex++;
                        }
                    },
                    setState: function(e) {
                        if (this.state != e) {
                            if (this.state = e, e == CKEDITOR.DIALOG_STATE_BUSY) {
                                if (!this.parts.spinner) {
                                    var t = this.getParentEditor().lang.dir, n = {
                                        attributes: {
                                            class: "cke_dialog_spinner"
                                        },
                                        styles: {
                                            float: "rtl" == t ? "right" : "left"
                                        }
                                    };
                                    n.styles["margin-" + ("rtl" == t ? "left" : "right")] = "8px", this.parts.spinner = CKEDITOR.document.createElement("div", n), 
                                    this.parts.spinner.setHtml("&#8987;"), this.parts.spinner.appendTo(this.parts.title, 1);
                                }
                                this.parts.spinner.show(), this.getButton("ok").disable();
                            } else e == CKEDITOR.DIALOG_STATE_IDLE && (this.parts.spinner && this.parts.spinner.hide(), 
                            this.getButton("ok").enable());
                            this.fire("state", e);
                        }
                    }
                }, CKEDITOR.tools.extend(CKEDITOR.dialog, {
                    add: function(e, t) {
                        this._.dialogDefinitions[e] && "function" != typeof t || (this._.dialogDefinitions[e] = t);
                    },
                    exists: function(e) {
                        return !!this._.dialogDefinitions[e];
                    },
                    getCurrent: function() {
                        return CKEDITOR.dialog._.currentTop;
                    },
                    isTabEnabled: function(e, t, n) {
                        return !((e = e.config.removeDialogTabs) && e.match(new RegExp("(?:^|;)" + t + ":" + n + "(?:$|;)", "i")));
                    },
                    okButton: function() {
                        var e = function(e, t) {
                            return t = t || {}, CKEDITOR.tools.extend({
                                id: "ok",
                                type: "button",
                                label: e.lang.common.ok,
                                class: "cke_dialog_ui_button_ok",
                                onClick: function(e) {
                                    e = e.data.dialog, !1 !== e.fire("ok", {
                                        hide: !0
                                    }).hide && e.hide();
                                }
                            }, t, !0);
                        };
                        return e.type = "button", e.override = function(t) {
                            return CKEDITOR.tools.extend(function(n) {
                                return e(n, t);
                            }, {
                                type: "button"
                            }, !0);
                        }, e;
                    }(),
                    cancelButton: function() {
                        var e = function(e, t) {
                            return t = t || {}, CKEDITOR.tools.extend({
                                id: "cancel",
                                type: "button",
                                label: e.lang.common.cancel,
                                class: "cke_dialog_ui_button_cancel",
                                onClick: function(e) {
                                    e = e.data.dialog, !1 !== e.fire("cancel", {
                                        hide: !0
                                    }).hide && e.hide();
                                }
                            }, t, !0);
                        };
                        return e.type = "button", e.override = function(t) {
                            return CKEDITOR.tools.extend(function(n) {
                                return e(n, t);
                            }, {
                                type: "button"
                            }, !0);
                        }, e;
                    }(),
                    addUIElement: function(e, t) {
                        this._.uiElementBuilders[e] = t;
                    }
                }), CKEDITOR.dialog._ = {
                    uiElementBuilders: {},
                    dialogDefinitions: {},
                    currentTop: null,
                    currentZIndex: null
                }, CKEDITOR.event.implementOn(CKEDITOR.dialog), CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);
                var o = {
                    resizable: CKEDITOR.DIALOG_RESIZE_BOTH,
                    minWidth: 600,
                    minHeight: 400,
                    buttons: [ CKEDITOR.dialog.okButton, CKEDITOR.dialog.cancelButton ]
                }, s = function(e, t, n) {
                    for (var i, o = 0; i = e[o]; o++) if (i.id == t || n && i[n] && (i = s(i[n], t, n))) return i;
                    return null;
                }, u = function(e, t, n, i, o) {
                    if (n) {
                        for (var a, r = 0; a = e[r]; r++) {
                            if (a.id == n) return e.splice(r, 0, t), t;
                            if (i && a[i] && (a = u(a[i], t, n, i, !0))) return a;
                        }
                        if (o) return null;
                    }
                    return e.push(t), t;
                }, E = function(e, t, n) {
                    for (var i, o = 0; i = e[o]; o++) {
                        if (i.id == t) return e.splice(o, 1);
                        if (n && i[n] && (i = E(i[n], t, n))) return i;
                    }
                    return null;
                }, p = function(e, t) {
                    this.dialog = e;
                    for (var n, i = t.contents, o = 0; n = i[o]; o++) i[o] = n && new h(e, n);
                    CKEDITOR.tools.extend(this, t);
                };
                p.prototype = {
                    getContents: function(e) {
                        return s(this.contents, e);
                    },
                    getButton: function(e) {
                        return s(this.buttons, e);
                    },
                    addContents: function(e, t) {
                        return u(this.contents, e, t);
                    },
                    addButton: function(e, t) {
                        return u(this.buttons, e, t);
                    },
                    removeContents: function(e) {
                        E(this.contents, e);
                    },
                    removeButton: function(e) {
                        E(this.buttons, e);
                    }
                }, h.prototype = {
                    get: function(e) {
                        return s(this.elements, e, "children");
                    },
                    add: function(e, t) {
                        return u(this.elements, e, t, "children");
                    },
                    remove: function(e) {
                        E(this.elements, e, "children");
                    }
                };
                var T, C, I = {}, O = {}, D = function(e) {
                    var t = e.data.$.ctrlKey || e.data.$.metaKey, n = e.data.$.altKey, i = e.data.$.shiftKey, o = String.fromCharCode(e.data.$.keyCode);
                    (t = O[(t ? "CTRL+" : "") + (n ? "ALT+" : "") + (i ? "SHIFT+" : "") + o]) && t.length && (t = t[t.length - 1], 
                    t.keydown && t.keydown.call(t.uiElement, t.dialog, t.key), e.data.preventDefault());
                }, R = function(e) {
                    var t = e.data.$.ctrlKey || e.data.$.metaKey, n = e.data.$.altKey, i = e.data.$.shiftKey, o = String.fromCharCode(e.data.$.keyCode);
                    (t = O[(t ? "CTRL+" : "") + (n ? "ALT+" : "") + (i ? "SHIFT+" : "") + o]) && t.length && (t = t[t.length - 1], 
                    t.keyup && (t.keyup.call(t.uiElement, t.dialog, t.key), e.data.preventDefault()));
                }, K = function(e, t, n, i, o) {
                    (O[n] || (O[n] = [])).push({
                        uiElement: e,
                        dialog: t,
                        key: n,
                        keyup: o || e.accessKeyUp,
                        keydown: i || e.accessKeyDown
                    });
                }, y = function(e) {
                    for (var t in O) {
                        for (var n = O[t], i = n.length - 1; 0 <= i; i--) n[i].dialog != e && n[i].uiElement != e || n.splice(i, 1);
                        0 === n.length && delete O[t];
                    }
                }, _ = function(e, t) {
                    e._.accessKeyMap[t] && e.selectPage(e._.accessKeyMap[t]);
                }, N = function() {};
                !function() {
                    CKEDITOR.ui.dialog = {
                        uiElement: function(e, t, n, i, o, a, r) {
                            if (!(4 > arguments.length)) {
                                var s = (i.call ? i(t) : i) || "div", l = [ "<", s, " " ], c = (o && o.call ? o(t) : o) || {}, d = (a && a.call ? a(t) : a) || {}, u = (r && r.call ? r.call(this, e, t) : r) || "", h = this.domId = d.id || CKEDITOR.tools.getNextId() + "_uiElement";
                                t.requiredContent && !e.getParentEditor().filter.check(t.requiredContent) && (c.display = "none", 
                                this.notAllowed = !0), d.id = h;
                                var f = {};
                                t.type && (f["cke_dialog_ui_" + t.type] = 1), t.className && (f[t.className] = 1), 
                                t.disabled && (f.cke_disabled = 1);
                                for (var m = d.class && d.class.split ? d.class.split(" ") : [], h = 0; h < m.length; h++) m[h] && (f[m[h]] = 1);
                                m = [];
                                for (h in f) m.push(h);
                                d.class = m.join(" "), t.title && (d.title = t.title), f = (t.style || "").split(";"), 
                                t.align && (m = t.align, c["margin-left"] = "left" == m ? 0 : "auto", c["margin-right"] = "right" == m ? 0 : "auto");
                                for (h in c) f.push(h + ":" + c[h]);
                                for (t.hidden && f.push("display:none"), h = f.length - 1; 0 <= h; h--) "" === f[h] && f.splice(h, 1);
                                0 < f.length && (d.style = (d.style ? d.style + "; " : "") + f.join("; "));
                                for (h in d) l.push(h + '="' + CKEDITOR.tools.htmlEncode(d[h]) + '" ');
                                l.push(">", u, "</", s, ">"), n.push(l.join("")), (this._ || (this._ = {})).dialog = e, 
                                "boolean" == typeof t.isChanged && (this.isChanged = function() {
                                    return t.isChanged;
                                }), "function" == typeof t.isChanged && (this.isChanged = t.isChanged), "function" == typeof t.setValue && (this.setValue = CKEDITOR.tools.override(this.setValue, function(e) {
                                    return function(n) {
                                        e.call(this, t.setValue.call(this, n));
                                    };
                                })), "function" == typeof t.getValue && (this.getValue = CKEDITOR.tools.override(this.getValue, function(e) {
                                    return function() {
                                        return t.getValue.call(this, e.call(this));
                                    };
                                })), CKEDITOR.event.implementOn(this), this.registerEvents(t), this.accessKeyUp && this.accessKeyDown && t.accessKey && K(this, e, "CTRL+" + t.accessKey);
                                var g = this;
                                e.on("load", function() {
                                    var t = g.getInputElement();
                                    if (t) {
                                        var n = g.type in {
                                            checkbox: 1,
                                            ratio: 1
                                        } && CKEDITOR.env.ie && 8 > CKEDITOR.env.version ? "cke_dialog_ui_focused" : "";
                                        t.on("focus", function() {
                                            e._.tabBarMode = !1, e._.hasFocus = !0, g.fire("focus"), n && this.addClass(n);
                                        }), t.on("blur", function() {
                                            g.fire("blur"), n && this.removeClass(n);
                                        });
                                    }
                                }), CKEDITOR.tools.extend(this, t), this.keyboardFocusable && (this.tabIndex = t.tabIndex || 0, 
                                this.focusIndex = e._.focusList.push(this) - 1, this.on("focus", function() {
                                    e._.currentFocusIndex = g.focusIndex;
                                }));
                            }
                        },
                        hbox: function(e, n, i, o, a) {
                            if (!(4 > arguments.length)) {
                                this._ || (this._ = {});
                                var r, s = this._.children = n, l = a && a.widths || null, c = a && a.height || null, d = {
                                    role: "presentation"
                                };
                                a && a.align && (d.align = a.align), CKEDITOR.ui.dialog.uiElement.call(this, e, a || {
                                    type: "hbox"
                                }, o, "table", {}, d, function() {
                                    var e = [ '<tbody><tr class="cke_dialog_ui_hbox">' ];
                                    for (r = 0; r < i.length; r++) {
                                        var n = "cke_dialog_ui_hbox_child", o = [];
                                        0 === r && (n = "cke_dialog_ui_hbox_first"), r == i.length - 1 && (n = "cke_dialog_ui_hbox_last"), 
                                        e.push('<td class="', n, '" role="presentation" '), l ? l[r] && o.push("width:" + t(l[r])) : o.push("width:" + Math.floor(100 / i.length) + "%"), 
                                        c && o.push("height:" + t(c)), a && void 0 !== a.padding && o.push("padding:" + t(a.padding)), 
                                        CKEDITOR.env.ie && CKEDITOR.env.quirks && s[r].align && o.push("text-align:" + s[r].align), 
                                        0 < o.length && e.push('style="' + o.join("; ") + '" '), e.push(">", i[r], "</td>");
                                    }
                                    return e.push("</tr></tbody>"), e.join("");
                                });
                            }
                        },
                        vbox: function(e, n, i, o, a) {
                            if (!(3 > arguments.length)) {
                                this._ || (this._ = {});
                                var r = this._.children = n, s = a && a.width || null, l = a && a.heights || null;
                                CKEDITOR.ui.dialog.uiElement.call(this, e, a || {
                                    type: "vbox"
                                }, o, "div", null, {
                                    role: "presentation"
                                }, function() {
                                    var n = [ '<table role="presentation" cellspacing="0" border="0" ' ];
                                    n.push('style="'), a && a.expand && n.push("height:100%;"), n.push("width:" + t(s || "100%"), ";"), 
                                    CKEDITOR.env.webkit && n.push("float:none;"), n.push('"'), n.push('align="', CKEDITOR.tools.htmlEncode(a && a.align || ("ltr" == e.getParentEditor().lang.dir ? "left" : "right")), '" '), 
                                    n.push("><tbody>");
                                    for (var o = 0; o < i.length; o++) {
                                        var c = [];
                                        n.push('<tr><td role="presentation" '), s && c.push("width:" + t(s || "100%")), 
                                        l ? c.push("height:" + t(l[o])) : a && a.expand && c.push("height:" + Math.floor(100 / i.length) + "%"), 
                                        a && void 0 !== a.padding && c.push("padding:" + t(a.padding)), CKEDITOR.env.ie && CKEDITOR.env.quirks && r[o].align && c.push("text-align:" + r[o].align), 
                                        0 < c.length && n.push('style="', c.join("; "), '" '), n.push(' class="cke_dialog_ui_vbox_child">', i[o], "</td></tr>");
                                    }
                                    return n.push("</tbody></table>"), n.join("");
                                });
                            }
                        }
                    };
                }(), CKEDITOR.ui.dialog.uiElement.prototype = {
                    getElement: function() {
                        return CKEDITOR.document.getById(this.domId);
                    },
                    getInputElement: function() {
                        return this.getElement();
                    },
                    getDialog: function() {
                        return this._.dialog;
                    },
                    setValue: function(e, t) {
                        return this.getInputElement().setValue(e), !t && this.fire("change", {
                            value: e
                        }), this;
                    },
                    getValue: function() {
                        return this.getInputElement().getValue();
                    },
                    isChanged: function() {
                        return !1;
                    },
                    selectParentTab: function() {
                        for (var e = this.getInputElement(); (e = e.getParent()) && -1 == e.$.className.search("cke_dialog_page_contents"); ) ;
                        return e ? (e = e.getAttribute("name"), this._.dialog._.currentTabId != e && this._.dialog.selectPage(e), 
                        this) : this;
                    },
                    focus: function() {
                        return this.selectParentTab().getInputElement().focus(), this;
                    },
                    registerEvents: function(e) {
                        var t, n, i = /^on([A-Z]\w+)/;
                        for (n in e) (t = n.match(i)) && (this.eventProcessors[n] ? this.eventProcessors[n].call(this, this._.dialog, e[n]) : function(e, t, n, i) {
                            t.on("load", function() {
                                e.getInputElement().on(n, i, e);
                            });
                        }(this, this._.dialog, t[1].toLowerCase(), e[n]));
                        return this;
                    },
                    eventProcessors: {
                        onLoad: function(e, t) {
                            e.on("load", t, this);
                        },
                        onShow: function(e, t) {
                            e.on("show", t, this);
                        },
                        onHide: function(e, t) {
                            e.on("hide", t, this);
                        }
                    },
                    accessKeyDown: function() {
                        this.focus();
                    },
                    accessKeyUp: function() {},
                    disable: function() {
                        var e = this.getElement();
                        this.getInputElement().setAttribute("disabled", "true"), e.addClass("cke_disabled");
                    },
                    enable: function() {
                        var e = this.getElement();
                        this.getInputElement().removeAttribute("disabled"), e.removeClass("cke_disabled");
                    },
                    isEnabled: function() {
                        return !this.getElement().hasClass("cke_disabled");
                    },
                    isVisible: function() {
                        return this.getInputElement().isVisible();
                    },
                    isFocusable: function() {
                        return !(!this.isEnabled() || !this.isVisible());
                    }
                }, CKEDITOR.ui.dialog.hbox.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement(), {
                    getChild: function(e) {
                        return 1 > arguments.length ? this._.children.concat() : (e.splice || (e = [ e ]), 
                        2 > e.length ? this._.children[e[0]] : this._.children[e[0]] && this._.children[e[0]].getChild ? this._.children[e[0]].getChild(e.slice(1, e.length)) : null);
                    }
                }, !0), CKEDITOR.ui.dialog.vbox.prototype = new CKEDITOR.ui.dialog.hbox(), function() {
                    var e = {
                        build: function(e, t, n) {
                            for (var i, o = t.children, a = [], r = [], s = 0; s < o.length && (i = o[s]); s++) {
                                var l = [];
                                a.push(l), r.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(e, i, l));
                            }
                            return new CKEDITOR.ui.dialog[t.type](e, r, a, n, t);
                        }
                    };
                    CKEDITOR.dialog.addUIElement("hbox", e), CKEDITOR.dialog.addUIElement("vbox", e);
                }(), CKEDITOR.dialogCommand = function(e, t) {
                    this.dialogName = e, CKEDITOR.tools.extend(this, t, !0);
                }, CKEDITOR.dialogCommand.prototype = {
                    exec: function(e) {
                        e.openDialog(this.dialogName);
                    },
                    canUndo: !1,
                    editorFocus: 1
                }, function() {
                    var e = /^([a]|[^a])+$/, t = /^\d*$/, n = /^\d*(?:\.\d+)?$/, i = /^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/, o = /^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i, a = /^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;
                    CKEDITOR.VALIDATE_OR = 1, CKEDITOR.VALIDATE_AND = 2, CKEDITOR.dialog.validate = {
                        functions: function() {
                            var e = arguments;
                            return function() {
                                var t, n, i = this && this.getValue ? this.getValue() : e[0], o = CKEDITOR.VALIDATE_AND, a = [];
                                for (n = 0; n < e.length && "function" == typeof e[n]; n++) a.push(e[n]);
                                n < e.length && "string" == typeof e[n] && (t = e[n], n++), n < e.length && "number" == typeof e[n] && (o = e[n]);
                                var r = o == CKEDITOR.VALIDATE_AND;
                                for (n = 0; n < a.length; n++) r = o == CKEDITOR.VALIDATE_AND ? r && a[n](i) : r || a[n](i);
                                return !!r || t;
                            };
                        },
                        regex: function(e, t) {
                            return function(n) {
                                return n = this && this.getValue ? this.getValue() : n, !!e.test(n) || t;
                            };
                        },
                        notEmpty: function(t) {
                            return this.regex(e, t);
                        },
                        integer: function(e) {
                            return this.regex(t, e);
                        },
                        number: function(e) {
                            return this.regex(n, e);
                        },
                        cssLength: function(e) {
                            return this.functions(function(e) {
                                return o.test(CKEDITOR.tools.trim(e));
                            }, e);
                        },
                        htmlLength: function(e) {
                            return this.functions(function(e) {
                                return i.test(CKEDITOR.tools.trim(e));
                            }, e);
                        },
                        inlineStyle: function(e) {
                            return this.functions(function(e) {
                                return a.test(CKEDITOR.tools.trim(e));
                            }, e);
                        },
                        equals: function(e, t) {
                            return this.functions(function(t) {
                                return t == e;
                            }, t);
                        },
                        notEqual: function(e, t) {
                            return this.functions(function(t) {
                                return t != e;
                            }, t);
                        }
                    }, CKEDITOR.on("instanceDestroyed", function(e) {
                        if (CKEDITOR.tools.isEmpty(CKEDITOR.instances)) {
                            for (var t; t = CKEDITOR.dialog._.currentTop; ) t.hide();
                            for (var n in I) I[n].remove();
                            I = {};
                        }
                        e = e.editor._.storedDialogs;
                        for (var i in e) e[i].destroy();
                    });
                }(), CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
                    openDialog: function(e, t) {
                        var n = null, i = CKEDITOR.dialog._.dialogDefinitions[e];
                        if (null === CKEDITOR.dialog._.currentTop && r(this), "function" == typeof i) n = this._.storedDialogs || (this._.storedDialogs = {}), 
                        n = n[e] || (n[e] = new CKEDITOR.dialog(this, e)), t && t.call(n, n), n.show(); else {
                            if ("failed" == i) throw q(this), Error('[CKEDITOR.dialog.openDialog] Dialog "' + e + '" failed when loading definition.');
                            "string" == typeof i && CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(i), function() {
                                "function" != typeof CKEDITOR.dialog._.dialogDefinitions[e] && (CKEDITOR.dialog._.dialogDefinitions[e] = "failed"), 
                                this.openDialog(e, t);
                            }, this, 0, 1);
                        }
                        return CKEDITOR.skin.loadPart("dialog"), n;
                    }
                });
            }(), CKEDITOR.plugins.add("dialog", {
                requires: "dialogui",
                init: function(e) {
                    e.on("doubleclick", function(t) {
                        t.data.dialog && e.openDialog(t.data.dialog);
                    }, null, null, 999);
                }
            }), function() {
                CKEDITOR.plugins.add("a11yhelp", {
                    requires: "dialog",
                    availableLangs: {
                        af: 1,
                        ar: 1,
                        az: 1,
                        bg: 1,
                        ca: 1,
                        cs: 1,
                        cy: 1,
                        da: 1,
                        de: 1,
                        "de-ch": 1,
                        el: 1,
                        en: 1,
                        "en-gb": 1,
                        eo: 1,
                        es: 1,
                        "es-mx": 1,
                        et: 1,
                        eu: 1,
                        fa: 1,
                        fi: 1,
                        fo: 1,
                        fr: 1,
                        "fr-ca": 1,
                        gl: 1,
                        gu: 1,
                        he: 1,
                        hi: 1,
                        hr: 1,
                        hu: 1,
                        id: 1,
                        it: 1,
                        ja: 1,
                        km: 1,
                        ko: 1,
                        ku: 1,
                        lt: 1,
                        lv: 1,
                        mk: 1,
                        mn: 1,
                        nb: 1,
                        nl: 1,
                        no: 1,
                        oc: 1,
                        pl: 1,
                        pt: 1,
                        "pt-br": 1,
                        ro: 1,
                        ru: 1,
                        si: 1,
                        sk: 1,
                        sl: 1,
                        sq: 1,
                        sr: 1,
                        "sr-latn": 1,
                        sv: 1,
                        th: 1,
                        tr: 1,
                        tt: 1,
                        ug: 1,
                        uk: 1,
                        vi: 1,
                        zh: 1,
                        "zh-cn": 1
                    },
                    init: function(e) {
                        var t = this;
                        e.addCommand("a11yHelp", {
                            exec: function() {
                                var n = e.langCode, n = t.availableLangs[n] ? n : t.availableLangs[n.replace(/-.*/, "")] ? n.replace(/-.*/, "") : "en";
                                CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path + "dialogs/lang/" + n + ".js"), function() {
                                    e.lang.a11yhelp = t.langEntries[n], e.openDialog("a11yHelp");
                                });
                            },
                            modes: {
                                wysiwyg: 1,
                                source: 1
                            },
                            readOnly: 1,
                            canUndo: !1
                        }), e.setKeystroke(CKEDITOR.ALT + 48, "a11yHelp"), CKEDITOR.dialog.add("a11yHelp", this.path + "dialogs/a11yhelp.js"), 
                        e.on("ariaEditorHelpLabel", function(t) {
                            t.data.label = e.lang.common.editorHelp;
                        });
                    }
                });
            }(), CKEDITOR.plugins.add("about", {
                requires: "dialog",
                init: function(e) {
                    var t = e.addCommand("about", new CKEDITOR.dialogCommand("about"));
                    t.modes = {
                        wysiwyg: 1,
                        source: 1
                    }, t.canUndo = !1, t.readOnly = 1, e.ui.addButton && e.ui.addButton("About", {
                        label: e.lang.about.title,
                        command: "about",
                        toolbar: "about"
                    }), CKEDITOR.dialog.add("about", this.path + "dialogs/about.js");
                }
            }), CKEDITOR.plugins.add("basicstyles", {
                init: function(e) {
                    var t = 0, n = function(n, o, a, r) {
                        if (r) {
                            r = new CKEDITOR.style(r);
                            var s = i[a];
                            s.unshift(r), e.attachStyleStateChange(r, function(t) {
                                !e.readOnly && e.getCommand(a).setState(t);
                            }), e.addCommand(a, new CKEDITOR.styleCommand(r, {
                                contentForms: s
                            })), e.ui.addButton && e.ui.addButton(n, {
                                label: o,
                                command: a,
                                toolbar: "basicstyles," + (t += 10)
                            });
                        }
                    }, i = {
                        bold: [ "strong", "b", [ "span", function(e) {
                            return "bold" == (e = e.styles["font-weight"]) || 700 <= +e;
                        } ] ],
                        italic: [ "em", "i", [ "span", function(e) {
                            return "italic" == e.styles["font-style"];
                        } ] ],
                        underline: [ "u", [ "span", function(e) {
                            return "underline" == e.styles["text-decoration"];
                        } ] ],
                        strike: [ "s", "strike", [ "span", function(e) {
                            return "line-through" == e.styles["text-decoration"];
                        } ] ],
                        subscript: [ "sub" ],
                        superscript: [ "sup" ]
                    }, o = e.config, a = e.lang.basicstyles;
                    n("Bold", a.bold, "bold", o.coreStyles_bold), n("Italic", a.italic, "italic", o.coreStyles_italic), 
                    n("Underline", a.underline, "underline", o.coreStyles_underline), n("Strike", a.strike, "strike", o.coreStyles_strike), 
                    n("Subscript", a.subscript, "subscript", o.coreStyles_subscript), n("Superscript", a.superscript, "superscript", o.coreStyles_superscript), 
                    e.setKeystroke([ [ CKEDITOR.CTRL + 66, "bold" ], [ CKEDITOR.CTRL + 73, "italic" ], [ CKEDITOR.CTRL + 85, "underline" ] ]);
                }
            }), CKEDITOR.config.coreStyles_bold = {
                element: "strong",
                overrides: "b"
            }, CKEDITOR.config.coreStyles_italic = {
                element: "em",
                overrides: "i"
            }, CKEDITOR.config.coreStyles_underline = {
                element: "u"
            }, CKEDITOR.config.coreStyles_strike = {
                element: "s",
                overrides: "strike"
            }, CKEDITOR.config.coreStyles_subscript = {
                element: "sub"
            }, CKEDITOR.config.coreStyles_superscript = {
                element: "sup"
            }, function() {
                var e = {
                    exec: function(e) {
                        var t = e.getCommand("blockquote").state, n = e.getSelection(), i = n && n.getRanges()[0];
                        if (i) {
                            var o = n.createBookmarks();
                            if (CKEDITOR.env.ie) {
                                var a, r = o[0].startNode, s = o[0].endNode;
                                if (r && "blockquote" == r.getParent().getName()) for (a = r; a = a.getNext(); ) if (a.type == CKEDITOR.NODE_ELEMENT && a.isBlockBoundary()) {
                                    r.move(a, !0);
                                    break;
                                }
                                if (s && "blockquote" == s.getParent().getName()) for (a = s; a = a.getPrevious(); ) if (a.type == CKEDITOR.NODE_ELEMENT && a.isBlockBoundary()) {
                                    s.move(a);
                                    break;
                                }
                            }
                            var l = i.createIterator();
                            if (l.enlargeBr = e.config.enterMode != CKEDITOR.ENTER_BR, t == CKEDITOR.TRISTATE_OFF) {
                                for (r = []; t = l.getNextParagraph(); ) r.push(t);
                                for (1 > r.length && (t = e.document.createElement(e.config.enterMode == CKEDITOR.ENTER_P ? "p" : "div"), 
                                s = o.shift(), i.insertNode(t), t.append(new CKEDITOR.dom.text("\ufeff", e.document)), 
                                i.moveToBookmark(s), i.selectNodeContents(t), i.collapse(!0), s = i.createBookmark(), 
                                r.push(t), o.unshift(s)), a = r[0].getParent(), i = [], s = 0; s < r.length; s++) t = r[s], 
                                a = a.getCommonAncestor(t.getParent());
                                for (t = {
                                    table: 1,
                                    tbody: 1,
                                    tr: 1,
                                    ol: 1,
                                    ul: 1
                                }; t[a.getName()]; ) a = a.getParent();
                                for (s = null; 0 < r.length; ) {
                                    for (t = r.shift(); !t.getParent().equals(a); ) t = t.getParent();
                                    t.equals(s) || i.push(t), s = t;
                                }
                                for (;0 < i.length; ) if (t = i.shift(), "blockquote" == t.getName()) {
                                    for (s = new CKEDITOR.dom.documentFragment(e.document); t.getFirst(); ) s.append(t.getFirst().remove()), 
                                    r.push(s.getLast());
                                    s.replace(t);
                                } else r.push(t);
                                for (i = e.document.createElement("blockquote"), i.insertBefore(r[0]); 0 < r.length; ) t = r.shift(), 
                                i.append(t);
                            } else if (t == CKEDITOR.TRISTATE_ON) {
                                for (s = [], a = {}; t = l.getNextParagraph(); ) {
                                    for (r = i = null; t.getParent(); ) {
                                        if ("blockquote" == t.getParent().getName()) {
                                            i = t.getParent(), r = t;
                                            break;
                                        }
                                        t = t.getParent();
                                    }
                                    i && r && !r.getCustomData("blockquote_moveout") && (s.push(r), CKEDITOR.dom.element.setMarker(a, r, "blockquote_moveout", !0));
                                }
                                for (CKEDITOR.dom.element.clearAllMarkers(a), t = [], r = [], a = {}; 0 < s.length; ) l = s.shift(), 
                                i = l.getParent(), l.getPrevious() ? l.getNext() ? (l.breakParent(l.getParent()), 
                                r.push(l.getNext())) : l.remove().insertAfter(i) : l.remove().insertBefore(i), i.getCustomData("blockquote_processed") || (r.push(i), 
                                CKEDITOR.dom.element.setMarker(a, i, "blockquote_processed", !0)), t.push(l);
                                for (CKEDITOR.dom.element.clearAllMarkers(a), s = r.length - 1; 0 <= s; s--) {
                                    i = r[s];
                                    e: {
                                        a = i;
                                        for (var l = 0, c = a.getChildCount(), d = void 0; l < c && (d = a.getChild(l)); l++) if (d.type == CKEDITOR.NODE_ELEMENT && d.isBlockBoundary()) {
                                            a = !1;
                                            break e;
                                        }
                                        a = !0;
                                    }
                                    a && i.remove();
                                }
                                if (e.config.enterMode == CKEDITOR.ENTER_BR) for (i = !0; t.length; ) if (l = t.shift(), 
                                "div" == l.getName()) {
                                    for (s = new CKEDITOR.dom.documentFragment(e.document), !i || !l.getPrevious() || l.getPrevious().type == CKEDITOR.NODE_ELEMENT && l.getPrevious().isBlockBoundary() || s.append(e.document.createElement("br")), 
                                    i = l.getNext() && !(l.getNext().type == CKEDITOR.NODE_ELEMENT && l.getNext().isBlockBoundary()); l.getFirst(); ) l.getFirst().remove().appendTo(s);
                                    i && s.append(e.document.createElement("br")), s.replace(l), i = !1;
                                }
                            }
                            n.selectBookmarks(o), e.focus();
                        }
                    },
                    refresh: function(e, t) {
                        this.setState(e.elementPath(t.block || t.blockLimit).contains("blockquote", 1) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF);
                    },
                    context: "blockquote",
                    allowedContent: "blockquote",
                    requiredContent: "blockquote"
                };
                CKEDITOR.plugins.add("blockquote", {
                    init: function(t) {
                        t.blockless || (t.addCommand("blockquote", e), t.ui.addButton && t.ui.addButton("Blockquote", {
                            label: t.lang.blockquote.toolbar,
                            command: "blockquote",
                            toolbar: "blocks,10"
                        }));
                    }
                });
            }(), CKEDITOR.plugins.add("notification", {
                init: function(e) {
                    function f(e) {
                        var t = new CKEDITOR.dom.element("div");
                        t.setStyles({
                            position: "fixed",
                            "margin-left": "-9999px"
                        }), t.setAttributes({
                            "aria-live": "assertive",
                            "aria-atomic": "true"
                        }), t.setText(e), CKEDITOR.document.getBody().append(t), setTimeout(function() {
                            t.remove();
                        }, 100);
                    }
                    e._.notificationArea = new la(e), e.showNotification = function(t, n, i) {
                        var o, a;
                        return "progress" == n ? o = i : a = i, t = new CKEDITOR.plugins.notification(e, {
                            message: t,
                            type: n,
                            progress: o,
                            duration: a
                        }), t.show(), t;
                    }, e.on("key", function(t) {
                        if (27 == t.data.keyCode) {
                            var n = e._.notificationArea.notifications;
                            n.length && (f(e.lang.notification.closed), n[n.length - 1].hide(), t.cancel());
                        }
                    });
                }
            }), ka.prototype = {
                show: function() {
                    !1 !== this.editor.fire("notificationShow", {
                        notification: this
                    }) && (this.area.add(this), this._hideAfterTimeout());
                },
                update: function(e) {
                    var t = !0;
                    !1 === this.editor.fire("notificationUpdate", {
                        notification: this,
                        options: e
                    }) && (t = !1);
                    var n = this.element, i = n.findOne(".cke_notification_message"), o = n.findOne(".cke_notification_progress"), a = e.type;
                    n.removeAttribute("role"), e.progress && "progress" != this.type && (a = "progress"), 
                    a && (n.removeClass(this._getClass()), n.removeAttribute("aria-label"), this.type = a, 
                    n.addClass(this._getClass()), n.setAttribute("aria-label", this.type), "progress" != this.type || o ? "progress" != this.type && o && o.remove() : (o = this._createProgressElement(), 
                    o.insertBefore(i))), void 0 !== e.message && (this.message = e.message, i.setHtml(this.message)), 
                    void 0 !== e.progress && (this.progress = e.progress, o && o.setStyle("width", this._getPercentageProgress())), 
                    t && e.important && (n.setAttribute("role", "alert"), this.isVisible() || this.area.add(this)), 
                    this.duration = e.duration, this._hideAfterTimeout();
                },
                hide: function() {
                    !1 !== this.editor.fire("notificationHide", {
                        notification: this
                    }) && this.area.remove(this);
                },
                isVisible: function() {
                    return 0 <= CKEDITOR.tools.indexOf(this.area.notifications, this);
                },
                _createElement: function() {
                    var e, t, n = this, i = this.editor.lang.common.close;
                    return e = new CKEDITOR.dom.element("div"), e.addClass("cke_notification"), e.addClass(this._getClass()), 
                    e.setAttributes({
                        id: this.id,
                        role: "alert",
                        "aria-label": this.type
                    }), "progress" == this.type && e.append(this._createProgressElement()), t = new CKEDITOR.dom.element("p"), 
                    t.addClass("cke_notification_message"), t.setHtml(this.message), e.append(t), t = CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="' + i + '" role="button" tabindex="-1"><span class="cke_label">X</span></a>'), 
                    e.append(t), t.on("click", function() {
                        n.editor.focus(), n.hide();
                    }), e;
                },
                _getClass: function() {
                    return "progress" == this.type ? "cke_notification_info" : "cke_notification_" + this.type;
                },
                _createProgressElement: function() {
                    var e = new CKEDITOR.dom.element("span");
                    return e.addClass("cke_notification_progress"), e.setStyle("width", this._getPercentageProgress()), 
                    e;
                },
                _getPercentageProgress: function() {
                    return Math.round(100 * (this.progress || 0)) + "%";
                },
                _hideAfterTimeout: function() {
                    var e, t = this;
                    this._hideTimeoutId && clearTimeout(this._hideTimeoutId), "number" == typeof this.duration ? e = this.duration : "info" != this.type && "success" != this.type || (e = "number" == typeof this.editor.config.notification_duration ? this.editor.config.notification_duration : 5e3), 
                    e && (t._hideTimeoutId = setTimeout(function() {
                        t.hide();
                    }, e));
                }
            }, la.prototype = {
                add: function(e) {
                    this.notifications.push(e), this.element.append(e.element), 1 == this.element.getChildCount() && (CKEDITOR.document.getBody().append(this.element), 
                    this._attachListeners()), this._layout();
                },
                remove: function(e) {
                    var t = CKEDITOR.tools.indexOf(this.notifications, e);
                    0 > t || (this.notifications.splice(t, 1), e.element.remove(), this.element.getChildCount() || (this._removeListeners(), 
                    this.element.remove()));
                },
                _createElement: function() {
                    var e = this.editor, t = e.config, n = new CKEDITOR.dom.element("div");
                    return n.addClass("cke_notifications_area"), n.setAttribute("id", "cke_notifications_area_" + e.name), 
                    n.setStyle("z-index", t.baseFloatZIndex - 2), n;
                },
                _attachListeners: function() {
                    var e = CKEDITOR.document.getWindow(), t = this.editor;
                    e.on("scroll", this._uiBuffer.input), e.on("resize", this._uiBuffer.input), t.on("change", this._changeBuffer.input), 
                    t.on("floatingSpaceLayout", this._layout, this, null, 20), t.on("blur", this._layout, this, null, 20);
                },
                _removeListeners: function() {
                    var e = CKEDITOR.document.getWindow(), t = this.editor;
                    e.removeListener("scroll", this._uiBuffer.input), e.removeListener("resize", this._uiBuffer.input), 
                    t.removeListener("change", this._changeBuffer.input), t.removeListener("floatingSpaceLayout", this._layout), 
                    t.removeListener("blur", this._layout);
                },
                _layout: function() {
                    function a() {
                        i.setStyle("left", g(E + r.width - c - d));
                    }
                    var e, t, n, i = this.element, o = this.editor, r = o.ui.contentsElement.getClientRect(), s = o.ui.contentsElement.getDocumentPosition(), l = i.getClientRect(), c = this._notificationWidth, d = this._notificationMargin;
                    n = CKEDITOR.document.getWindow();
                    var u = n.getScrollPosition(), h = n.getViewPaneSize(), f = CKEDITOR.document.getBody(), m = f.getDocumentPosition(), g = CKEDITOR.tools.cssLength;
                    c && d || (n = this.element.getChild(0), c = this._notificationWidth = n.getClientRect().width, 
                    d = this._notificationMargin = parseInt(n.getComputedStyle("margin-left"), 10) + parseInt(n.getComputedStyle("margin-right"), 10)), 
                    o.toolbar && (e = o.ui.space("top"), t = e.getClientRect()), e && e.isVisible() && t.bottom > r.top && t.bottom < r.bottom - l.height ? i.setStyles({
                        position: "fixed",
                        top: g(t.bottom)
                    }) : 0 < r.top ? i.setStyles({
                        position: "absolute",
                        top: g(s.y)
                    }) : s.y + r.height - l.height > u.y ? i.setStyles({
                        position: "fixed",
                        top: 0
                    }) : i.setStyles({
                        position: "absolute",
                        top: g(s.y + r.height - l.height)
                    });
                    var E = "fixed" == i.getStyle("position") ? r.left : "static" != f.getComputedStyle("position") ? s.x - m.x : s.x;
                    r.width < c + d ? s.x + c + d > u.x + h.width ? a() : i.setStyle("left", g(E)) : s.x + c + d > u.x + h.width ? i.setStyle("left", g(E)) : s.x + r.width / 2 + c / 2 + d > u.x + h.width ? i.setStyle("left", g(E - s.x + u.x + h.width - c - d)) : 0 > r.left + r.width - c - d ? a() : 0 > r.left + r.width / 2 - c / 2 ? i.setStyle("left", g(E - s.x + u.x)) : i.setStyle("left", g(E + r.width / 2 - c / 2 - d / 2));
                }
            }, CKEDITOR.plugins.notification = ka, function() {
                var e = '<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"' + (CKEDITOR.env.gecko && !CKEDITOR.env.hc ? "" : " href=\"javascript:void('{titleJs}')\"") + ' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';
                CKEDITOR.env.gecko && CKEDITOR.env.mac && (e += ' onkeypress="return false;"'), 
                CKEDITOR.env.gecko && (e += ' onblur="this.style.cssText = this.style.cssText;"');
                var e = e + ' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" ' + (CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : "onclick") + '="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"', e = e + '>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcut}</span>{arrowHtml}</a>', t = CKEDITOR.addTemplate("buttonArrow", '<span class="cke_button_arrow">' + (CKEDITOR.env.hc ? "&#9660;" : "") + "</span>"), n = CKEDITOR.addTemplate("button", e);
                CKEDITOR.plugins.add("button", {
                    beforeInit: function(e) {
                        e.ui.addHandler(CKEDITOR.UI_BUTTON, CKEDITOR.ui.button.handler);
                    }
                }), CKEDITOR.UI_BUTTON = "button", CKEDITOR.ui.button = function(e) {
                    CKEDITOR.tools.extend(this, e, {
                        title: e.label,
                        click: e.click || function(t) {
                            t.execCommand(e.command);
                        }
                    }), this._ = {};
                }, CKEDITOR.ui.button.handler = {
                    create: function(e) {
                        return new CKEDITOR.ui.button(e);
                    }
                }, CKEDITOR.ui.button.prototype = {
                    render: function(e, i) {
                        function l() {
                            var t = e.mode;
                            t && (t = this.modes[t] ? void 0 !== E[t] ? E[t] : CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED, 
                            t = e.readOnly && !this.readOnly ? CKEDITOR.TRISTATE_DISABLED : t, this.setState(t), 
                            this.refresh && this.refresh());
                        }
                        var o, a, r, s = CKEDITOR.env, c = this._.id = CKEDITOR.tools.getNextId(), d = "", u = this.command;
                        this._.editor = e;
                        var h = {
                            id: c,
                            button: this,
                            editor: e,
                            focus: function() {
                                CKEDITOR.document.getById(c).focus();
                            },
                            execute: function() {
                                this.button.click(e);
                            },
                            attach: function(e) {
                                this.button.attach(e);
                            }
                        }, f = CKEDITOR.tools.addFunction(function(e) {
                            if (h.onkey) return e = new CKEDITOR.dom.event(e), !1 !== h.onkey(h, e.getKeystroke());
                        }), m = CKEDITOR.tools.addFunction(function(e) {
                            var t;
                            return h.onfocus && (t = !1 !== h.onfocus(h, new CKEDITOR.dom.event(e))), t;
                        }), g = 0;
                        if (h.clickFn = o = CKEDITOR.tools.addFunction(function() {
                            g && (e.unlockSelection(1), g = 0), h.execute(), s.iOS && e.focus();
                        }), this.modes) {
                            var E = {};
                            e.on("beforeModeUnload", function() {
                                e.mode && this._.state != CKEDITOR.TRISTATE_DISABLED && (E[e.mode] = this._.state);
                            }, this), e.on("activeFilterChange", l, this), e.on("mode", l, this), !this.readOnly && e.on("readOnly", l, this);
                        } else u && (u = e.getCommand(u)) && (u.on("state", function() {
                            this.setState(u.state);
                        }, this), d += u.state == CKEDITOR.TRISTATE_ON ? "on" : u.state == CKEDITOR.TRISTATE_DISABLED ? "disabled" : "off");
                        this.directional && e.on("contentDirChanged", function(t) {
                            var n = CKEDITOR.document.getById(this._.id), i = n.getFirst();
                            t = t.data, t != e.lang.dir ? n.addClass("cke_" + t) : n.removeClass("cke_ltr").removeClass("cke_rtl"), 
                            i.setAttribute("style", CKEDITOR.skin.getIconStyle(p, "rtl" == t, this.icon, this.iconOffset));
                        }, this), u ? (a = e.getCommandKeystroke(u)) && (r = CKEDITOR.tools.keystrokeToString(e.lang.common.keyboard, a)) : d += "off";
                        var p = a = this.name || this.command;
                        return this.icon && !/\./.test(this.icon) && (p = this.icon, this.icon = null), 
                        d = {
                            id: c,
                            name: a,
                            iconName: p,
                            label: this.label,
                            cls: this.className || "",
                            state: d,
                            ariaDisabled: "disabled" == d ? "true" : "false",
                            title: this.title + (r ? " (" + r.display + ")" : ""),
                            ariaShortcut: r ? e.lang.common.keyboardShortcut + " " + r.aria : "",
                            titleJs: s.gecko && !s.hc ? "" : (this.title || "").replace("'", ""),
                            hasArrow: this.hasArrow ? "true" : "false",
                            keydownFn: f,
                            focusFn: m,
                            clickFn: o,
                            style: CKEDITOR.skin.getIconStyle(p, "rtl" == e.lang.dir, this.icon, this.iconOffset),
                            arrowHtml: this.hasArrow ? t.output() : ""
                        }, n.output(d, i), this.onRender && this.onRender(), h;
                    },
                    setState: function(e) {
                        if (this._.state == e) return !1;
                        this._.state = e;
                        var t = CKEDITOR.document.getById(this._.id);
                        return !!t && (t.setState(e, "cke_button"), e == CKEDITOR.TRISTATE_DISABLED ? t.setAttribute("aria-disabled", !0) : t.removeAttribute("aria-disabled"), 
                        this.hasArrow ? (e = e == CKEDITOR.TRISTATE_ON ? this._.editor.lang.button.selectedLabel.replace(/%1/g, this.label) : this.label, 
                        CKEDITOR.document.getById(this._.id + "_label").setText(e)) : e == CKEDITOR.TRISTATE_ON ? t.setAttribute("aria-pressed", !0) : t.removeAttribute("aria-pressed"), 
                        !0);
                    },
                    getState: function() {
                        return this._.state;
                    },
                    toFeature: function(e) {
                        if (this._.feature) return this._.feature;
                        var t = this;
                        return this.allowedContent || this.requiredContent || !this.command || (t = e.getCommand(this.command) || t), 
                        this._.feature = t;
                    }
                }, CKEDITOR.ui.prototype.addButton = function(e, t) {
                    this.add(e, CKEDITOR.UI_BUTTON, t);
                };
            }(), function() {
                function a(e) {
                    function c() {
                        var t, n, i, o = {};
                        for (t in e.ui.items) n = e.ui.items[t], i = n.toolbar || "others", i = i.split(","), 
                        n = i[0], i = parseInt(i[1] || -1, 10), o[n] || (o[n] = []), o[n].push({
                            name: t,
                            order: i
                        });
                        for (n in o) o[n] = o[n].sort(function(e, t) {
                            return e.order == t.order ? 0 : 0 > t.order ? -1 : 0 > e.order ? 1 : e.order < t.order ? -1 : 1;
                        });
                        return o;
                    }
                    function d(n, i) {
                        if (i.length) {
                            n.items ? n.items.push(e.ui.create("-")) : n.items = [];
                            for (var o; o = i.shift(); ) o = "string" == typeof o ? o : o.name, t && -1 != CKEDITOR.tools.indexOf(t, o) || (o = e.ui.create(o)) && e.addFeature(o) && n.items.push(o);
                        }
                    }
                    var t = e.config.removeButtons, t = t && t.split(","), n = e.config.toolbar;
                    return "string" == typeof n && (n = e.config["toolbar_" + n]), e.toolbar = n ? function(e) {
                        var t, n, i, o = [];
                        for (t = 0; t < e.length; ++t) n = e[t], i = {}, "/" == n ? o.push(n) : CKEDITOR.tools.isArray(n) ? (d(i, CKEDITOR.tools.clone(n)), 
                        o.push(i)) : n.items && (d(i, CKEDITOR.tools.clone(n.items)), i.name = n.name, o.push(i));
                        return o;
                    }(n) : function() {
                        for (var t = c(), n = CKEDITOR.tools.clone(e.config.toolbarGroups) || f(e), i = 0; i < n.length; i++) {
                            var o = n[i];
                            if ("/" != o) {
                                "string" == typeof o && (o = n[i] = {
                                    name: o
                                });
                                var a, r = o.groups;
                                if (r) for (var s = 0; s < r.length; s++) a = r[s], (a = t[a]) && d(o, a);
                                (a = t[o.name]) && d(o, a);
                            }
                        }
                        return n;
                    }();
                }
                function f(e) {
                    return e._.toolbarGroups || (e._.toolbarGroups = [ {
                        name: "document",
                        groups: [ "mode", "document", "doctools" ]
                    }, {
                        name: "clipboard",
                        groups: [ "clipboard", "undo" ]
                    }, {
                        name: "editing",
                        groups: [ "find", "selection", "spellchecker" ]
                    }, {
                        name: "forms"
                    }, "/", {
                        name: "basicstyles",
                        groups: [ "basicstyles", "cleanup" ]
                    }, {
                        name: "paragraph",
                        groups: [ "list", "indent", "blocks", "align", "bidi" ]
                    }, {
                        name: "links"
                    }, {
                        name: "insert"
                    }, "/", {
                        name: "styles"
                    }, {
                        name: "colors"
                    }, {
                        name: "tools"
                    }, {
                        name: "others"
                    }, {
                        name: "about"
                    } ]);
                }
                var e = function() {
                    this.toolbars = [], this.focusCommandExecuted = !1;
                };
                e.prototype.focus = function() {
                    for (var e, t = 0; e = this.toolbars[t++]; ) for (var n, i = 0; n = e.items[i++]; ) if (n.focus) return void n.focus();
                };
                var t = {
                    modes: {
                        wysiwyg: 1,
                        source: 1
                    },
                    readOnly: 1,
                    exec: function(e) {
                        e.toolbox && (e.toolbox.focusCommandExecuted = !0, CKEDITOR.env.ie || CKEDITOR.env.air ? setTimeout(function() {
                            e.toolbox.focus();
                        }, 100) : e.toolbox.focus());
                    }
                };
                CKEDITOR.plugins.add("toolbar", {
                    requires: "button",
                    init: function(n) {
                        var i, o = function(e, t) {
                            var a, r = "rtl" == n.lang.dir, s = n.config.toolbarGroupCycling, l = r ? 37 : 39, r = r ? 39 : 37, s = void 0 === s || s;
                            switch (t) {
                              case 9:
                              case CKEDITOR.SHIFT + 9:
                                for (;!a || !a.items.length; ) if (a = 9 == t ? (a ? a.next : e.toolbar.next) || n.toolbox.toolbars[0] : (a ? a.previous : e.toolbar.previous) || n.toolbox.toolbars[n.toolbox.toolbars.length - 1], 
                                a.items.length) for (e = a.items[i ? a.items.length - 1 : 0]; e && !e.focus; ) (e = i ? e.previous : e.next) || (a = 0);
                                return e && e.focus(), !1;

                              case l:
                                a = e;
                                do {
                                    !(a = a.next) && s && (a = e.toolbar.items[0]);
                                } while (a && !a.focus);
                                return a ? a.focus() : o(e, 9), !1;

                              case 40:
                                return e.button && e.button.hasArrow ? e.execute() : o(e, 40 == t ? l : r), !1;

                              case r:
                              case 38:
                                a = e;
                                do {
                                    !(a = a.previous) && s && (a = e.toolbar.items[e.toolbar.items.length - 1]);
                                } while (a && !a.focus);
                                return a ? a.focus() : (i = 1, o(e, CKEDITOR.SHIFT + 9), i = 0), !1;

                              case 27:
                                return n.focus(), !1;

                              case 13:
                              case 32:
                                return e.execute(), !1;
                            }
                            return !0;
                        };
                        n.on("uiSpace", function(t) {
                            if (t.data.space == n.config.toolbarLocation) {
                                t.removeListener(), n.toolbox = new e();
                                var i, r, s = CKEDITOR.tools.getNextId(), l = [ '<span id="', s, '" class="cke_voice_label">', n.lang.toolbar.toolbars, "</span>", '<span id="' + n.ui.spaceId("toolbox") + '" class="cke_toolbox" role="group" aria-labelledby="', s, '" onmousedown="return false;">' ], s = !1 !== n.config.toolbarStartupExpanded;
                                n.config.toolbarCanCollapse && n.elementMode != CKEDITOR.ELEMENT_MODE_INLINE && l.push('<span class="cke_toolbox_main"' + (s ? ">" : ' style="display:none">'));
                                for (var c = n.toolbox.toolbars, d = a(n), u = d.length, h = 0; h < u; h++) {
                                    var f, m, g, E = 0, p = d[h], T = "/" !== p && ("/" === d[h + 1] || h == u - 1);
                                    if (p) if (i && (l.push("</span>"), r = i = 0), "/" === p) l.push('<span class="cke_toolbar_break"></span>'); else {
                                        g = p.items || p;
                                        for (var C = 0; C < g.length; C++) {
                                            var I, O = g[C];
                                            if (O) {
                                                var D = function(e) {
                                                    e = e.render(n, l), R = E.items.push(e) - 1, 0 < R && (e.previous = E.items[R - 1], 
                                                    e.previous.next = e), e.toolbar = E, e.onkey = o, e.onfocus = function() {
                                                        n.toolbox.focusCommandExecuted || n.focus();
                                                    };
                                                };
                                                if (O.type == CKEDITOR.UI_SEPARATOR) r = i && O; else {
                                                    if (I = !1 !== O.canGroup, !E) {
                                                        f = CKEDITOR.tools.getNextId(), E = {
                                                            id: f,
                                                            items: []
                                                        }, m = p.name && (n.lang.toolbar.toolbarGroups[p.name] || p.name), l.push('<span id="', f, '" class="cke_toolbar' + (T ? ' cke_toolbar_last"' : '"'), m ? ' aria-labelledby="' + f + '_label"' : "", ' role="toolbar">'), 
                                                        m && l.push('<span id="', f, '_label" class="cke_voice_label">', m, "</span>"), 
                                                        l.push('<span class="cke_toolbar_start"></span>');
                                                        var R = c.push(E) - 1;
                                                        0 < R && (E.previous = c[R - 1], E.previous.next = E);
                                                    }
                                                    I ? i || (l.push('<span class="cke_toolgroup" role="presentation">'), i = 1) : i && (l.push("</span>"), 
                                                    i = 0), r && (D(r), r = 0), D(O);
                                                }
                                            }
                                        }
                                        i && (l.push("</span>"), r = i = 0), E && l.push('<span class="cke_toolbar_end"></span></span>');
                                    }
                                }
                                if (n.config.toolbarCanCollapse && l.push("</span>"), n.config.toolbarCanCollapse && n.elementMode != CKEDITOR.ELEMENT_MODE_INLINE) {
                                    var v = CKEDITOR.tools.addFunction(function() {
                                        n.execCommand("toolbarCollapse");
                                    });
                                    n.on("destroy", function() {
                                        CKEDITOR.tools.removeFunction(v);
                                    }), n.addCommand("toolbarCollapse", {
                                        readOnly: 1,
                                        exec: function(e) {
                                            var t = e.ui.space("toolbar_collapser"), n = t.getPrevious(), i = e.ui.space("contents"), o = n.getParent(), a = parseInt(i.$.style.height, 10), r = o.$.offsetHeight, s = t.hasClass("cke_toolbox_collapser_min");
                                            s ? (n.show(), t.removeClass("cke_toolbox_collapser_min"), t.setAttribute("title", e.lang.toolbar.toolbarCollapse)) : (n.hide(), 
                                            t.addClass("cke_toolbox_collapser_min"), t.setAttribute("title", e.lang.toolbar.toolbarExpand)), 
                                            t.getFirst().setText(s ? "▲" : "◀"), i.setStyle("height", a - (o.$.offsetHeight - r) + "px"), 
                                            e.fire("resize", {
                                                outerHeight: e.container.$.offsetHeight,
                                                contentsHeight: i.$.offsetHeight,
                                                outerWidth: e.container.$.offsetWidth
                                            });
                                        },
                                        modes: {
                                            wysiwyg: 1,
                                            source: 1
                                        }
                                    }), n.setKeystroke(CKEDITOR.ALT + (CKEDITOR.env.ie || CKEDITOR.env.webkit ? 189 : 109), "toolbarCollapse"), 
                                    l.push('<a title="' + (s ? n.lang.toolbar.toolbarCollapse : n.lang.toolbar.toolbarExpand) + '" id="' + n.ui.spaceId("toolbar_collapser") + '" tabIndex="-1" class="cke_toolbox_collapser'), 
                                    s || l.push(" cke_toolbox_collapser_min"), l.push('" onclick="CKEDITOR.tools.callFunction(' + v + ')">', '<span class="cke_arrow">&#9650;</span>', "</a>");
                                }
                                l.push("</span>"), t.data.html += l.join("");
                            }
                        }), n.on("destroy", function() {
                            if (this.toolbox) {
                                var e, t, n, i, o = 0;
                                for (e = this.toolbox.toolbars; o < e.length; o++) for (n = e[o].items, t = 0; t < n.length; t++) i = n[t], 
                                i.clickFn && CKEDITOR.tools.removeFunction(i.clickFn), i.keyDownFn && CKEDITOR.tools.removeFunction(i.keyDownFn);
                            }
                        }), n.on("uiReady", function() {
                            var e = n.ui.space("toolbox");
                            e && n.focusManager.add(e, 1);
                        }), n.addCommand("toolbarFocus", t), n.setKeystroke(CKEDITOR.ALT + 121, "toolbarFocus"), 
                        n.ui.add("-", CKEDITOR.UI_SEPARATOR, {}), n.ui.addHandler(CKEDITOR.UI_SEPARATOR, {
                            create: function() {
                                return {
                                    render: function(e, t) {
                                        return t.push('<span class="cke_toolbar_separator" role="separator"></span>'), {};
                                    }
                                };
                            }
                        });
                    }
                }), CKEDITOR.ui.prototype.addToolbarGroup = function(e, t, n) {
                    var i = f(this.editor), o = 0 === t, a = {
                        name: e
                    };
                    if (n) {
                        if (n = CKEDITOR.tools.search(i, function(e) {
                            return e.name == n;
                        })) return !n.groups && (n.groups = []), t && 0 <= (t = CKEDITOR.tools.indexOf(n.groups, t)) ? void n.groups.splice(t + 1, 0, e) : void (o ? n.groups.splice(0, 0, e) : n.groups.push(e));
                        t = null;
                    }
                    t && (t = CKEDITOR.tools.indexOf(i, function(e) {
                        return e.name == t;
                    })), o ? i.splice(0, 0, e) : "number" == typeof t ? i.splice(t + 1, 0, a) : i.push(e);
                };
            }(), CKEDITOR.UI_SEPARATOR = "separator", CKEDITOR.config.toolbarLocation = "top", 
            function() {
                function a(e, t, n) {
                    return t.type || (t.type = "auto"), !(n && !1 === e.fire("beforePaste", t) || !t.dataValue && t.dataTransfer.isEmpty()) && (t.dataValue || (t.dataValue = ""), 
                    CKEDITOR.env.gecko && "drop" == t.method && e.toolbox && e.once("afterPaste", function() {
                        e.toolbox.focus();
                    }), e.fire("paste", t));
                }
                function f(n) {
                    function c() {
                        var e = n.editable();
                        if (CKEDITOR.plugins.clipboard.isCustomCopyCutSupported) {
                            var t = function(e) {
                                n.readOnly && "cut" == e.name || i.initPasteDataTransfer(e, n), e.data.preventDefault();
                            };
                            e.on("copy", t), e.on("cut", t), e.on("cut", function() {
                                n.readOnly || n.extractSelectedHtml();
                            }, null, null, 999);
                        }
                        e.on(i.mainPasteEvent, function(e) {
                            "beforepaste" == i.mainPasteEvent && o || A(e);
                        }), "beforepaste" == i.mainPasteEvent && (e.on("paste", function(e) {
                            r || (f(), e.data.preventDefault(), A(e), k("paste"));
                        }), e.on("contextmenu", h, null, null, 0), e.on("beforepaste", function(e) {
                            !e.data || e.data.$.ctrlKey || e.data.$.shiftKey || h();
                        }, null, null, 0)), e.on("beforecut", function() {
                            !o && l();
                        });
                        var a;
                        e.attachListener(CKEDITOR.env.ie ? e : n.document.getDocumentElement(), "mouseup", function() {
                            a = setTimeout(function() {
                                D();
                            }, 0);
                        }), n.on("destroy", function() {
                            clearTimeout(a);
                        }), e.on("keyup", D);
                    }
                    function d(e) {
                        return {
                            type: e,
                            canUndo: "cut" == e,
                            startDisabled: !0,
                            fakeKeystroke: "cut" == e ? CKEDITOR.CTRL + 88 : CKEDITOR.CTRL + 67,
                            exec: function() {
                                "cut" == this.type && l();
                                var e, t = this.type;
                                if (CKEDITOR.env.ie) e = k(t); else try {
                                    e = n.document.$.execCommand(t, !1, null);
                                } catch (t) {
                                    e = !1;
                                }
                                return e || n.showNotification(n.lang.clipboard[this.type + "Error"]), e;
                            }
                        };
                    }
                    function e() {
                        return {
                            canUndo: !1,
                            async: !0,
                            fakeKeystroke: CKEDITOR.CTRL + 86,
                            exec: function(e, t) {
                                function d(t, r) {
                                    r = void 0 === r || r, t ? (t.method = "paste", t.dataTransfer || (t.dataTransfer = i.initPasteDataTransfer()), 
                                    a(e, t, r)) : o && e.showNotification(l, "info", e.config.clipboard_notificationDuration), 
                                    e.fire("afterCommandExec", {
                                        name: "paste",
                                        command: n,
                                        returnValue: !!t
                                    });
                                }
                                t = void 0 !== t && null !== t ? t : {};
                                var n = this, o = void 0 === t.notification || t.notification, r = t.type, s = CKEDITOR.tools.keystrokeToString(e.lang.common.keyboard, e.getCommandKeystroke(this)), l = "string" == typeof o ? o : e.lang.clipboard.pasteNotification.replace(/%1/, '<kbd aria-label="' + s.aria + '">' + s.display + "</kbd>"), s = "string" == typeof t ? t : t.dataValue;
                                r ? e._.nextPasteType = r : delete e._.nextPasteType, "string" == typeof s ? d({
                                    dataValue: s
                                }) : e.getClipboardData(d);
                            }
                        };
                    }
                    function f() {
                        r = 1, setTimeout(function() {
                            r = 0;
                        }, 100);
                    }
                    function h() {
                        o = 1, setTimeout(function() {
                            o = 0;
                        }, 10);
                    }
                    function k(e) {
                        var t = n.document, i = t.getBody(), o = !1, a = function() {
                            o = !0;
                        };
                        return i.on(e, a), 7 < CKEDITOR.env.version ? t.$.execCommand(e) : t.$.selection.createRange().execCommand(e), 
                        i.removeListener(e, a), o;
                    }
                    function l() {
                        if (CKEDITOR.env.ie && !CKEDITOR.env.quirks) {
                            var e, t, i, o = n.getSelection();
                            o.getType() == CKEDITOR.SELECTION_ELEMENT && (e = o.getSelectedElement()) && (t = o.getRanges()[0], 
                            i = n.document.createText(""), i.insertBefore(e), t.setStartBefore(i), t.setEndAfter(e), 
                            o.selectRanges([ t ]), setTimeout(function() {
                                e.getParent() && (i.remove(), o.selectElement(e));
                            }, 0));
                        }
                    }
                    function m(e, t) {
                        var i, o = n.document, a = n.editable(), r = function(e) {
                            e.cancel();
                        };
                        if (!o.getById("cke_pastebin")) {
                            var s = n.getSelection(), l = s.createBookmarks();
                            CKEDITOR.env.ie && s.root.fire("selectionchange");
                            var c = new CKEDITOR.dom.element(!CKEDITOR.env.webkit && !a.is("body") || CKEDITOR.env.ie ? "div" : "body", o);
                            c.setAttributes({
                                id: "cke_pastebin",
                                "data-cke-temp": "1"
                            });
                            var d = 0, o = o.getWindow();
                            CKEDITOR.env.webkit ? (a.append(c), c.addClass("cke_editable"), a.is("body") || (d = "static" != a.getComputedStyle("position") ? a : CKEDITOR.dom.element.get(a.$.offsetParent), 
                            d = d.getDocumentPosition().y)) : a.getAscendant(CKEDITOR.env.ie ? "body" : "html", 1).append(c), 
                            c.setStyles({
                                position: "absolute",
                                top: o.getScrollPosition().y - d + 10 + "px",
                                width: "1px",
                                height: Math.max(1, o.getViewPaneSize().height - 20) + "px",
                                overflow: "hidden",
                                margin: 0,
                                padding: 0
                            }), CKEDITOR.env.safari && c.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select", "text")), 
                            (d = c.getParent().isReadOnly()) ? (c.setOpacity(0), c.setAttribute("contenteditable", !0)) : c.setStyle("ltr" == n.config.contentsLangDirection ? "left" : "right", "-10000px"), 
                            n.on("selectionChange", r, null, null, 0), (CKEDITOR.env.webkit || CKEDITOR.env.gecko) && (i = a.once("blur", r, null, null, -100)), 
                            d && c.focus(), d = new CKEDITOR.dom.range(c), d.selectNodeContents(c);
                            var u = d.select();
                            CKEDITOR.env.ie && (i = a.once("blur", function() {
                                n.lockSelection(u);
                            }));
                            var h = CKEDITOR.document.getWindow().getScrollPosition().y;
                            setTimeout(function() {
                                CKEDITOR.env.webkit && (CKEDITOR.document.getBody().$.scrollTop = h), i && i.removeListener(), 
                                CKEDITOR.env.ie && a.focus(), s.selectBookmarks(l), c.remove();
                                var e;
                                CKEDITOR.env.webkit && (e = c.getFirst()) && e.is && e.hasClass("Apple-style-span") && (c = e), 
                                n.removeListener("selectionChange", r), t(c.getHtml());
                            }, 0);
                        }
                    }
                    function z() {
                        if ("paste" == i.mainPasteEvent) return n.fire("beforePaste", {
                            type: "auto",
                            method: "paste"
                        }), !1;
                        n.focus(), f();
                        var e = n.focusManager;
                        return e.lock(), n.editable().fire(i.mainPasteEvent) && !k("paste") ? (e.unlock(), 
                        !1) : (e.unlock(), !0);
                    }
                    function t(e) {
                        if ("wysiwyg" == n.mode) switch (e.data.keyCode) {
                          case CKEDITOR.CTRL + 86:
                          case CKEDITOR.SHIFT + 45:
                            e = n.editable(), f(), "paste" == i.mainPasteEvent && e.fire("beforepaste");
                            break;

                          case CKEDITOR.CTRL + 88:
                          case CKEDITOR.SHIFT + 46:
                            n.fire("saveSnapshot"), setTimeout(function() {
                                n.fire("saveSnapshot");
                            }, 50);
                        }
                    }
                    function A(e) {
                        var t = {
                            type: "auto",
                            method: "paste",
                            dataTransfer: i.initPasteDataTransfer(e)
                        };
                        t.dataTransfer.cacheData();
                        var o = !1 !== n.fire("beforePaste", t);
                        o && i.canClipboardApiBeTrusted(t.dataTransfer, n) ? (e.data.preventDefault(), setTimeout(function() {
                            a(n, t);
                        }, 0)) : m(e, function(e) {
                            t.dataValue = e.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi, ""), o && a(n, t);
                        });
                    }
                    function D() {
                        if ("wysiwyg" == n.mode) {
                            var e = x("paste");
                            n.getCommand("cut").setState(x("cut")), n.getCommand("copy").setState(x("copy")), 
                            n.getCommand("paste").setState(e), n.fire("pasteState", e);
                        }
                    }
                    function x(e) {
                        if (s && e in {
                            paste: 1,
                            cut: 1
                        }) return CKEDITOR.TRISTATE_DISABLED;
                        if ("paste" == e) return CKEDITOR.TRISTATE_OFF;
                        e = n.getSelection();
                        var t = e.getRanges();
                        return e.getType() == CKEDITOR.SELECTION_NONE || 1 == t.length && t[0].collapsed ? CKEDITOR.TRISTATE_DISABLED : CKEDITOR.TRISTATE_OFF;
                    }
                    var i = CKEDITOR.plugins.clipboard, o = 0, r = 0, s = 0;
                    !function() {
                        n.on("key", t), n.on("contentDom", c), n.on("selectionChange", function(e) {
                            s = e.data.selection.getRanges()[0].checkReadOnly(), D();
                        }), n.contextMenu && n.contextMenu.addListener(function(e, t) {
                            return s = t.getRanges()[0].checkReadOnly(), {
                                cut: x("cut"),
                                copy: x("copy"),
                                paste: x("paste")
                            };
                        });
                    }(), function() {
                        function a(e, t, i, o, a) {
                            var r = n.lang.clipboard[t];
                            n.addCommand(t, i), n.ui.addButton && n.ui.addButton(e, {
                                label: r,
                                command: t,
                                toolbar: "clipboard," + o
                            }), n.addMenuItems && n.addMenuItem(t, {
                                label: r,
                                command: t,
                                group: "clipboard",
                                order: a
                            });
                        }
                        a("Cut", "cut", d("cut"), 10, 1), a("Copy", "copy", d("copy"), 20, 4), a("Paste", "paste", e(), 30, 8);
                    }(), n.getClipboardData = function(e, t) {
                        function d(e) {
                            e.removeListener(), e.cancel(), t(e.data);
                        }
                        t || (t = e, e = null), n.on("paste", d, null, null, 0), !1 === z() && (n.removeListener("paste", d), 
                        t(null));
                    };
                }
                function b(e) {
                    if (CKEDITOR.env.webkit) {
                        if (!e.match(/^[^<]*$/g) && !e.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi)) return "html";
                    } else if (CKEDITOR.env.ie) {
                        if (!e.match(/^([^<]|<br( ?\/)?>)*$/gi) && !e.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi)) return "html";
                    } else {
                        if (!CKEDITOR.env.gecko) return "html";
                        if (!e.match(/^([^<]|<br( ?\/)?>)*$/gi)) return "html";
                    }
                    return "htmlifiedtext";
                }
                function c(e, t) {
                    function c(e) {
                        return CKEDITOR.tools.repeat("</p><p>", ~~(e / 2)) + (1 == e % 2 ? "<br>" : "");
                    }
                    return t = t.replace(/\s+/g, " ").replace(/> +</g, "><").replace(/<br ?\/>/gi, "<br>"), 
                    t = t.replace(/<\/?[A-Z]+>/g, function(e) {
                        return e.toLowerCase();
                    }), t.match(/^[^<]$/) ? t : (CKEDITOR.env.webkit && -1 < t.indexOf("<div>") && (t = t.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g, "<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g, "<div></div>"), 
                    t.match(/<div>(<br>|)<\/div>/) && (t = "<p>" + t.replace(/(<div>(<br>|)<\/div>)+/g, function(e) {
                        return c(e.split("</div><div>").length + 1);
                    }) + "</p>"), t = t.replace(/<\/div><div>/g, "<br>"), t = t.replace(/<\/?div>/g, "")), 
                    CKEDITOR.env.gecko && e.enterMode != CKEDITOR.ENTER_BR && (CKEDITOR.env.gecko && (t = t.replace(/^<br><br>$/, "<br>")), 
                    -1 < t.indexOf("<br><br>") && (t = "<p>" + t.replace(/(<br>){2,}/g, function(e) {
                        return c(e.length / 4);
                    }) + "</p>")), k(e, t));
                }
                function e() {
                    function a() {
                        var e, t = {};
                        for (e in CKEDITOR.dtd) "$" != e.charAt(0) && "div" != e && "span" != e && (t[e] = 1);
                        return t;
                    }
                    var e = {};
                    return {
                        get: function(t) {
                            return "plain-text" == t ? e.plainText || (e.plainText = new CKEDITOR.filter("br")) : "semantic-content" == t ? ((t = e.semanticContent) || (t = new CKEDITOR.filter(), 
                            t.allow({
                                $1: {
                                    elements: a(),
                                    attributes: !0,
                                    styles: !1,
                                    classes: !1
                                }
                            }), t = e.semanticContent = t), t) : t ? new CKEDITOR.filter(t) : null;
                        }
                    };
                }
                function l(e, t, n) {
                    t = CKEDITOR.htmlParser.fragment.fromHtml(t);
                    var i = new CKEDITOR.htmlParser.basicWriter();
                    return n.applyTo(t, !0, !1, e.activeEnterMode), t.writeHtml(i), i.getHtml();
                }
                function k(e, t) {
                    return e.enterMode == CKEDITOR.ENTER_BR ? t = t.replace(/(<\/p><p>)+/g, function(e) {
                        return CKEDITOR.tools.repeat("<br>", e.length / 7 * 2);
                    }).replace(/<\/?p>/g, "") : e.enterMode == CKEDITOR.ENTER_DIV && (t = t.replace(/<(\/)?p>/g, "<$1div>")), 
                    t;
                }
                function d(e) {
                    e.data.preventDefault(), e.data.$.dataTransfer.dropEffect = "none";
                }
                function h(t) {
                    var n = CKEDITOR.plugins.clipboard;
                    t.on("contentDom", function() {
                        function d(e, n, i) {
                            n.select(), a(t, {
                                dataTransfer: i,
                                method: "drop"
                            }, 1), i.sourceEditor.fire("saveSnapshot"), i.sourceEditor.editable().extractHtmlFromRange(e), 
                            i.sourceEditor.getSelection().selectRanges([ e ]), i.sourceEditor.fire("saveSnapshot");
                        }
                        function e(e, i) {
                            e.select(), a(t, {
                                dataTransfer: i,
                                method: "drop"
                            }, 1), n.resetDragDataTransfer();
                        }
                        function f(e, n, i) {
                            var o = {
                                $: e.data.$,
                                target: e.data.getTarget()
                            };
                            n && (o.dragRange = n), i && (o.dropRange = i), !1 === t.fire(e.name, o) && e.data.preventDefault();
                        }
                        function h(e) {
                            return e.type != CKEDITOR.NODE_ELEMENT && (e = e.getParent()), e.getChildCount();
                        }
                        var i = t.editable(), o = CKEDITOR.plugins.clipboard.getDropTarget(t), r = t.ui.space("top"), s = t.ui.space("bottom");
                        n.preventDefaultDropOnElement(r), n.preventDefaultDropOnElement(s), i.attachListener(o, "dragstart", f), 
                        i.attachListener(t, "dragstart", n.resetDragDataTransfer, n, null, 1), i.attachListener(t, "dragstart", function(e) {
                            n.initDragDataTransfer(e, t);
                        }, null, null, 2), i.attachListener(t, "dragstart", function() {
                            var e = n.dragRange = t.getSelection().getRanges()[0];
                            CKEDITOR.env.ie && 10 > CKEDITOR.env.version && (n.dragStartContainerChildCount = e ? h(e.startContainer) : null, 
                            n.dragEndContainerChildCount = e ? h(e.endContainer) : null);
                        }, null, null, 100), i.attachListener(o, "dragend", f), i.attachListener(t, "dragend", n.initDragDataTransfer, n, null, 1), 
                        i.attachListener(t, "dragend", n.resetDragDataTransfer, n, null, 100), i.attachListener(o, "dragover", function(e) {
                            if (CKEDITOR.env.edge) e.data.preventDefault(); else {
                                var t = e.data.getTarget();
                                t && t.is && t.is("html") ? e.data.preventDefault() : CKEDITOR.env.ie && CKEDITOR.plugins.clipboard.isFileApiSupported && e.data.$.dataTransfer.types.contains("Files") && e.data.preventDefault();
                            }
                        }), i.attachListener(o, "drop", function(e) {
                            if (!e.data.$.defaultPrevented) {
                                e.data.preventDefault();
                                var i = e.data.getTarget();
                                if (!i.isReadOnly() || i.type == CKEDITOR.NODE_ELEMENT && i.is("html")) {
                                    var i = n.getRangeAtDropPosition(e, t), o = n.dragRange;
                                    i && f(e, o, i);
                                }
                            }
                        }, null, null, 9999), i.attachListener(t, "drop", n.initDragDataTransfer, n, null, 1), 
                        i.attachListener(t, "drop", function(i) {
                            if (i = i.data) {
                                var o = i.dropRange, a = i.dragRange, r = i.dataTransfer;
                                r.getTransferType(t) == CKEDITOR.DATA_TRANSFER_INTERNAL ? setTimeout(function() {
                                    n.internalDrop(a, o, r, t);
                                }, 0) : r.getTransferType(t) == CKEDITOR.DATA_TRANSFER_CROSS_EDITORS ? d(a, o, r) : e(o, r);
                            }
                        }, null, null, 9999);
                    });
                }
                CKEDITOR.plugins.add("clipboard", {
                    requires: "notification,toolbar",
                    init: function(t) {
                        var n, i = e();
                        if (t.config.forcePasteAsPlainText ? n = "plain-text" : t.config.pasteFilter ? n = t.config.pasteFilter : !CKEDITOR.env.webkit || "pasteFilter" in t.config || (n = "semantic-content"), 
                        t.pasteFilter = i.get(n), f(t), h(t), CKEDITOR.env.gecko) {
                            var o, a = [ "image/png", "image/jpeg", "image/gif" ];
                            t.on("paste", function(e) {
                                var n = e.data, i = n.dataTransfer;
                                if (!n.dataValue && "paste" == n.method && i && 1 == i.getFilesCount() && o != i.id && (i = i.getFile(0), 
                                -1 != CKEDITOR.tools.indexOf(a, i.type))) {
                                    var r = new FileReader();
                                    r.addEventListener("load", function() {
                                        e.data.dataValue = '<img src="' + r.result + '" />', t.fire("paste", e.data);
                                    }, !1), r.addEventListener("abort", function() {
                                        t.fire("paste", e.data);
                                    }, !1), r.addEventListener("error", function() {
                                        t.fire("paste", e.data);
                                    }, !1), r.readAsDataURL(i), o = n.dataTransfer.id, e.stop();
                                }
                            }, null, null, 1);
                        }
                        t.on("paste", function(e) {
                            if (e.data.dataTransfer || (e.data.dataTransfer = new CKEDITOR.plugins.clipboard.dataTransfer()), 
                            !e.data.dataValue) {
                                var n = e.data.dataTransfer, i = n.getData("text/html");
                                i ? (e.data.dataValue = i, e.data.type = "html") : (i = n.getData("text/plain")) && (e.data.dataValue = t.editable().transformPlainTextToHtml(i), 
                                e.data.type = "text");
                            }
                        }, null, null, 1), t.on("paste", function(e) {
                            var t = e.data.dataValue, n = CKEDITOR.dtd.$block;
                            if (-1 < t.indexOf("Apple-") && (t = t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi, " "), 
                            "html" != e.data.type && (t = t.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi, function(e, t) {
                                return t.replace(/\t/g, "&nbsp;&nbsp; &nbsp;");
                            })), -1 < t.indexOf('<br class="Apple-interchange-newline">') && (e.data.startsWithEOL = 1, 
                            e.data.preSniffing = "html", t = t.replace(/<br class="Apple-interchange-newline">/, "")), 
                            t = t.replace(/(<[^>]+) class="Apple-[^"]*"/gi, "$1")), t.match(/^<[^<]+cke_(editable|contents)/i)) {
                                var i, o, a = new CKEDITOR.dom.element("div");
                                for (a.setHtml(t); 1 == a.getChildCount() && (i = a.getFirst()) && i.type == CKEDITOR.NODE_ELEMENT && (i.hasClass("cke_editable") || i.hasClass("cke_contents")); ) a = o = i;
                                o && (t = o.getHtml().replace(/<br>$/i, ""));
                            }
                            CKEDITOR.env.ie ? t = t.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g, function(t, i) {
                                return i.toLowerCase() in n ? (e.data.preSniffing = "html", "<" + i) : t;
                            }) : CKEDITOR.env.webkit ? t = t.replace(/<\/(\w+)><div><br><\/div>$/, function(t, i) {
                                return i in n ? (e.data.endsWithEOL = 1, "</" + i + ">") : t;
                            }) : CKEDITOR.env.gecko && (t = t.replace(/(\s)<br>$/, "$1")), e.data.dataValue = t;
                        }, null, null, 3), t.on("paste", function(e) {
                            e = e.data;
                            var n, o = t._.nextPasteType || e.type, a = e.dataValue, r = t.config.clipboard_defaultContentType || "html", s = e.dataTransfer.getTransferType(t);
                            n = "html" == o || "html" == e.preSniffing ? "html" : b(a), delete t._.nextPasteType, 
                            "htmlifiedtext" == n && (a = c(t.config, a)), "text" == o && "html" == n ? a = l(t, a, i.get("plain-text")) : s == CKEDITOR.DATA_TRANSFER_EXTERNAL && t.pasteFilter && !e.dontFilter && (a = l(t, a, t.pasteFilter)), 
                            e.startsWithEOL && (a = '<br data-cke-eol="1">' + a), e.endsWithEOL && (a += '<br data-cke-eol="1">'), 
                            "auto" == o && (o = "html" == n || "html" == r ? "html" : "text"), e.type = o, e.dataValue = a, 
                            delete e.preSniffing, delete e.startsWithEOL, delete e.endsWithEOL;
                        }, null, null, 6), t.on("paste", function(e) {
                            e = e.data, e.dataValue && (t.insertHtml(e.dataValue, e.type, e.range), setTimeout(function() {
                                t.fire("afterPaste");
                            }, 0));
                        }, null, null, 1e3);
                    }
                }), CKEDITOR.plugins.clipboard = {
                    isCustomCopyCutSupported: !CKEDITOR.env.ie && !CKEDITOR.env.iOS,
                    isCustomDataTypesSupported: !CKEDITOR.env.ie,
                    isFileApiSupported: !CKEDITOR.env.ie || 9 < CKEDITOR.env.version,
                    mainPasteEvent: CKEDITOR.env.ie && !CKEDITOR.env.edge ? "beforepaste" : "paste",
                    canClipboardApiBeTrusted: function(e, t) {
                        return !!(e.getTransferType(t) != CKEDITOR.DATA_TRANSFER_EXTERNAL || CKEDITOR.env.chrome && !e.isEmpty() || CKEDITOR.env.gecko && (e.getData("text/html") || e.getFilesCount()) || CKEDITOR.env.safari && 603 <= CKEDITOR.env.version && !CKEDITOR.env.iOS);
                    },
                    getDropTarget: function(e) {
                        var t = e.editable();
                        return CKEDITOR.env.ie && 9 > CKEDITOR.env.version || t.isInline() ? t : e.document;
                    },
                    fixSplitNodesAfterDrop: function(t, n, i, o) {
                        function e(e, t, i) {
                            var o = e;
                            if (o.type == CKEDITOR.NODE_TEXT && (o = e.getParent()), o.equals(t) && i != t.getChildCount()) return e = n.startContainer.getChild(n.startOffset - 1), 
                            t = n.startContainer.getChild(n.startOffset), e && e.type == CKEDITOR.NODE_TEXT && t && t.type == CKEDITOR.NODE_TEXT && (i = e.getLength(), 
                            e.setText(e.getText() + t.getText()), t.remove(), n.setStart(e, i), n.collapse(!0)), 
                            !0;
                        }
                        var a = n.startContainer;
                        "number" == typeof o && "number" == typeof i && a.type == CKEDITOR.NODE_ELEMENT && (e(t.startContainer, a, i) || e(t.endContainer, a, o));
                    },
                    isDropRangeAffectedByDragRange: function(e, t) {
                        var n = t.startContainer, i = t.endOffset;
                        return !!(e.endContainer.equals(n) && e.endOffset <= i || e.startContainer.getParent().equals(n) && e.startContainer.getIndex() < i || e.endContainer.getParent().equals(n) && e.endContainer.getIndex() < i);
                    },
                    internalDrop: function(e, t, n, i) {
                        var o, r, s = CKEDITOR.plugins.clipboard, l = i.editable();
                        i.fire("saveSnapshot"), i.fire("lockSnapshot", {
                            dontUpdate: 1
                        }), CKEDITOR.env.ie && 10 > CKEDITOR.env.version && this.fixSplitNodesAfterDrop(e, t, s.dragStartContainerChildCount, s.dragEndContainerChildCount), 
                        (r = this.isDropRangeAffectedByDragRange(e, t)) || (o = e.createBookmark(!1)), s = t.clone().createBookmark(!1), 
                        r && (o = e.createBookmark(!1)), e = o.startNode, t = o.endNode, r = s.startNode, 
                        t && e.getPosition(r) & CKEDITOR.POSITION_PRECEDING && t.getPosition(r) & CKEDITOR.POSITION_FOLLOWING && r.insertBefore(e), 
                        e = i.createRange(), e.moveToBookmark(o), l.extractHtmlFromRange(e, 1), t = i.createRange(), 
                        t.moveToBookmark(s), a(i, {
                            dataTransfer: n,
                            method: "drop",
                            range: t
                        }, 1), i.fire("unlockSnapshot");
                    },
                    getRangeAtDropPosition: function(e, t) {
                        var n = e.data.$, i = n.clientX, o = n.clientY, a = t.getSelection(!0).getRanges()[0], r = t.createRange();
                        if (e.data.testRange) return e.data.testRange;
                        if (document.caretRangeFromPoint && t.document.$.caretRangeFromPoint(i, o)) n = t.document.$.caretRangeFromPoint(i, o), 
                        r.setStart(CKEDITOR.dom.node(n.startContainer), n.startOffset), r.collapse(!0); else if (n.rangeParent) r.setStart(CKEDITOR.dom.node(n.rangeParent), n.rangeOffset), 
                        r.collapse(!0); else {
                            if (CKEDITOR.env.ie && 8 < CKEDITOR.env.version && a && t.editable().hasFocus) return a;
                            if (!document.body.createTextRange) return null;
                            t.focus(), n = t.document.getBody().$.createTextRange();
                            try {
                                for (var s = !1, l = 0; 20 > l && !s; l++) {
                                    if (!s) try {
                                        n.moveToPoint(i, o - l), s = !0;
                                    } catch (e) {}
                                    if (!s) try {
                                        n.moveToPoint(i, o + l), s = !0;
                                    } catch (e) {}
                                }
                                if (s) {
                                    var c = "cke-temp-" + new Date().getTime();
                                    n.pasteHTML('<span id="' + c + '">​</span>');
                                    var d = t.document.getById(c);
                                    r.moveToPosition(d, CKEDITOR.POSITION_BEFORE_START), d.remove();
                                } else {
                                    var u, h = t.document.$.elementFromPoint(i, o), f = new CKEDITOR.dom.element(h);
                                    if (f.equals(t.editable()) || "html" == f.getName()) return a && a.startContainer && !a.startContainer.equals(t.editable()) ? a : null;
                                    u = f.getClientRect(), i < u.left ? r.setStartAt(f, CKEDITOR.POSITION_AFTER_START) : r.setStartAt(f, CKEDITOR.POSITION_BEFORE_END), 
                                    r.collapse(!0);
                                }
                            } catch (e) {
                                return null;
                            }
                        }
                        return r;
                    },
                    initDragDataTransfer: function(e, t) {
                        var n = e.data.$ ? e.data.$.dataTransfer : null, i = new this.dataTransfer(n, t);
                        n ? this.dragData && i.id == this.dragData.id ? i = this.dragData : this.dragData = i : this.dragData ? i = this.dragData : this.dragData = i, 
                        e.data.dataTransfer = i;
                    },
                    resetDragDataTransfer: function() {
                        this.dragData = null;
                    },
                    initPasteDataTransfer: function(e, t) {
                        if (this.isCustomCopyCutSupported) {
                            if (e && e.data && e.data.$) {
                                var n = new this.dataTransfer(e.data.$.clipboardData, t);
                                return this.copyCutData && n.id == this.copyCutData.id ? (n = this.copyCutData, 
                                n.$ = e.data.$.clipboardData) : this.copyCutData = n, n;
                            }
                            return new this.dataTransfer(null, t);
                        }
                        return new this.dataTransfer(CKEDITOR.env.edge && e && e.data.$ && e.data.$.clipboardData || null, t);
                    },
                    preventDefaultDropOnElement: function(e) {
                        e && e.on("dragover", d);
                    }
                };
                var n = CKEDITOR.plugins.clipboard.isCustomDataTypesSupported ? "cke/id" : "Text";
                CKEDITOR.plugins.clipboard.dataTransfer = function(e, t) {
                    if (e && (this.$ = e), this._ = {
                        metaRegExp: /^<meta.*?>/i,
                        bodyRegExp: /<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,
                        fragmentRegExp: /\x3c!--(?:Start|End)Fragment--\x3e/g,
                        data: {},
                        files: [],
                        normalizeType: function(e) {
                            return e = e.toLowerCase(), "text" == e || "text/plain" == e ? "Text" : "url" == e ? "URL" : e;
                        }
                    }, this.id = this.getData(n), this.id || (this.id = "Text" == n ? "" : "cke-" + CKEDITOR.tools.getUniqueId()), 
                    "Text" != n) try {
                        this.$.setData(n, this.id);
                    } catch (e) {}
                    t && (this.sourceEditor = t, this.setData("text/html", t.getSelectedHtml(1)), "Text" == n || this.getData("text/plain") || this.setData("text/plain", t.getSelection().getSelectedText()));
                }, CKEDITOR.DATA_TRANSFER_INTERNAL = 1, CKEDITOR.DATA_TRANSFER_CROSS_EDITORS = 2, 
                CKEDITOR.DATA_TRANSFER_EXTERNAL = 3, CKEDITOR.plugins.clipboard.dataTransfer.prototype = {
                    getData: function(e, t) {
                        e = this._.normalizeType(e);
                        var n, i = this._.data[e];
                        if (void 0 === i || null === i || "" === i) try {
                            i = this.$.getData(e);
                        } catch (e) {}
                        return void 0 !== i && null !== i && "" !== i || (i = ""), "text/html" != e || t ? "Text" == e && CKEDITOR.env.gecko && this.getFilesCount() && "file://" == i.substring(0, 7) && (i = "") : (i = i.replace(this._.metaRegExp, ""), 
                        (n = this._.bodyRegExp.exec(i)) && n.length && (i = n[1], i = i.replace(this._.fragmentRegExp, ""))), 
                        "string" == typeof i && (n = i.indexOf("</html>"), i = -1 !== n ? i.substring(0, n + 7) : i), 
                        i;
                    },
                    setData: function(e, t) {
                        if (e = this._.normalizeType(e), this._.data[e] = t, CKEDITOR.plugins.clipboard.isCustomDataTypesSupported || "URL" == e || "Text" == e) {
                            "Text" == n && "Text" == e && (this.id = t);
                            try {
                                this.$.setData(e, t);
                            } catch (e) {}
                        }
                    },
                    getTransferType: function(e) {
                        return this.sourceEditor ? this.sourceEditor == e ? CKEDITOR.DATA_TRANSFER_INTERNAL : CKEDITOR.DATA_TRANSFER_CROSS_EDITORS : CKEDITOR.DATA_TRANSFER_EXTERNAL;
                    },
                    cacheData: function() {
                        function a(e) {
                            e = n._.normalizeType(e);
                            var t = n.getData(e, !0);
                            t && (n._.data[e] = t);
                        }
                        if (this.$) {
                            var e, t, n = this;
                            if (CKEDITOR.plugins.clipboard.isCustomDataTypesSupported) {
                                if (this.$.types) for (e = 0; e < this.$.types.length; e++) a(this.$.types[e]);
                            } else a("Text"), a("URL");
                            if (t = this._getImageFromClipboard(), this.$ && this.$.files || t) {
                                if (this._.files = [], this.$.files && this.$.files.length) for (e = 0; e < this.$.files.length; e++) this._.files.push(this.$.files[e]);
                                0 === this._.files.length && t && this._.files.push(t);
                            }
                        }
                    },
                    getFilesCount: function() {
                        return this._.files.length ? this._.files.length : this.$ && this.$.files && this.$.files.length ? this.$.files.length : this._getImageFromClipboard() ? 1 : 0;
                    },
                    getFile: function(e) {
                        return this._.files.length ? this._.files[e] : this.$ && this.$.files && this.$.files.length ? this.$.files[e] : 0 === e ? this._getImageFromClipboard() : void 0;
                    },
                    isEmpty: function() {
                        var e, t = {};
                        if (this.getFilesCount()) return !1;
                        for (e in this._.data) t[e] = 1;
                        if (this.$) if (CKEDITOR.plugins.clipboard.isCustomDataTypesSupported) {
                            if (this.$.types) for (var i = 0; i < this.$.types.length; i++) t[this.$.types[i]] = 1;
                        } else t.Text = 1, t.URL = 1;
                        "Text" != n && (t[n] = 0);
                        for (e in t) if (t[e] && "" !== this.getData(e)) return !1;
                        return !0;
                    },
                    _getImageFromClipboard: function() {
                        var e;
                        if (this.$ && this.$.items && this.$.items[0]) try {
                            if ((e = this.$.items[0].getAsFile()) && e.type) return e;
                        } catch (e) {}
                    }
                };
            }(), CKEDITOR.config.clipboard_notificationDuration = 1e4, function() {
                CKEDITOR.plugins.add("panel", {
                    beforeInit: function(e) {
                        e.ui.addHandler(CKEDITOR.UI_PANEL, CKEDITOR.ui.panel.handler);
                    }
                }), CKEDITOR.UI_PANEL = "panel", CKEDITOR.ui.panel = function(e, t) {
                    t && CKEDITOR.tools.extend(this, t), CKEDITOR.tools.extend(this, {
                        className: "",
                        css: []
                    }), this.id = CKEDITOR.tools.getNextId(), this.document = e, this.isFramed = this.forceIFrame || this.css.length, 
                    this._ = {
                        blocks: {}
                    };
                }, CKEDITOR.ui.panel.handler = {
                    create: function(e) {
                        return new CKEDITOR.ui.panel(e);
                    }
                };
                var e = CKEDITOR.addTemplate("panel", '<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'), t = CKEDITOR.addTemplate("panel-frame", '<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'), n = CKEDITOR.addTemplate("panel-frame-inner", '<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');
                CKEDITOR.ui.panel.prototype = {
                    render: function(i, o) {
                        this.getHolderElement = function() {
                            var e = this._.holder;
                            if (!e) {
                                if (this.isFramed) {
                                    var e = this.document.getById(this.id + "_frame"), t = e.getParent(), e = e.getFrameDocument();
                                    CKEDITOR.env.iOS && t.setStyles({
                                        overflow: "scroll",
                                        "-webkit-overflow-scrolling": "touch"
                                    }), t = CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function() {
                                        this.isLoaded = !0, this.onLoad && this.onLoad();
                                    }, this)), e.write(n.output(CKEDITOR.tools.extend({
                                        css: CKEDITOR.tools.buildStyleHtml(this.css),
                                        onload: "window.parent.CKEDITOR.tools.callFunction(" + t + ");"
                                    }, a))), e.getWindow().$.CKEDITOR = CKEDITOR, e.on("keydown", function(e) {
                                        var t = e.data.getKeystroke(), n = this.document.getById(this.id).getAttribute("dir");
                                        this._.onKeyDown && !1 === this._.onKeyDown(t) ? e.data.preventDefault() : (27 == t || t == ("rtl" == n ? 39 : 37)) && this.onEscape && !1 === this.onEscape(t) && e.data.preventDefault();
                                    }, this), e = e.getBody(), e.unselectable(), CKEDITOR.env.air && CKEDITOR.tools.callFunction(t);
                                } else e = this.document.getById(this.id);
                                this._.holder = e;
                            }
                            return e;
                        };
                        var a = {
                            editorId: i.id,
                            id: this.id,
                            langCode: i.langCode,
                            dir: i.lang.dir,
                            cls: this.className,
                            frame: "",
                            env: CKEDITOR.env.cssClass,
                            "z-index": i.config.baseFloatZIndex + 1
                        };
                        if (this.isFramed) {
                            var r = CKEDITOR.env.air ? "javascript:void(0)" : CKEDITOR.env.ie ? "javascript:void(function(){" + encodeURIComponent("document.open();(" + CKEDITOR.tools.fixDomain + ")();document.close();") + "}())" : "";
                            a.frame = t.output({
                                id: this.id + "_frame",
                                src: r
                            });
                        }
                        return r = e.output(a), o && o.push(r), r;
                    },
                    addBlock: function(e, t) {
                        return t = this._.blocks[e] = t instanceof CKEDITOR.ui.panel.block ? t : new CKEDITOR.ui.panel.block(this.getHolderElement(), t), 
                        this._.currentBlock || this.showBlock(e), t;
                    },
                    getBlock: function(e) {
                        return this._.blocks[e];
                    },
                    showBlock: function(e) {
                        e = this._.blocks[e];
                        var t = this._.currentBlock, n = !this.forceIFrame || CKEDITOR.env.ie ? this._.holder : this.document.getById(this.id + "_frame");
                        return t && t.hide(), this._.currentBlock = e, CKEDITOR.fire("ariaWidget", n), e._.focusIndex = -1, 
                        this._.onKeyDown = e.onKeyDown && CKEDITOR.tools.bind(e.onKeyDown, e), e.show(), 
                        e;
                    },
                    destroy: function() {
                        this.element && this.element.remove();
                    }
                }, CKEDITOR.ui.panel.block = CKEDITOR.tools.createClass({
                    $: function(e, t) {
                        this.element = e.append(e.getDocument().createElement("div", {
                            attributes: {
                                tabindex: -1,
                                class: "cke_panel_block"
                            },
                            styles: {
                                display: "none"
                            }
                        })), t && CKEDITOR.tools.extend(this, t), this.element.setAttributes({
                            role: this.attributes.role || "presentation",
                            "aria-label": this.attributes["aria-label"],
                            title: this.attributes.title || this.attributes["aria-label"]
                        }), this.keys = {}, this._.focusIndex = -1, this.element.disableContextMenu();
                    },
                    _: {
                        markItem: function(e) {
                            -1 != e && (e = this.element.getElementsByTag("a").getItem(this._.focusIndex = e), 
                            CKEDITOR.env.webkit && e.getDocument().getWindow().focus(), e.focus(), this.onMark && this.onMark(e));
                        },
                        markFirstDisplayed: function(e) {
                            for (var t, n, i = function(e) {
                                return e.type == CKEDITOR.NODE_ELEMENT && "none" == e.getStyle("display");
                            }, o = this._.getItems(), a = o.count() - 1; 0 <= a; a--) if (t = o.getItem(a), 
                            t.getAscendant(i) || (n = t, this._.focusIndex = a), "true" == t.getAttribute("aria-selected")) {
                                n = t, this._.focusIndex = a;
                                break;
                            }
                            n && (e && e(), CKEDITOR.env.webkit && n.getDocument().getWindow().focus(), n.focus(), 
                            this.onMark && this.onMark(n));
                        },
                        getItems: function() {
                            return this.element.getElementsByTag("a");
                        }
                    },
                    proto: {
                        show: function() {
                            this.element.setStyle("display", "");
                        },
                        hide: function() {
                            this.onHide && !0 === this.onHide.call(this) || this.element.setStyle("display", "none");
                        },
                        onKeyDown: function(e, t) {
                            var n = this.keys[e];
                            switch (n) {
                              case "next":
                                for (var i, o = this._.focusIndex, n = this.element.getElementsByTag("a"); i = n.getItem(++o); ) if (i.getAttribute("_cke_focus") && i.$.offsetWidth) {
                                    this._.focusIndex = o, i.focus();
                                    break;
                                }
                                return !i && !t && (this._.focusIndex = -1, this.onKeyDown(e, 1));

                              case "prev":
                                for (o = this._.focusIndex, n = this.element.getElementsByTag("a"); 0 < o && (i = n.getItem(--o)); ) {
                                    if (i.getAttribute("_cke_focus") && i.$.offsetWidth) {
                                        this._.focusIndex = o, i.focus();
                                        break;
                                    }
                                    i = null;
                                }
                                return !i && !t && (this._.focusIndex = n.count(), this.onKeyDown(e, 1));

                              case "click":
                              case "mouseup":
                                return o = this._.focusIndex, (i = 0 <= o && this.element.getElementsByTag("a").getItem(o)) && (i.$[n] ? i.$[n]() : i.$["on" + n]()), 
                                !1;
                            }
                            return !0;
                        }
                    }
                });
            }(), CKEDITOR.plugins.add("floatpanel", {
                requires: "panel"
            }), function() {
                function a(t, n, i, o, a) {
                    a = CKEDITOR.tools.genKey(n.getUniqueId(), i.getUniqueId(), t.lang.dir, t.uiColor || "", o.css || "", a || "");
                    var r = e[a];
                    return r || (r = e[a] = new CKEDITOR.ui.panel(n, o), r.element = i.append(CKEDITOR.dom.element.createFromHtml(r.render(t), n)), 
                    r.element.setStyles({
                        display: "none",
                        position: "absolute"
                    })), r;
                }
                var e = {};
                CKEDITOR.ui.floatPanel = CKEDITOR.tools.createClass({
                    $: function(e, t, n, i) {
                        function k() {
                            l.hide();
                        }
                        n.forceIFrame = 1, n.toolbarRelated && e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE && (t = CKEDITOR.document.getById("cke_" + e.name));
                        var o = t.getDocument();
                        i = a(e, o, t, n, i || 0);
                        var r = i.element, s = r.getFirst(), l = this;
                        r.disableContextMenu(), this.element = r, this._ = {
                            editor: e,
                            panel: i,
                            parentElement: t,
                            definition: n,
                            document: o,
                            iframe: s,
                            children: [],
                            dir: e.lang.dir,
                            showBlockParams: null
                        }, e.on("mode", k), e.on("resize", k), o.getWindow().on("resize", function() {
                            this.reposition();
                        }, this);
                    },
                    proto: {
                        addBlock: function(e, t) {
                            return this._.panel.addBlock(e, t);
                        },
                        addListBlock: function(e, t) {
                            return this._.panel.addListBlock(e, t);
                        },
                        getBlock: function(e) {
                            return this._.panel.getBlock(e);
                        },
                        showBlock: function(e, t, n, i, o, a) {
                            var r = this._.panel, s = r.showBlock(e);
                            this._.showBlockParams = [].slice.call(arguments), this.allowBlur(!1);
                            var l = this._.editor.editable();
                            this._.returnFocus = l.hasFocus ? l : new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement), 
                            this._.hideTimeout = 0;
                            var c = this.element, l = this._.iframe, l = CKEDITOR.env.ie && !CKEDITOR.env.edge ? l : new CKEDITOR.dom.window(l.$.contentWindow), d = c.getDocument(), u = this._.parentElement.getPositionedAncestor(), h = t.getDocumentPosition(d), d = u ? u.getDocumentPosition(d) : {
                                x: 0,
                                y: 0
                            }, f = "rtl" == this._.dir, m = h.x + (i || 0) - d.x, g = h.y + (o || 0) - d.y;
                            !f || 1 != n && 4 != n ? f || 2 != n && 3 != n || (m += t.$.offsetWidth - 1) : m += t.$.offsetWidth, 
                            3 != n && 4 != n || (g += t.$.offsetHeight - 1), this._.panel._.offsetParentId = t.getId(), 
                            c.setStyles({
                                top: g + "px",
                                left: 0,
                                display: ""
                            }), c.setOpacity(0), c.getFirst().removeStyle("width"), this._.editor.focusManager.add(l), 
                            this._.blurSet || (CKEDITOR.event.useCapture = !0, l.on("blur", function(e) {
                                function b() {
                                    delete this._.returnFocus, this.hide();
                                }
                                this.allowBlur() && e.data.getPhase() == CKEDITOR.EVENT_PHASE_AT_TARGET && this.visible && !this._.activeChild && (CKEDITOR.env.iOS ? this._.hideTimeout || (this._.hideTimeout = CKEDITOR.tools.setTimeout(b, 0, this)) : b.call(this));
                            }, this), l.on("focus", function() {
                                this._.focused = !0, this.hideChild(), this.allowBlur(!0);
                            }, this), CKEDITOR.env.iOS && (l.on("touchstart", function() {
                                clearTimeout(this._.hideTimeout);
                            }, this), l.on("touchend", function() {
                                this._.hideTimeout = 0, this.focus();
                            }, this)), CKEDITOR.event.useCapture = !1, this._.blurSet = 1), r.onEscape = CKEDITOR.tools.bind(function(e) {
                                if (this.onEscape && !1 === this.onEscape(e)) return !1;
                            }, this), CKEDITOR.tools.setTimeout(function() {
                                var e = CKEDITOR.tools.bind(function() {
                                    var e = c;
                                    if (e.removeStyle("width"), s.autoSize) {
                                        var t = s.element.getDocument(), t = (CKEDITOR.env.webkit || CKEDITOR.env.edge ? s.element : t.getBody()).$.scrollWidth;
                                        CKEDITOR.env.ie && CKEDITOR.env.quirks && 0 < t && (t += (e.$.offsetWidth || 0) - (e.$.clientWidth || 0) + 3), 
                                        e.setStyle("width", t + 10 + "px"), t = s.element.$.scrollHeight, CKEDITOR.env.ie && CKEDITOR.env.quirks && 0 < t && (t += (e.$.offsetHeight || 0) - (e.$.clientHeight || 0) + 3), 
                                        e.setStyle("height", t + "px"), r._.currentBlock.element.setStyle("display", "none").removeStyle("display");
                                    } else e.removeStyle("height");
                                    f && (m -= c.$.offsetWidth), c.setStyle("left", m + "px");
                                    var t = r.element.getWindow(), e = c.$.getBoundingClientRect(), t = t.getViewPaneSize(), n = e.width || e.right - e.left, i = e.height || e.bottom - e.top, o = f ? e.right : t.width - e.left, l = f ? t.width - e.right : e.left;
                                    f ? o < n && (m = l > n ? m + n : t.width > n ? m - e.left : m - e.right + t.width) : o < n && (m = l > n ? m - n : t.width > n ? m - e.right + t.width : m - e.left), 
                                    n = e.top, t.height - e.top < i && (g = n > i ? g - i : t.height > i ? g - e.bottom + t.height : g - e.top), 
                                    CKEDITOR.env.ie && (t = e = new CKEDITOR.dom.element(c.$.offsetParent), "html" == t.getName() && (t = t.getDocument().getBody()), 
                                    "rtl" == t.getComputedStyle("direction") && (m = CKEDITOR.env.ie8Compat ? m - 2 * c.getDocument().getDocumentElement().$.scrollLeft : m - (e.$.scrollWidth - e.$.clientWidth)));
                                    var d, e = c.getFirst();
                                    (d = e.getCustomData("activePanel")) && d.onHide && d.onHide.call(this, 1), e.setCustomData("activePanel", this), 
                                    c.setStyles({
                                        top: g + "px",
                                        left: m + "px"
                                    }), c.setOpacity(1), a && a();
                                }, this);
                                r.isLoaded ? e() : r.onLoad = e, CKEDITOR.tools.setTimeout(function() {
                                    var e = CKEDITOR.env.webkit && CKEDITOR.document.getWindow().getScrollPosition().y;
                                    this.focus(), s.element.focus(), CKEDITOR.env.webkit && (CKEDITOR.document.getBody().$.scrollTop = e), 
                                    this.allowBlur(!0), CKEDITOR.env.ie ? CKEDITOR.tools.setTimeout(function() {
                                        s.markFirstDisplayed ? s.markFirstDisplayed() : s._.markFirstDisplayed();
                                    }, 0) : s.markFirstDisplayed ? s.markFirstDisplayed() : s._.markFirstDisplayed(), 
                                    this._.editor.fire("panelShow", this);
                                }, 0, this);
                            }, CKEDITOR.env.air ? 200 : 0, this), this.visible = 1, this.onShow && this.onShow.call(this);
                        },
                        reposition: function() {
                            var e = this._.showBlockParams;
                            this.visible && this._.showBlockParams && (this.hide(), this.showBlock.apply(this, e));
                        },
                        focus: function() {
                            if (CKEDITOR.env.webkit) {
                                var e = CKEDITOR.document.getActive();
                                e && !e.equals(this._.iframe) && e.$.blur();
                            }
                            (this._.lastFocused || this._.iframe.getFrameDocument().getWindow()).focus();
                        },
                        blur: function() {
                            var e = this._.iframe.getFrameDocument().getActive();
                            e && e.is("a") && (this._.lastFocused = e);
                        },
                        hide: function(e) {
                            !this.visible || this.onHide && !0 === this.onHide.call(this) || (this.hideChild(), 
                            CKEDITOR.env.gecko && this._.iframe.getFrameDocument().$.activeElement.blur(), this.element.setStyle("display", "none"), 
                            this.visible = 0, this.element.getFirst().removeCustomData("activePanel"), (e = e && this._.returnFocus) && (CKEDITOR.env.webkit && e.type && e.getWindow().$.focus(), 
                            e.focus()), delete this._.lastFocused, this._.showBlockParams = null, this._.editor.fire("panelHide", this));
                        },
                        allowBlur: function(e) {
                            var t = this._.panel;
                            return void 0 !== e && (t.allowBlur = e), t.allowBlur;
                        },
                        showAsChild: function(e, t, n, i, o, a) {
                            this._.activeChild == e && e._.panel._.offsetParentId == n.getId() || (this.hideChild(), 
                            e.onHide = CKEDITOR.tools.bind(function() {
                                CKEDITOR.tools.setTimeout(function() {
                                    this._.focused || this.hide();
                                }, 0, this);
                            }, this), this._.activeChild = e, this._.focused = !1, e.showBlock(t, n, i, o, a), 
                            this.blur(), (CKEDITOR.env.ie7Compat || CKEDITOR.env.ie6Compat) && setTimeout(function() {
                                e.element.getChild(0).$.style.cssText += "";
                            }, 100));
                        },
                        hideChild: function(e) {
                            var t = this._.activeChild;
                            t && (delete t.onHide, delete this._.activeChild, t.hide(), e && this.focus());
                        }
                    }
                }), CKEDITOR.on("instanceDestroyed", function() {
                    var t, n = CKEDITOR.tools.isEmpty(CKEDITOR.instances);
                    for (t in e) {
                        var i = e[t];
                        n ? i.destroy() : i.element.hide();
                    }
                    n && (e = {});
                });
            }(), CKEDITOR.plugins.add("menu", {
                requires: "floatpanel",
                beforeInit: function(e) {
                    for (var t = e.config.menu_groups.split(","), n = e._.menuGroups = {}, i = e._.menuItems = {}, o = 0; o < t.length; o++) n[t[o]] = o + 1;
                    e.addMenuGroup = function(e, t) {
                        n[e] = t || 100;
                    }, e.addMenuItem = function(e, t) {
                        n[t.group] && (i[e] = new CKEDITOR.menuItem(this, e, t));
                    }, e.addMenuItems = function(e) {
                        for (var t in e) this.addMenuItem(t, e[t]);
                    }, e.getMenuItem = function(e) {
                        return i[e];
                    }, e.removeMenuItem = function(e) {
                        delete i[e];
                    };
                }
            }), function() {
                function a(e) {
                    e.sort(function(e, t) {
                        return e.group < t.group ? -1 : e.group > t.group ? 1 : e.order < t.order ? -1 : e.order > t.order ? 1 : 0;
                    });
                }
                var e = '<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{label}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"';
                CKEDITOR.env.gecko && CKEDITOR.env.mac && (e += ' onkeypress="return false;"'), 
                CKEDITOR.env.gecko && (e += ' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"');
                var e = e + ' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" ' + (CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : "onclick") + '="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">', t = CKEDITOR.addTemplate("menuItem", e + '<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>'), n = CKEDITOR.addTemplate("menuArrow", '<span class="cke_menuarrow"><span>{label}</span></span>'), i = CKEDITOR.addTemplate("menuShortcut", '<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');
                CKEDITOR.menu = CKEDITOR.tools.createClass({
                    $: function(e, t) {
                        t = this._.definition = t || {}, this.id = CKEDITOR.tools.getNextId(), this.editor = e, 
                        this.items = [], this._.listeners = [], this._.level = t.level || 1;
                        var n = CKEDITOR.tools.extend({}, t.panel, {
                            css: [ CKEDITOR.skin.getPath("editor") ],
                            level: this._.level - 1,
                            block: {}
                        }), i = n.block.attributes = n.attributes || {};
                        !i.role && (i.role = "menu"), this._.panelDefinition = n;
                    },
                    _: {
                        onShow: function() {
                            var e = this.editor.getSelection(), t = e && e.getStartElement(), n = this.editor.elementPath(), i = this._.listeners;
                            this.removeAll();
                            for (var o = 0; o < i.length; o++) {
                                var a = i[o](t, e, n);
                                if (a) for (var r in a) {
                                    var s = this.editor.getMenuItem(r);
                                    !s || s.command && !this.editor.getCommand(s.command).state || (s.state = a[r], 
                                    this.add(s));
                                }
                            }
                        },
                        onClick: function(e) {
                            this.hide(), e.onClick ? e.onClick() : e.command && this.editor.execCommand(e.command);
                        },
                        onEscape: function(e) {
                            var t = this.parent;
                            return t ? t._.panel.hideChild(1) : 27 == e && this.hide(1), !1;
                        },
                        onHide: function() {
                            this.onHide && this.onHide();
                        },
                        showSubMenu: function(e) {
                            var t = this._.subMenu, n = this.items[e];
                            if (n = n.getItems && n.getItems()) {
                                t ? t.removeAll() : (t = this._.subMenu = new CKEDITOR.menu(this.editor, CKEDITOR.tools.extend({}, this._.definition, {
                                    level: this._.level + 1
                                }, !0)), t.parent = this, t._.onClick = CKEDITOR.tools.bind(this._.onClick, this));
                                for (var i in n) {
                                    var o = this.editor.getMenuItem(i);
                                    o && (o.state = n[i], t.add(o));
                                }
                                var a = this._.panel.getBlock(this.id).element.getDocument().getById(this.id + String(e));
                                setTimeout(function() {
                                    t.show(a, 2);
                                }, 0);
                            } else this._.panel.hideChild(1);
                        }
                    },
                    proto: {
                        add: function(e) {
                            e.order || (e.order = this.items.length), this.items.push(e);
                        },
                        removeAll: function() {
                            this.items = [];
                        },
                        show: function(e, t, n, i) {
                            if (this.parent || (this._.onShow(), this.items.length)) {
                                t = t || ("rtl" == this.editor.lang.dir ? 2 : 1);
                                var o = this.items, r = this.editor, s = this._.panel, l = this._.element;
                                if (!s) {
                                    s = this._.panel = new CKEDITOR.ui.floatPanel(this.editor, CKEDITOR.document.getBody(), this._.panelDefinition, this._.level), 
                                    s.onEscape = CKEDITOR.tools.bind(function(e) {
                                        if (!1 === this._.onEscape(e)) return !1;
                                    }, this), s.onShow = function() {
                                        s._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all");
                                    }, s.onHide = CKEDITOR.tools.bind(function() {
                                        this._.onHide && this._.onHide();
                                    }, this), l = s.addBlock(this.id, this._.panelDefinition.block), l.autoSize = !0;
                                    var c = l.keys;
                                    c[40] = "next", c[9] = "next", c[38] = "prev", c[CKEDITOR.SHIFT + 9] = "prev", c["rtl" == r.lang.dir ? 37 : 39] = CKEDITOR.env.ie ? "mouseup" : "click", 
                                    c[32] = CKEDITOR.env.ie ? "mouseup" : "click", CKEDITOR.env.ie && (c[13] = "mouseup"), 
                                    l = this._.element = l.element, c = l.getDocument(), c.getBody().setStyle("overflow", "hidden"), 
                                    c.getElementsByTag("html").getItem(0).setStyle("overflow", "hidden"), this._.itemOverFn = CKEDITOR.tools.addFunction(function(e) {
                                        clearTimeout(this._.showSubTimeout), this._.showSubTimeout = CKEDITOR.tools.setTimeout(this._.showSubMenu, r.config.menu_subMenuDelay || 400, this, [ e ]);
                                    }, this), this._.itemOutFn = CKEDITOR.tools.addFunction(function() {
                                        clearTimeout(this._.showSubTimeout);
                                    }, this), this._.itemClickFn = CKEDITOR.tools.addFunction(function(e) {
                                        var t = this.items[e];
                                        t.state == CKEDITOR.TRISTATE_DISABLED ? this.hide(1) : t.getItems ? this._.showSubMenu(e) : this._.onClick(t);
                                    }, this);
                                }
                                a(o);
                                for (var c = r.elementPath(), c = [ '<div class="cke_menu' + (c && c.direction() != r.lang.dir ? " cke_mixed_dir_content" : "") + '" role="presentation">' ], d = o.length, u = d && o[0].group, h = 0; h < d; h++) {
                                    var f = o[h];
                                    u != f.group && (c.push('<div class="cke_menuseparator" role="separator"></div>'), 
                                    u = f.group), f.render(this, h, c);
                                }
                                c.push("</div>"), l.setHtml(c.join("")), CKEDITOR.ui.fire("ready", this), this.parent ? this.parent._.panel.showAsChild(s, this.id, e, t, n, i) : s.showBlock(this.id, e, t, n, i), 
                                r.fire("menuShow", [ s ]);
                            }
                        },
                        addListener: function(e) {
                            this._.listeners.push(e);
                        },
                        hide: function(e) {
                            this._.onHide && this._.onHide(), this._.panel && this._.panel.hide(e);
                        }
                    }
                }), CKEDITOR.menuItem = CKEDITOR.tools.createClass({
                    $: function(e, t, n) {
                        CKEDITOR.tools.extend(this, n, {
                            order: 0,
                            className: "cke_menubutton__" + t
                        }), this.group = e._.menuGroups[this.group], this.editor = e, this.name = t;
                    },
                    proto: {
                        render: function(e, o, a) {
                            var r, s, l = e.id + String(o), c = void 0 === this.state ? CKEDITOR.TRISTATE_OFF : this.state, d = "", u = this.editor, h = c == CKEDITOR.TRISTATE_ON ? "on" : c == CKEDITOR.TRISTATE_DISABLED ? "disabled" : "off";
                            this.role in {
                                menuitemcheckbox: 1,
                                menuitemradio: 1
                            } && (d = ' aria-checked="' + (c == CKEDITOR.TRISTATE_ON ? "true" : "false") + '"');
                            var f = this.getItems, m = "&#" + ("rtl" == this.editor.lang.dir ? "9668" : "9658") + ";", g = this.name;
                            this.icon && !/\./.test(this.icon) && (g = this.icon), this.command && (r = u.getCommand(this.command), 
                            (r = u.getCommandKeystroke(r)) && (s = CKEDITOR.tools.keystrokeToString(u.lang.common.keyboard, r))), 
                            e = {
                                id: l,
                                name: this.name,
                                iconName: g,
                                label: this.label,
                                cls: this.className || "",
                                state: h,
                                hasPopup: f ? "true" : "false",
                                disabled: c == CKEDITOR.TRISTATE_DISABLED,
                                title: this.label + (s ? " (" + s.display + ")" : ""),
                                ariaShortcut: s ? u.lang.common.keyboardShortcut + " " + s.aria : "",
                                href: "javascript:void('" + (this.label || "").replace("'") + "')",
                                hoverFn: e._.itemOverFn,
                                moveOutFn: e._.itemOutFn,
                                clickFn: e._.itemClickFn,
                                index: o,
                                iconStyle: CKEDITOR.skin.getIconStyle(g, "rtl" == this.editor.lang.dir, g == this.icon ? null : this.icon, this.iconOffset),
                                shortcutHtml: s ? i.output({
                                    shortcut: s.display
                                }) : "",
                                arrowHtml: f ? n.output({
                                    label: m
                                }) : "",
                                role: this.role ? this.role : "menuitem",
                                ariaChecked: d
                            }, t.output(e, a);
                        }
                    }
                });
            }(), CKEDITOR.config.menu_groups = "clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div", 
            CKEDITOR.plugins.add("contextmenu", {
                requires: "menu",
                onLoad: function() {
                    CKEDITOR.plugins.contextMenu = CKEDITOR.tools.createClass({
                        base: CKEDITOR.menu,
                        $: function(e) {
                            this.base.call(this, e, {
                                panel: {
                                    className: "cke_menu_panel",
                                    attributes: {
                                        "aria-label": e.lang.contextmenu.options
                                    }
                                }
                            });
                        },
                        proto: {
                            addTarget: function(e, t) {
                                if (e.on("contextmenu", function(e) {
                                    e = e.data;
                                    var i = CKEDITOR.env.webkit ? n : CKEDITOR.env.mac ? e.$.metaKey : e.$.ctrlKey;
                                    if (!t || !i) {
                                        if (e.preventDefault(), CKEDITOR.env.mac && CKEDITOR.env.webkit) {
                                            var i = this.editor, o = new CKEDITOR.dom.elementPath(e.getTarget(), i.editable()).contains(function(e) {
                                                return e.hasAttribute("contenteditable");
                                            }, !0);
                                            o && "false" == o.getAttribute("contenteditable") && i.getSelection().fake(o);
                                        }
                                        var o = e.getTarget().getDocument(), a = e.getTarget().getDocument().getDocumentElement(), i = !o.equals(CKEDITOR.document), o = o.getWindow().getScrollPosition(), r = i ? e.$.clientX : e.$.pageX || o.x + e.$.clientX, s = i ? e.$.clientY : e.$.pageY || o.y + e.$.clientY;
                                        CKEDITOR.tools.setTimeout(function() {
                                            this.open(a, null, r, s);
                                        }, CKEDITOR.env.ie ? 200 : 0, this);
                                    }
                                }, this), CKEDITOR.env.webkit) {
                                    var n, i = function() {
                                        n = 0;
                                    };
                                    e.on("keydown", function(e) {
                                        n = CKEDITOR.env.mac ? e.data.$.metaKey : e.data.$.ctrlKey;
                                    }), e.on("keyup", i), e.on("contextmenu", i);
                                }
                            },
                            open: function(e, t, n, i) {
                                !1 !== this.editor.config.enableContextMenu && (this.editor.focus(), e = e || CKEDITOR.document.getDocumentElement(), 
                                this.editor.selectionChange(1), this.show(e, t, n, i));
                            }
                        }
                    });
                },
                beforeInit: function(e) {
                    var t = e.contextMenu = new CKEDITOR.plugins.contextMenu(e);
                    e.on("contentDom", function() {
                        t.addTarget(e.editable(), !1 !== e.config.browserContextMenuOnCtrl);
                    }), e.addCommand("contextMenu", {
                        exec: function() {
                            e.contextMenu.open(e.document.getBody());
                        }
                    }), e.setKeystroke(CKEDITOR.SHIFT + 121, "contextMenu"), e.setKeystroke(CKEDITOR.CTRL + CKEDITOR.SHIFT + 121, "contextMenu");
                }
            }), function() {
                function a(t, i) {
                    function k(e) {
                        e = r.list[e];
                        var n;
                        e.equals(t.editable()) || "true" == e.getAttribute("contenteditable") ? (n = t.createRange(), 
                        n.selectNodeContents(e), n = n.select()) : (n = t.getSelection(), n.selectElement(e)), 
                        CKEDITOR.env.ie && t.fire("selectionChange", {
                            selection: n,
                            path: new CKEDITOR.dom.elementPath(e)
                        }), t.focus();
                    }
                    function d() {
                        o && o.setHtml('<span class="cke_path_empty">&nbsp;</span>'), delete r.list;
                    }
                    var o, a = t.ui.spaceId("path"), r = t._.elementsPath, s = r.idBase;
                    i.html += '<span id="' + a + '_label" class="cke_voice_label">' + t.lang.elementspath.eleLabel + '</span><span id="' + a + '" class="cke_path" role="group" aria-labelledby="' + a + '_label"><span class="cke_path_empty">&nbsp;</span></span>', 
                    t.on("uiReady", function() {
                        var e = t.ui.space("path");
                        e && t.focusManager.add(e, 1);
                    }), r.onClick = k;
                    var l = CKEDITOR.tools.addFunction(k), c = CKEDITOR.tools.addFunction(function(e, n) {
                        var i, o = r.idBase;
                        switch (n = new CKEDITOR.dom.event(n), i = "rtl" == t.lang.dir, n.getKeystroke()) {
                          case i ? 39 : 37:
                          case 9:
                            return (i = CKEDITOR.document.getById(o + (e + 1))) || (i = CKEDITOR.document.getById(o + "0")), 
                            i.focus(), !1;

                          case i ? 37 : 39:
                          case CKEDITOR.SHIFT + 9:
                            return (i = CKEDITOR.document.getById(o + (e - 1))) || (i = CKEDITOR.document.getById(o + (r.list.length - 1))), 
                            i.focus(), !1;

                          case 27:
                            return t.focus(), !1;

                          case 13:
                          case 32:
                            return k(e), !1;
                        }
                        return !0;
                    });
                    t.on("selectionChange", function() {
                        for (var e, i = [], d = r.list = [], u = [], h = r.filters, f = !0, m = t.elementPath().elements, g = m.length; g--; ) {
                            var E = m[g], p = 0;
                            e = E.data("cke-display-name") ? E.data("cke-display-name") : E.data("cke-real-element-type") ? E.data("cke-real-element-type") : E.getName(), 
                            (f = E.hasAttribute("contenteditable") ? "true" == E.getAttribute("contenteditable") : f) || E.hasAttribute("contenteditable") || (p = 1);
                            for (var T = 0; T < h.length; T++) {
                                var C = h[T](E, e);
                                if (!1 === C) {
                                    p = 1;
                                    break;
                                }
                                e = C || e;
                            }
                            p || (d.unshift(E), u.unshift(e));
                        }
                        for (d = d.length, h = 0; h < d; h++) e = u[h], f = t.lang.elementspath.eleTitle.replace(/%1/, e), 
                        e = n.output({
                            id: s + h,
                            label: f,
                            text: e,
                            jsTitle: "javascript:void('" + e + "')",
                            index: h,
                            keyDownFn: c,
                            clickFn: l
                        }), i.unshift(e);
                        o || (o = CKEDITOR.document.getById(a)), u = o, u.setHtml(i.join("") + '<span class="cke_path_empty">&nbsp;</span>'), 
                        t.fire("elementsPathUpdate", {
                            space: u
                        });
                    }), t.on("readOnly", d), t.on("contentDomUnload", d), t.addCommand("elementsPathFocus", e.toolbarFocus), 
                    t.setKeystroke(CKEDITOR.ALT + 122, "elementsPathFocus");
                }
                var e = {
                    toolbarFocus: {
                        editorFocus: !1,
                        readOnly: 1,
                        exec: function(e) {
                            (e = CKEDITOR.document.getById(e._.elementsPath.idBase + "0")) && e.focus(CKEDITOR.env.ie || CKEDITOR.env.air);
                        }
                    }
                }, t = "";
                CKEDITOR.env.gecko && CKEDITOR.env.mac && (t += ' onkeypress="return false;"'), 
                CKEDITOR.env.gecko && (t += ' onblur="this.style.cssText = this.style.cssText;"');
                var n = CKEDITOR.addTemplate("pathItem", '<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"' + t + ' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');
                CKEDITOR.plugins.add("elementspath", {
                    init: function(e) {
                        e._.elementsPath = {
                            idBase: "cke_elementspath_" + CKEDITOR.tools.getNextNumber() + "_",
                            filters: []
                        }, e.on("uiSpace", function(t) {
                            "bottom" == t.data.space && a(e, t.data);
                        });
                    }
                });
            }(), function() {
                function a(n, i) {
                    var o, a;
                    i.on("refresh", function(n) {
                        var i, o = [ e ];
                        for (i in n.data.states) o.push(n.data.states[i]);
                        this.setState(CKEDITOR.tools.search(o, t) ? t : e);
                    }, i, null, 100), i.on("exec", function(e) {
                        o = n.getSelection(), a = o.createBookmarks(1), e.data || (e.data = {}), e.data.done = !1;
                    }, i, null, 0), i.on("exec", function() {
                        n.forceNextSelectionCheck(), o.selectBookmarks(a);
                    }, i, null, 100);
                }
                var e = CKEDITOR.TRISTATE_DISABLED, t = CKEDITOR.TRISTATE_OFF;
                CKEDITOR.plugins.add("indent", {
                    init: function(e) {
                        var t = CKEDITOR.plugins.indent.genericDefinition;
                        a(e, e.addCommand("indent", new t(!0))), a(e, e.addCommand("outdent", new t())), 
                        e.ui.addButton && (e.ui.addButton("Indent", {
                            label: e.lang.indent.indent,
                            command: "indent",
                            directional: !0,
                            toolbar: "indent,20"
                        }), e.ui.addButton("Outdent", {
                            label: e.lang.indent.outdent,
                            command: "outdent",
                            directional: !0,
                            toolbar: "indent,10"
                        })), e.on("dirChanged", function(t) {
                            var n = e.createRange(), i = t.data.node;
                            n.setStartBefore(i), n.setEndAfter(i);
                            for (var o, a = new CKEDITOR.dom.walker(n); o = a.next(); ) if (o.type == CKEDITOR.NODE_ELEMENT) if (!o.equals(i) && o.getDirection()) n.setStartAfter(o), 
                            a = new CKEDITOR.dom.walker(n); else {
                                var r = e.config.indentClasses;
                                if (r) for (var s = "ltr" == t.data.dir ? [ "_rtl", "" ] : [ "", "_rtl" ], l = 0; l < r.length; l++) o.hasClass(r[l] + s[0]) && (o.removeClass(r[l] + s[0]), 
                                o.addClass(r[l] + s[1]));
                                r = o.getStyle("margin-right"), s = o.getStyle("margin-left"), r ? o.setStyle("margin-left", r) : o.removeStyle("margin-left"), 
                                s ? o.setStyle("margin-right", s) : o.removeStyle("margin-right");
                            }
                        });
                    }
                }), CKEDITOR.plugins.indent = {
                    genericDefinition: function(e) {
                        this.isIndent = !!e, this.startDisabled = !this.isIndent;
                    },
                    specificDefinition: function(e, t, n) {
                        this.name = t, this.editor = e, this.jobs = {}, this.enterBr = e.config.enterMode == CKEDITOR.ENTER_BR, 
                        this.isIndent = !!n, this.relatedGlobal = n ? "indent" : "outdent", this.indentKey = n ? 9 : CKEDITOR.SHIFT + 9, 
                        this.database = {};
                    },
                    registerCommands: function(e, t) {
                        e.on("pluginsLoaded", function() {
                            for (var e in t) !function(e, t) {
                                var n, i = e.getCommand(t.relatedGlobal);
                                for (n in t.jobs) i.on("exec", function(i) {
                                    i.data.done || (e.fire("lockSnapshot"), t.execJob(e, n) && (i.data.done = !0), e.fire("unlockSnapshot"), 
                                    CKEDITOR.dom.element.clearAllMarkers(t.database));
                                }, this, null, n), i.on("refresh", function(i) {
                                    i.data.states || (i.data.states = {}), i.data.states[t.name + "@" + n] = t.refreshJob(e, n, i.data.path);
                                }, this, null, n);
                                e.addFeature(t);
                            }(this, t[e]);
                        });
                    }
                }, CKEDITOR.plugins.indent.genericDefinition.prototype = {
                    context: "p",
                    exec: function() {}
                }, CKEDITOR.plugins.indent.specificDefinition.prototype = {
                    execJob: function(t, n) {
                        var i = this.jobs[n];
                        if (i.state != e) return i.exec.call(this, t);
                    },
                    refreshJob: function(t, n, i) {
                        return n = this.jobs[n], t.activeFilter.checkFeature(this) ? n.state = n.refresh.call(this, t, i) : n.state = e, 
                        n.state;
                    },
                    getContext: function(e) {
                        return e.contains(this.context);
                    }
                };
            }(), function() {
                function a(e) {
                    for (var t, n = this, i = this.database, o = this.context, a = e.getSelection(), a = (a && a.getRanges()).createIterator(); t = a.getNextRange(); ) {
                        for (var r = t.getCommonAncestor(); r && (r.type != CKEDITOR.NODE_ELEMENT || !o[r.getName()]); ) {
                            if (e.editable().equals(r)) {
                                r = !1;
                                break;
                            }
                            r = r.getParent();
                        }
                        if (r || (r = t.startPath().contains(o)) && t.setEndAt(r, CKEDITOR.POSITION_BEFORE_END), 
                        !r) {
                            var s = t.getEnclosedNode();
                            s && s.type == CKEDITOR.NODE_ELEMENT && s.getName() in o && (t.setStartAt(s, CKEDITOR.POSITION_AFTER_START), 
                            t.setEndAt(s, CKEDITOR.POSITION_BEFORE_END), r = s);
                        }
                        if (r && t.startContainer.type == CKEDITOR.NODE_ELEMENT && t.startContainer.getName() in o && (s = new CKEDITOR.dom.walker(t), 
                        s.evaluator = f, t.startContainer = s.next()), r && t.endContainer.type == CKEDITOR.NODE_ELEMENT && t.endContainer.getName() in o && (s = new CKEDITOR.dom.walker(t), 
                        s.evaluator = f, t.endContainer = s.previous()), r) return function(a) {
                            for (var r = t.startContainer, s = t.endContainer; r && !r.getParent().equals(a); ) r = r.getParent();
                            for (;s && !s.getParent().equals(a); ) s = s.getParent();
                            if (!r || !s) return !1;
                            for (var l = r, r = [], c = !1; !c; ) l.equals(s) && (c = !0), r.push(l), l = l.getNext();
                            if (1 > r.length) return !1;
                            for (l = a.getParents(!0), s = 0; s < l.length; s++) if (l[s].getName && o[l[s].getName()]) {
                                a = l[s];
                                break;
                            }
                            for (var l = n.isIndent ? 1 : -1, s = r[0], r = r[r.length - 1], c = CKEDITOR.plugins.list.listToArray(a, i), d = c[r.getCustomData("listarray_index")].indent, s = s.getCustomData("listarray_index"); s <= r.getCustomData("listarray_index"); s++) if (c[s].indent += l, 
                            0 < l) {
                                var u = c[s].parent;
                                c[s].parent = new CKEDITOR.dom.element(u.getName(), u.getDocument());
                            }
                            for (s = r.getCustomData("listarray_index") + 1; s < c.length && c[s].indent > d; s++) c[s].indent += l;
                            if (r = CKEDITOR.plugins.list.arrayToList(c, i, null, e.config.enterMode, a.getDirection()), 
                            !n.isIndent) {
                                var h;
                                if ((h = a.getParent()) && h.is("li")) for (var f, l = r.listNode.getChildren(), m = [], s = l.count() - 1; 0 <= s; s--) (f = l.getItem(s)) && f.is && f.is("li") && m.push(f);
                            }
                            if (r && r.listNode.replace(a), m && m.length) for (s = 0; s < m.length; s++) {
                                for (f = a = m[s]; (f = f.getNext()) && f.is && f.getName() in o; ) CKEDITOR.env.needsNbspFiller && !a.getFirst(b) && a.append(t.document.createText(" ")), 
                                a.append(f);
                                a.insertAfter(h);
                            }
                            return r && e.fire("contentDomInvalidated"), !0;
                        }(r);
                    }
                    return 0;
                }
                function f(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && e.is("li");
                }
                function b(n) {
                    return e(n) && t(n);
                }
                var e = CKEDITOR.dom.walker.whitespaces(!0), t = CKEDITOR.dom.walker.bookmark(!1, !0), n = CKEDITOR.TRISTATE_DISABLED, i = CKEDITOR.TRISTATE_OFF;
                CKEDITOR.plugins.add("indentlist", {
                    requires: "indent",
                    init: function(e) {
                        function c(e) {
                            t.specificDefinition.apply(this, arguments), this.requiredContent = [ "ul", "ol" ], 
                            e.on("key", function(t) {
                                var n = e.elementPath();
                                if ("wysiwyg" == e.mode && t.data.keyCode == this.indentKey && n) {
                                    var i = this.getContext(n);
                                    !i || this.isIndent && CKEDITOR.plugins.indentList.firstItemInPath(this.context, n, i) || (e.execCommand(this.relatedGlobal), 
                                    t.cancel());
                                }
                            }, this), this.jobs[this.isIndent ? 10 : 30] = {
                                refresh: this.isIndent ? function(e, t) {
                                    var o = this.getContext(t), a = CKEDITOR.plugins.indentList.firstItemInPath(this.context, t, o);
                                    return o && this.isIndent && !a ? i : n;
                                } : function(e, t) {
                                    return !this.getContext(t) || this.isIndent ? n : i;
                                },
                                exec: CKEDITOR.tools.bind(a, this)
                            };
                        }
                        var t = CKEDITOR.plugins.indent;
                        t.registerCommands(e, {
                            indentlist: new c(e, "indentlist", !0),
                            outdentlist: new c(e, "outdentlist")
                        }), CKEDITOR.tools.extend(c.prototype, t.specificDefinition.prototype, {
                            context: {
                                ol: 1,
                                ul: 1
                            }
                        });
                    }
                }), CKEDITOR.plugins.indentList = {}, CKEDITOR.plugins.indentList.firstItemInPath = function(e, t, n) {
                    var i = t.contains(f);
                    return n || (n = t.contains(e)), n && i && i.equals(n.getFirst(f));
                };
            }(), function() {
                function a(e, t, n) {
                    function d(n) {
                        !(s = c[n ? "getFirst" : "getLast"]()) || s.is && s.isBlockBoundary() || !(l = t.root[n ? "getPrevious" : "getNext"](CKEDITOR.dom.walker.invisible(!0))) || l.is && l.isBlockBoundary({
                            br: 1
                        }) || e.document.createElement("br")[n ? "insertBefore" : "insertAfter"](s);
                    }
                    for (var i = CKEDITOR.plugins.list.listToArray(t.root, n), o = [], a = 0; a < t.contents.length; a++) {
                        var r = t.contents[a];
                        (r = r.getAscendant("li", !0)) && !r.getCustomData("list_item_processed") && (o.push(r), 
                        CKEDITOR.dom.element.setMarker(n, r, "list_item_processed", !0));
                    }
                    for (r = null, a = 0; a < o.length; a++) r = o[a].getCustomData("listarray_index"), 
                    i[r].indent = -1;
                    for (a = r + 1; a < i.length; a++) if (i[a].indent > i[a - 1].indent + 1) {
                        for (o = i[a - 1].indent + 1 - i[a].indent, r = i[a].indent; i[a] && i[a].indent >= r; ) i[a].indent += o, 
                        a++;
                        a--;
                    }
                    var s, l, c = CKEDITOR.plugins.list.arrayToList(i, n, null, e.config.enterMode, t.root.getAttribute("dir")).listNode;
                    d(!0), d(), c.replace(t.root), e.fire("contentDomInvalidated");
                }
                function f(e, t) {
                    this.name = e, this.context = this.type = t, this.allowedContent = t + " li", this.requiredContent = t;
                }
                function b(e, t, n, i) {
                    for (var o, a; o = e[i ? "getLast" : "getFirst"](d); ) (a = o.getDirection(1)) !== t.getDirection(1) && o.setAttribute("dir", a), 
                    o.remove(), n ? o[i ? "insertBefore" : "insertAfter"](n) : t.append(o, i);
                }
                function c(e) {
                    function c(t) {
                        var n = e[t ? "getPrevious" : "getNext"](o);
                        n && n.type == CKEDITOR.NODE_ELEMENT && n.is(e.getName()) && (b(e, n, null, !t), 
                        e.remove(), e = n);
                    }
                    c(), c(1);
                }
                function e(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && (e.getName() in CKEDITOR.dtd.$block || e.getName() in CKEDITOR.dtd.$listItem) && CKEDITOR.dtd[e.getName()]["#"];
                }
                function l(e, t, n) {
                    e.fire("saveSnapshot"), n.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);
                    var i = n.extractContents();
                    t.trim(!1, !0);
                    var a = t.createBookmark(), s = new CKEDITOR.dom.elementPath(t.startContainer), l = s.block, s = s.lastElement.getAscendant("li", 1) || l, d = new CKEDITOR.dom.elementPath(n.startContainer), u = d.contains(CKEDITOR.dtd.$listItem), d = d.contains(CKEDITOR.dtd.$list);
                    for (l ? (l = l.getBogus()) && l.remove() : d && (l = d.getPrevious(o)) && r(l) && l.remove(), 
                    (l = i.getLast()) && l.type == CKEDITOR.NODE_ELEMENT && l.is("br") && l.remove(), 
                    (l = t.startContainer.getChild(t.startOffset)) ? i.insertBefore(l) : t.startContainer.append(i), 
                    u && (i = k(u)) && (s.contains(u) ? (b(i, u.getParent(), u), i.remove()) : s.append(i)); n.checkStartOfBlock() && n.checkEndOfBlock() && (d = n.startPath(), 
                    i = d.block); ) i.is("li") && (s = i.getParent(), i.equals(s.getLast(o)) && i.equals(s.getFirst(o)) && (i = s)), 
                    n.moveToPosition(i, CKEDITOR.POSITION_BEFORE_START), i.remove();
                    n = n.clone(), i = e.editable(), n.setEndAt(i, CKEDITOR.POSITION_BEFORE_END), n = new CKEDITOR.dom.walker(n), 
                    n.evaluator = function(e) {
                        return o(e) && !r(e);
                    }, (n = n.next()) && n.type == CKEDITOR.NODE_ELEMENT && n.getName() in CKEDITOR.dtd.$list && c(n), 
                    t.moveToBookmark(a), t.select(), e.fire("saveSnapshot");
                }
                function k(e) {
                    return (e = e.getLast(o)) && e.type == CKEDITOR.NODE_ELEMENT && e.getName() in t ? e : null;
                }
                var t = {
                    ol: 1,
                    ul: 1
                }, n = CKEDITOR.dom.walker.whitespaces(), i = CKEDITOR.dom.walker.bookmark(), o = function(e) {
                    return !(n(e) || i(e));
                }, r = CKEDITOR.dom.walker.bogus();
                CKEDITOR.plugins.list = {
                    listToArray: function(e, n, i, o, a) {
                        if (!t[e.getName()]) return [];
                        o || (o = 0), i || (i = []);
                        for (var r = 0, s = e.getChildCount(); r < s; r++) {
                            var l = e.getChild(r);
                            if (l.type == CKEDITOR.NODE_ELEMENT && l.getName() in CKEDITOR.dtd.$list && CKEDITOR.plugins.list.listToArray(l, n, i, o + 1), 
                            "li" == l.$.nodeName.toLowerCase()) {
                                var c = {
                                    parent: e,
                                    indent: o,
                                    element: l,
                                    contents: []
                                };
                                a ? c.grandparent = a : (c.grandparent = e.getParent(), c.grandparent && "li" == c.grandparent.$.nodeName.toLowerCase() && (c.grandparent = c.grandparent.getParent())), 
                                n && CKEDITOR.dom.element.setMarker(n, l, "listarray_index", i.length), i.push(c);
                                for (var d, u = 0, h = l.getChildCount(); u < h; u++) d = l.getChild(u), d.type == CKEDITOR.NODE_ELEMENT && t[d.getName()] ? CKEDITOR.plugins.list.listToArray(d, n, i, o + 1, c.grandparent) : c.contents.push(d);
                            }
                        }
                        return i;
                    },
                    arrayToList: function(e, n, a, r, s) {
                        if (a || (a = 0), !e || e.length < a + 1) return null;
                        for (var l, c, d, u = e[a].parent.getDocument(), h = new CKEDITOR.dom.documentFragment(u), f = null, m = a, g = Math.max(e[a].indent, 0), E = null, p = r == CKEDITOR.ENTER_P ? "p" : "div"; ;) {
                            var T = e[m];
                            if (l = T.grandparent, c = T.element.getDirection(1), T.indent == g) {
                                for (f && e[m].parent.getName() == f.getName() || (f = e[m].parent.clone(!1, 1), 
                                s && f.setAttribute("dir", s), h.append(f)), E = f.append(T.element.clone(0, 1)), 
                                c != f.getDirection(1) && E.setAttribute("dir", c), l = 0; l < T.contents.length; l++) E.append(T.contents[l].clone(1, 1));
                                m++;
                            } else if (T.indent == Math.max(g, 0) + 1) T = e[m - 1].element.getDirection(1), 
                            m = CKEDITOR.plugins.list.arrayToList(e, null, m, r, T != c ? c : null), !E.getChildCount() && CKEDITOR.env.needsNbspFiller && 7 >= u.$.documentMode && E.append(u.createText(" ")), 
                            E.append(m.listNode), m = m.nextIndex; else {
                                if (-1 != T.indent || a || !l) return null;
                                t[l.getName()] ? (E = T.element.clone(!1, !0), c != l.getDirection(1) && E.setAttribute("dir", c)) : E = new CKEDITOR.dom.documentFragment(u);
                                var C, I, f = l.getDirection(1) != c, O = T.element, D = O.getAttribute("class"), R = O.getAttribute("style"), v = E.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT && (r != CKEDITOR.ENTER_BR || f || R || D), b = T.contents.length;
                                for (l = 0; l < b; l++) if (C = T.contents[l], i(C) && 1 < b) v ? I = C.clone(1, 1) : E.append(C.clone(1, 1)); else if (C.type == CKEDITOR.NODE_ELEMENT && C.isBlockBoundary()) {
                                    f && !C.getDirection() && C.setAttribute("dir", c), d = C;
                                    var K = O.getAttribute("style");
                                    K && d.setAttribute("style", K.replace(/([^;])$/, "$1;") + (d.getAttribute("style") || "")), 
                                    D && C.addClass(D), d = null, I && (E.append(I), I = null), E.append(C.clone(1, 1));
                                } else v ? (d || (d = u.createElement(p), E.append(d), f && d.setAttribute("dir", c)), 
                                R && d.setAttribute("style", R), D && d.setAttribute("class", D), I && (d.append(I), 
                                I = null), d.append(C.clone(1, 1))) : E.append(C.clone(1, 1));
                                I && ((d || E).append(I), I = null), E.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT && m != e.length - 1 && (CKEDITOR.env.needsBrFiller && (c = E.getLast()) && c.type == CKEDITOR.NODE_ELEMENT && c.is("br") && c.remove(), 
                                (c = E.getLast(o)) && c.type == CKEDITOR.NODE_ELEMENT && c.is(CKEDITOR.dtd.$block) || E.append(u.createElement("br"))), 
                                c = E.$.nodeName.toLowerCase(), "div" != c && "p" != c || E.appendBogus(), h.append(E), 
                                f = null, m++;
                            }
                            if (d = null, e.length <= m || Math.max(e[m].indent, 0) < g) break;
                        }
                        if (n) for (e = h.getFirst(); e; ) {
                            if (e.type == CKEDITOR.NODE_ELEMENT && (CKEDITOR.dom.element.clearMarkers(n, e), 
                            e.getName() in CKEDITOR.dtd.$listItem && (a = e, u = s = r = void 0, r = a.getDirection()))) {
                                for (s = a.getParent(); s && !(u = s.getDirection()); ) s = s.getParent();
                                r == u && a.removeAttribute("dir");
                            }
                            e = e.getNextSourceNode();
                        }
                        return {
                            listNode: h,
                            nextIndex: m
                        };
                    }
                };
                var s = /^h[1-6]$/, d = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);
                f.prototype = {
                    exec: function(e) {
                        this.refresh(e, e.elementPath());
                        var n = e.config, i = e.getSelection(), r = i && i.getRanges();
                        if (this.state == CKEDITOR.TRISTATE_OFF) {
                            var l = e.editable();
                            if (l.getFirst(o)) {
                                var d = 1 == r.length && r[0];
                                (n = d && d.getEnclosedNode()) && n.is && this.type == n.getName() && this.setState(CKEDITOR.TRISTATE_ON);
                            } else n.enterMode == CKEDITOR.ENTER_BR ? l.appendBogus() : r[0].fixBlock(1, n.enterMode == CKEDITOR.ENTER_P ? "p" : "div"), 
                            i.selectRanges(r);
                        }
                        for (var n = i.createBookmarks(!0), l = [], u = {}, r = r.createIterator(), h = 0; (d = r.getNextRange()) && ++h; ) {
                            var f = d.getBoundaryNodes(), m = f.startNode, g = f.endNode;
                            for (m.type == CKEDITOR.NODE_ELEMENT && "td" == m.getName() && d.setStartAt(f.startNode, CKEDITOR.POSITION_AFTER_START), 
                            g.type == CKEDITOR.NODE_ELEMENT && "td" == g.getName() && d.setEndAt(f.endNode, CKEDITOR.POSITION_BEFORE_END), 
                            d = d.createIterator(), d.forceBrBreak = this.state == CKEDITOR.TRISTATE_OFF; f = d.getNextParagraph(); ) if (!f.getCustomData("list_block")) {
                                CKEDITOR.dom.element.setMarker(u, f, "list_block", 1);
                                for (var E, p = e.elementPath(f), m = p.elements, g = 0, p = p.blockLimit, T = m.length - 1; 0 <= T && (E = m[T]); T--) if (t[E.getName()] && p.contains(E)) {
                                    p.removeCustomData("list_group_object_" + h), (m = E.getCustomData("list_group_object")) ? m.contents.push(f) : (m = {
                                        root: E,
                                        contents: [ f ]
                                    }, l.push(m), CKEDITOR.dom.element.setMarker(u, E, "list_group_object", m)), g = 1;
                                    break;
                                }
                                g || (g = p, g.getCustomData("list_group_object_" + h) ? g.getCustomData("list_group_object_" + h).contents.push(f) : (m = {
                                    root: g,
                                    contents: [ f ]
                                }, CKEDITOR.dom.element.setMarker(u, g, "list_group_object_" + h, m), l.push(m)));
                            }
                        }
                        for (E = []; 0 < l.length; ) if (m = l.shift(), this.state == CKEDITOR.TRISTATE_OFF) if (t[m.root.getName()]) {
                            for (r = e, h = m, m = u, d = E, g = CKEDITOR.plugins.list.listToArray(h.root, m), 
                            p = [], f = 0; f < h.contents.length; f++) T = h.contents[f], (T = T.getAscendant("li", !0)) && !T.getCustomData("list_item_processed") && (p.push(T), 
                            CKEDITOR.dom.element.setMarker(m, T, "list_item_processed", !0));
                            for (var T = h.root.getDocument(), C = void 0, I = void 0, f = 0; f < p.length; f++) {
                                var O = p[f].getCustomData("listarray_index"), C = g[O].parent;
                                C.is(this.type) || (I = T.createElement(this.type), C.copyAttributes(I, {
                                    start: 1,
                                    type: 1
                                }), I.removeStyle("list-style-type"), g[O].parent = I);
                            }
                            for (m = CKEDITOR.plugins.list.arrayToList(g, m, null, r.config.enterMode), g = void 0, 
                            p = m.listNode.getChildCount(), f = 0; f < p && (g = m.listNode.getChild(f)); f++) g.getName() == this.type && d.push(g);
                            m.listNode.replace(h.root), r.fire("contentDomInvalidated");
                        } else {
                            for (g = e, d = m, f = E, p = d.contents, r = d.root.getDocument(), h = [], 1 == p.length && p[0].equals(d.root) && (m = r.createElement("div"), 
                            p[0].moveChildren && p[0].moveChildren(m), p[0].append(m), p[0] = m), d = d.contents[0].getParent(), 
                            T = 0; T < p.length; T++) d = d.getCommonAncestor(p[T].getParent());
                            for (C = g.config.useComputedState, g = m = void 0, C = void 0 === C || C, T = 0; T < p.length; T++) for (I = p[T]; O = I.getParent(); ) {
                                if (O.equals(d)) {
                                    h.push(I), !g && I.getDirection() && (g = 1), I = I.getDirection(C), null !== m && (m = m && m != I ? null : I);
                                    break;
                                }
                                I = O;
                            }
                            if (!(1 > h.length)) {
                                for (p = h[h.length - 1].getNext(), T = r.createElement(this.type), f.push(T), C = f = void 0; h.length; ) f = h.shift(), 
                                C = r.createElement("li"), I = f, I.is("pre") || s.test(I.getName()) || "false" == I.getAttribute("contenteditable") ? f.appendTo(C) : (f.copyAttributes(C), 
                                m && f.getDirection() && (C.removeStyle("direction"), C.removeAttribute("dir")), 
                                f.moveChildren(C), f.remove()), C.appendTo(T);
                                m && g && T.setAttribute("dir", m), p ? T.insertBefore(p) : T.appendTo(d);
                            }
                        } else this.state == CKEDITOR.TRISTATE_ON && t[m.root.getName()] && a.call(this, e, m, u);
                        for (T = 0; T < E.length; T++) c(E[T]);
                        CKEDITOR.dom.element.clearAllMarkers(u), i.selectBookmarks(n), e.focus();
                    },
                    refresh: function(e, n) {
                        var i = n.contains(t, 1), o = n.blockLimit || n.root;
                        i && o.contains(i) ? this.setState(i.is(this.type) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF) : this.setState(CKEDITOR.TRISTATE_OFF);
                    }
                }, CKEDITOR.plugins.add("list", {
                    requires: "indentlist",
                    init: function(n) {
                        n.blockless || (n.addCommand("numberedlist", new f("numberedlist", "ol")), n.addCommand("bulletedlist", new f("bulletedlist", "ul")), 
                        n.ui.addButton && (n.ui.addButton("NumberedList", {
                            label: n.lang.list.numberedlist,
                            command: "numberedlist",
                            directional: !0,
                            toolbar: "list,10"
                        }), n.ui.addButton("BulletedList", {
                            label: n.lang.list.bulletedlist,
                            command: "bulletedlist",
                            directional: !0,
                            toolbar: "list,20"
                        })), n.on("key", function(i) {
                            var a, s = i.data.domEvent.getKey();
                            if ("wysiwyg" == n.mode && s in {
                                8: 1,
                                46: 1
                            }) {
                                var c = n.getSelection().getRanges()[0], d = c && c.startPath();
                                if (c && c.collapsed) {
                                    var u = 8 == s, h = n.editable(), f = new CKEDITOR.dom.walker(c.clone());
                                    if (f.evaluator = function(e) {
                                        return o(e) && !r(e);
                                    }, f.guard = function(e, t) {
                                        return !(t && e.type == CKEDITOR.NODE_ELEMENT && e.is("table"));
                                    }, s = c.clone(), u) {
                                        var m;
                                        if ((m = d.contains(t)) && c.checkBoundaryOfElement(m, CKEDITOR.START) && (m = m.getParent()) && m.is("li") && (m = k(m)) ? (a = m, 
                                        m = m.getPrevious(o), s.moveToPosition(m && r(m) ? m : a, CKEDITOR.POSITION_BEFORE_START)) : (f.range.setStartAt(h, CKEDITOR.POSITION_AFTER_START), 
                                        f.range.setEnd(c.startContainer, c.startOffset), (m = f.previous()) && m.type == CKEDITOR.NODE_ELEMENT && (m.getName() in t || m.is("li")) && (m.is("li") || (f.range.selectNodeContents(m), 
                                        f.reset(), f.evaluator = e, m = f.previous()), a = m, s.moveToElementEditEnd(a), 
                                        s.moveToPosition(s.endPath().block, CKEDITOR.POSITION_BEFORE_END))), a) l(n, s, c), 
                                        i.cancel(); else {
                                            var g = d.contains(t);
                                            g && c.checkBoundaryOfElement(g, CKEDITOR.START) && (a = g.getFirst(o), c.checkBoundaryOfElement(a, CKEDITOR.START) && (m = g.getPrevious(o), 
                                            k(a) ? m && (c.moveToElementEditEnd(m), c.select()) : n.execCommand("outdent"), 
                                            i.cancel()));
                                        }
                                    } else if (a = d.contains("li")) {
                                        if (f.range.setEndAt(h, CKEDITOR.POSITION_BEFORE_END), u = (h = a.getLast(o)) && e(h) ? h : a, 
                                        d = 0, (m = f.next()) && m.type == CKEDITOR.NODE_ELEMENT && m.getName() in t && m.equals(h) ? (d = 1, 
                                        m = f.next()) : c.checkBoundaryOfElement(u, CKEDITOR.END) && (d = 2), d && m) {
                                            if (c = c.clone(), c.moveToElementEditStart(m), 1 == d && (s.optimize(), !s.startContainer.equals(a))) {
                                                for (a = s.startContainer; a.is(CKEDITOR.dtd.$inline); ) g = a, a = a.getParent();
                                                g && s.moveToPosition(g, CKEDITOR.POSITION_AFTER_END);
                                            }
                                            2 == d && (s.moveToPosition(s.endPath().block, CKEDITOR.POSITION_BEFORE_END), c.endPath().block && c.moveToPosition(c.endPath().block, CKEDITOR.POSITION_AFTER_START)), 
                                            l(n, s, c), i.cancel();
                                        }
                                    } else f.range.setEndAt(h, CKEDITOR.POSITION_BEFORE_END), (m = f.next()) && m.type == CKEDITOR.NODE_ELEMENT && m.is(t) && (m = m.getFirst(o), 
                                    d.block && c.checkStartOfBlock() && c.checkEndOfBlock() ? (d.block.remove(), c.moveToElementEditStart(m), 
                                    c.select()) : k(m) ? (c.moveToElementEditStart(m), c.select()) : (c = c.clone(), 
                                    c.moveToElementEditStart(m), l(n, s, c)), i.cancel());
                                    setTimeout(function() {
                                        n.selectionChange(1);
                                    });
                                }
                            }
                        }));
                    }
                });
            }(), function() {
                function a(e, t, n) {
                    if (n = e.config.forceEnterMode || n, "wysiwyg" == e.mode) {
                        t || (t = e.activeEnterMode);
                        var a = e.elementPath();
                        a && !a.isContextFor("p") && (t = CKEDITOR.ENTER_BR, n = 1), e.fire("saveSnapshot"), 
                        t == CKEDITOR.ENTER_BR ? i(e, t, null, n) : o(e, t, null, n), e.fire("saveSnapshot");
                    }
                }
                function f(e) {
                    e = e.getSelection().getRanges(!0);
                    for (var t = e.length - 1; 0 < t; t--) e[t].deleteContents();
                    return e[0];
                }
                function b(e) {
                    var t = e.startContainer.getAscendant(function(e) {
                        return e.type == CKEDITOR.NODE_ELEMENT && "true" == e.getAttribute("contenteditable");
                    }, !0);
                    return e.root.equals(t) ? e : (t = new CKEDITOR.dom.range(t), t.moveToRange(e), 
                    t);
                }
                CKEDITOR.plugins.add("enterkey", {
                    init: function(e) {
                        e.addCommand("enter", {
                            modes: {
                                wysiwyg: 1
                            },
                            editorFocus: !1,
                            exec: function(e) {
                                a(e);
                            }
                        }), e.addCommand("shiftEnter", {
                            modes: {
                                wysiwyg: 1
                            },
                            editorFocus: !1,
                            exec: function(e) {
                                a(e, e.activeShiftEnterMode, 1);
                            }
                        }), e.setKeystroke([ [ 13, "enter" ], [ CKEDITOR.SHIFT + 13, "shiftEnter" ] ]);
                    }
                });
                var e = CKEDITOR.dom.walker.whitespaces(), t = CKEDITOR.dom.walker.bookmark();
                CKEDITOR.plugins.enterkey = {
                    enterBlock: function(n, o, a, s) {
                        if (a = a || f(n)) {
                            a = b(a);
                            var l, c = a.document, d = a.checkStartOfBlock(), u = a.checkEndOfBlock(), h = n.elementPath(a.startContainer), m = h.block, g = o == CKEDITOR.ENTER_DIV ? "div" : "p";
                            if (d && u) {
                                if (m && (m.is("li") || m.getParent().is("li"))) {
                                    m.is("li") || (m = m.getParent()), a = m.getParent(), l = a.getParent(), s = !m.hasPrevious();
                                    var E = !m.hasNext(), g = n.getSelection(), p = g.createBookmarks(), d = m.getDirection(1), u = m.getAttribute("class"), T = m.getAttribute("style"), C = l.getDirection(1) != d;
                                    if (n = n.enterMode != CKEDITOR.ENTER_BR || C || T || u, l.is("li")) s || E ? (s && E && a.remove(), 
                                    m[E ? "insertAfter" : "insertBefore"](l)) : m.breakParent(l); else {
                                        if (n) h.block.is("li") ? (l = c.createElement(o == CKEDITOR.ENTER_P ? "p" : "div"), 
                                        C && l.setAttribute("dir", d), T && l.setAttribute("style", T), u && l.setAttribute("class", u), 
                                        m.moveChildren(l)) : l = h.block, s || E ? l[s ? "insertBefore" : "insertAfter"](a) : (m.breakParent(a), 
                                        l.insertAfter(a)); else if (m.appendBogus(!0), s || E) for (;c = m[s ? "getFirst" : "getLast"](); ) c[s ? "insertBefore" : "insertAfter"](a); else for (m.breakParent(a); c = m.getLast(); ) c.insertAfter(a);
                                        m.remove();
                                    }
                                    return void g.selectBookmarks(p);
                                }
                                if (m && m.getParent().is("blockquote")) return m.breakParent(m.getParent()), m.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1)) || m.getPrevious().remove(), 
                                m.getNext().getFirst(CKEDITOR.dom.walker.invisible(1)) || m.getNext().remove(), 
                                a.moveToElementEditStart(m), void a.select();
                            } else if (m && m.is("pre") && !u) return void i(n, o, a, s);
                            if (d = a.splitBlock(g)) {
                                if (o = d.previousBlock, m = d.nextBlock, h = d.wasStartOfBlock, n = d.wasEndOfBlock, 
                                m ? (p = m.getParent(), p.is("li") && (m.breakParent(p), m.move(m.getNext(), 1))) : o && (p = o.getParent()) && p.is("li") && (o.breakParent(p), 
                                p = o.getNext(), a.moveToElementEditStart(p), o.move(o.getPrevious())), h || n) {
                                    if (o ? (o.is("li") || !r.test(o.getName()) && !o.is("pre")) && (l = o.clone()) : m && (l = m.clone()), 
                                    l ? s && !l.is("li") && l.renameNode(g) : p && p.is("li") ? l = p : (l = c.createElement(g), 
                                    o && (E = o.getDirection()) && l.setAttribute("dir", E)), c = d.elementPath) for (s = 0, 
                                    g = c.elements.length; s < g && (p = c.elements[s], !p.equals(c.block) && !p.equals(c.blockLimit)); s++) CKEDITOR.dtd.$removeEmpty[p.getName()] && (p = p.clone(), 
                                    l.moveChildren(p), l.append(p));
                                    l.appendBogus(), l.getParent() || a.insertNode(l), l.is("li") && l.removeAttribute("value"), 
                                    !CKEDITOR.env.ie || !h || n && o.getChildCount() || (a.moveToElementEditStart(n ? o : l), 
                                    a.select()), a.moveToElementEditStart(h && !n ? m : l);
                                } else m.is("li") && (l = a.clone(), l.selectNodeContents(m), l = new CKEDITOR.dom.walker(l), 
                                l.evaluator = function(n) {
                                    return !(t(n) || e(n) || n.type == CKEDITOR.NODE_ELEMENT && n.getName() in CKEDITOR.dtd.$inline && !(n.getName() in CKEDITOR.dtd.$empty));
                                }, (p = l.next()) && p.type == CKEDITOR.NODE_ELEMENT && p.is("ul", "ol") && (CKEDITOR.env.needsBrFiller ? c.createElement("br") : c.createText(" ")).insertBefore(p)), 
                                m && a.moveToElementEditStart(m);
                                a.select(), a.scrollIntoView();
                            }
                        }
                    },
                    enterBr: function(e, t, n, i) {
                        if (n = n || f(e)) {
                            var a = n.document, s = n.checkEndOfBlock(), l = new CKEDITOR.dom.elementPath(e.getSelection().getStartElement()), c = l.block, d = c && l.block.getName();
                            i || "li" != d ? (!i && s && r.test(d) ? (s = c.getDirection()) ? (a = a.createElement("div"), 
                            a.setAttribute("dir", s), a.insertAfter(c), n.setStart(a, 0)) : (a.createElement("br").insertAfter(c), 
                            CKEDITOR.env.gecko && a.createText("").insertAfter(c), n.setStartAt(c.getNext(), CKEDITOR.env.ie ? CKEDITOR.POSITION_BEFORE_START : CKEDITOR.POSITION_AFTER_START)) : (e = "pre" == d && CKEDITOR.env.ie && 8 > CKEDITOR.env.version ? a.createText("\r") : a.createElement("br"), 
                            n.deleteContents(), n.insertNode(e), CKEDITOR.env.needsBrFiller ? (a.createText("\ufeff").insertAfter(e), 
                            s && (c || l.blockLimit).appendBogus(), e.getNext().$.nodeValue = "", n.setStartAt(e.getNext(), CKEDITOR.POSITION_AFTER_START)) : n.setStartAt(e, CKEDITOR.POSITION_AFTER_END)), 
                            n.collapse(!0), n.select(), n.scrollIntoView()) : o(e, t, n, i);
                        }
                    }
                };
                var n = CKEDITOR.plugins.enterkey, i = n.enterBr, o = n.enterBlock, r = /^h[1-6]$/;
            }(), function() {
                function a(e, t) {
                    var n = {}, i = [], o = {
                        nbsp: " ",
                        shy: "­",
                        gt: ">",
                        lt: "<",
                        amp: "&",
                        apos: "'",
                        quot: '"'
                    };
                    if (e = e.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g, function(e, a) {
                        var r = t ? "&" + a + ";" : o[a];
                        return n[r] = t ? o[a] : "&" + a + ";", i.push(r), "";
                    }), !t && e) {
                        e = e.split(",");
                        var a, r = document.createElement("div");
                        for (r.innerHTML = "&" + e.join(";&") + ";", a = r.innerHTML, r = null, r = 0; r < a.length; r++) {
                            var s = a.charAt(r);
                            n[s] = "&" + e[r] + ";", i.push(s);
                        }
                    }
                    return n.regex = i.join(t ? "|" : ""), n;
                }
                CKEDITOR.plugins.add("entities", {
                    afterInit: function(e) {
                        function b(e) {
                            return r[e];
                        }
                        function c(e) {
                            return "force" != t.entities_processNumerical && i[e] ? i[e] : "&#" + e.charCodeAt(0) + ";";
                        }
                        var t = e.config;
                        if (e = (e = e.dataProcessor) && e.htmlFilter) {
                            var n = [];
                            !1 !== t.basicEntities && n.push("nbsp,gt,lt,amp"), t.entities && (n.length && n.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"), 
                            t.entities_latin && n.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"), 
                            t.entities_greek && n.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"), 
                            t.entities_additional && n.push(t.entities_additional));
                            var i = a(n.join(",")), o = i.regex ? "[" + i.regex + "]" : "a^";
                            delete i.regex, t.entities && t.entities_processNumerical && (o = "[^ -~]|" + o);
                            var o = new RegExp(o, "g"), r = a("nbsp,gt,lt,amp,shy", !0), s = new RegExp(r.regex, "g");
                            e.addRules({
                                text: function(e) {
                                    return e.replace(s, b).replace(o, c);
                                }
                            }, {
                                applyToAll: !0,
                                excludeNestedEditable: !0
                            });
                        }
                    }
                });
            }(), CKEDITOR.config.basicEntities = !0, CKEDITOR.config.entities = !0, CKEDITOR.config.entities_latin = !0, 
            CKEDITOR.config.entities_greek = !0, CKEDITOR.config.entities_additional = "#39", 
            CKEDITOR.plugins.add("popup"), CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
                popup: function(e, t, n, i) {
                    t = t || "80%", n = n || "70%", "string" == typeof t && 1 < t.length && "%" == t.substr(t.length - 1, 1) && (t = parseInt(window.screen.width * parseInt(t, 10) / 100, 10)), 
                    "string" == typeof n && 1 < n.length && "%" == n.substr(n.length - 1, 1) && (n = parseInt(window.screen.height * parseInt(n, 10) / 100, 10)), 
                    640 > t && (t = 640), 420 > n && (n = 420);
                    var o = parseInt((window.screen.height - n) / 2, 10), a = parseInt((window.screen.width - t) / 2, 10);
                    i = (i || "location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes") + ",width=" + t + ",height=" + n + ",top=" + o + ",left=" + a;
                    var r = window.open("", null, i, !0);
                    if (!r) return !1;
                    try {
                        -1 == navigator.userAgent.toLowerCase().indexOf(" chrome/") && (r.moveTo(a, o), 
                        r.resizeTo(t, n)), r.focus(), r.location.href = e;
                    } catch (t) {
                        window.open(e, null, i, !0);
                    }
                    return !0;
                }
            }), function() {
                function a(e, t) {
                    var n = [];
                    if (!t) return e;
                    for (var i in t) n.push(i + "=" + encodeURIComponent(t[i]));
                    return e + (-1 != e.indexOf("?") ? "&" : "?") + n.join("&");
                }
                function f(e) {
                    return e += "", e.charAt(0).toUpperCase() + e.substr(1);
                }
                function b() {
                    var e = this.getDialog(), t = e.getParentEditor();
                    t._.filebrowserSe = this;
                    var n = t.config["filebrowser" + f(e.getName()) + "WindowWidth"] || t.config.filebrowserWindowWidth || "80%", e = t.config["filebrowser" + f(e.getName()) + "WindowHeight"] || t.config.filebrowserWindowHeight || "70%", i = this.filebrowser.params || {};
                    i.CKEditor = t.name, i.CKEditorFuncNum = t._.filebrowserFn, i.langCode || (i.langCode = t.langCode), 
                    i = a(this.filebrowser.url, i), t.popup(i, n, e, t.config.filebrowserWindowFeatures || t.config.fileBrowserWindowFeatures);
                }
                function c() {
                    var e = this.getDialog();
                    return e.getParentEditor()._.filebrowserSe = this, !(!e.getContentElement(this.for[0], this.for[1]).getInputElement().$.value || !e.getContentElement(this.for[0], this.for[1]).getAction());
                }
                function e(e, t, n) {
                    var i = n.params || {};
                    i.CKEditor = e.name, i.CKEditorFuncNum = e._.filebrowserFn, i.langCode || (i.langCode = e.langCode), 
                    t.action = a(n.url, i), t.filebrowser = n;
                }
                function l(t, n, i, o) {
                    if (o && o.length) for (var a, r = o.length; r--; ) if (a = o[r], "hbox" != a.type && "vbox" != a.type && "fieldset" != a.type || l(t, n, i, a.children), 
                    a.filebrowser) if ("string" == typeof a.filebrowser && (a.filebrowser = {
                        action: "fileButton" == a.type ? "QuickUpload" : "Browse",
                        target: a.filebrowser
                    }), "Browse" == a.filebrowser.action) {
                        var s = a.filebrowser.url;
                        void 0 === s && void 0 === (s = t.config["filebrowser" + f(n) + "BrowseUrl"]) && (s = t.config.filebrowserBrowseUrl), 
                        s && (a.onClick = b, a.filebrowser.url = s, a.hidden = !1);
                    } else if ("QuickUpload" == a.filebrowser.action && a.for && (s = a.filebrowser.url, 
                    void 0 === s && void 0 === (s = t.config["filebrowser" + f(n) + "UploadUrl"]) && (s = t.config.filebrowserUploadUrl), 
                    s)) {
                        var d = a.onClick;
                        a.onClick = function(e) {
                            var t = e.sender;
                            return (!d || !1 !== d.call(t, e)) && (!!c.call(t, e) && (e = t.getDialog().getContentElement(this.for[0], this.for[1]).getInputElement(), 
                            (t = new CKEDITOR.dom.element(e.$.form)) && ((e = t.$.elements.ckCsrfToken) ? e = new CKEDITOR.dom.element(e) : (e = new CKEDITOR.dom.element("input"), 
                            e.setAttributes({
                                name: "ckCsrfToken",
                                type: "hidden"
                            }), t.append(e)), e.setAttribute("value", CKEDITOR.tools.getCsrfToken())), !0));
                        }, a.filebrowser.url = s, a.hidden = !1, e(t, i.getContents(a.for[0]).get(a.for[1]), a.filebrowser);
                    }
                }
                function k(e, t, n) {
                    if (-1 !== n.indexOf(";")) {
                        n = n.split(";");
                        for (var i = 0; i < n.length; i++) if (k(e, t, n[i])) return !0;
                        return !1;
                    }
                    return (e = e.getContents(t).get(n).filebrowser) && e.url;
                }
                function d(e, t) {
                    var n = this._.filebrowserSe.getDialog(), i = this._.filebrowserSe.for, o = this._.filebrowserSe.filebrowser.onSelect;
                    i && n.getContentElement(i[0], i[1]).reset(), "function" == typeof t && !1 === t.call(this._.filebrowserSe) || o && !1 === o.call(this._.filebrowserSe, e, t) || ("string" == typeof t && t && alert(t), 
                    e && (i = this._.filebrowserSe, n = i.getDialog(), i = i.filebrowser.target || null) && (i = i.split(":"), 
                    (o = n.getContentElement(i[0], i[1])) && (o.setValue(e), n.selectPage(i[0]))));
                }
                CKEDITOR.plugins.add("filebrowser", {
                    requires: "popup",
                    init: function(e) {
                        e._.filebrowserFn = CKEDITOR.tools.addFunction(d, e), e.on("destroy", function() {
                            CKEDITOR.tools.removeFunction(this._.filebrowserFn);
                        });
                    }
                }), CKEDITOR.on("dialogDefinition", function(e) {
                    if (e.editor.plugins.filebrowser) for (var t, n = e.data.definition, i = 0; i < n.contents.length; ++i) (t = n.contents[i]) && (l(e.editor, e.data.name, n, t.elements), 
                    t.hidden && t.filebrowser && (t.hidden = !k(n, t.id, t.filebrowser)));
                });
            }(), function() {
                function a(n) {
                    var i = n.config, o = n.fire("uiSpace", {
                        space: "top",
                        html: ""
                    }).html, a = function() {
                        function d(e, n, i) {
                            s.setStyle(n, t(i)), s.setStyle("position", e);
                        }
                        function g(e) {
                            var t = r.getDocumentPosition();
                            switch (e) {
                              case "top":
                                d("absolute", "top", t.y - h - E);
                                break;

                              case "pin":
                                d("fixed", "top", T);
                                break;

                              case "bottom":
                                d("absolute", "top", t.y + (c.height || c.bottom - c.top) + E);
                            }
                            o = e;
                        }
                        var o, r, l, c, u, h, f, m = i.floatSpaceDockedOffsetX || 0, E = i.floatSpaceDockedOffsetY || 0, p = i.floatSpacePinnedOffsetX || 0, T = i.floatSpacePinnedOffsetY || 0;
                        return function(d) {
                            if (r = n.editable()) {
                                var T = d && "focus" == d.name;
                                T && s.show(), n.fire("floatingSpaceLayout", {
                                    show: T
                                }), s.removeStyle("left"), s.removeStyle("right"), l = s.getClientRect(), c = r.getClientRect(), 
                                u = e.getViewPaneSize(), h = l.height, f = "pageXOffset" in e.$ ? e.$.pageXOffset : CKEDITOR.document.$.documentElement.scrollLeft, 
                                o ? (g(h + E <= c.top ? "top" : h + E > u.height - c.bottom ? "pin" : "bottom"), 
                                d = u.width / 2, d = i.floatSpacePreferRight ? "right" : 0 < c.left && c.right < u.width && c.width > l.width ? "rtl" == i.contentsLangDirection ? "right" : "left" : d - c.left > c.right - d ? "left" : "right", 
                                l.width > u.width ? (d = "left", T = 0) : (T = "left" == d ? 0 < c.left ? c.left : 0 : c.right < u.width ? u.width - c.right : 0) + l.width > u.width && (d = "left" == d ? "right" : "left", 
                                T = 0), s.setStyle(d, t(("pin" == o ? p : m) + T + ("pin" == o ? 0 : "left" == d ? f : -f)))) : (o = "pin", 
                                g("pin"), a(d));
                            }
                        };
                    }();
                    if (o) {
                        var r = new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} ' + CKEDITOR.env.cssClass + '" dir="{langDir}" title="' + (CKEDITOR.env.gecko ? " " : "") + '" lang="{langCode}" role="application" style="{style}"' + (n.title ? ' aria-labelledby="cke_{name}_arialbl"' : " ") + ">" + (n.title ? '<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>' : " ") + '<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'), s = CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(r.output({
                            content: o,
                            id: n.id,
                            langDir: n.lang.dir,
                            langCode: n.langCode,
                            name: n.name,
                            style: "display:none;z-index:" + (i.baseFloatZIndex - 1),
                            topId: n.ui.spaceId("top"),
                            voiceLabel: n.title
                        }))), l = CKEDITOR.tools.eventsBuffer(500, a), c = CKEDITOR.tools.eventsBuffer(100, a);
                        s.unselectable(), s.on("mousedown", function(e) {
                            e = e.data, e.getTarget().hasAscendant("a", 1) || e.preventDefault();
                        }), n.on("focus", function(t) {
                            a(t), n.on("change", l.input), e.on("scroll", c.input), e.on("resize", c.input);
                        }), n.on("blur", function() {
                            s.hide(), n.removeListener("change", l.input), e.removeListener("scroll", c.input), 
                            e.removeListener("resize", c.input);
                        }), n.on("destroy", function() {
                            e.removeListener("scroll", c.input), e.removeListener("resize", c.input), s.clearCustomData(), 
                            s.remove();
                        }), n.focusManager.hasFocus && s.show(), n.focusManager.add(s, 1);
                    }
                }
                var e = CKEDITOR.document.getWindow(), t = CKEDITOR.tools.cssLength;
                CKEDITOR.plugins.add("floatingspace", {
                    init: function(e) {
                        e.on("loaded", function() {
                            a(this);
                        }, null, null, 20);
                    }
                });
            }(), CKEDITOR.plugins.add("listblock", {
                requires: "panel",
                onLoad: function() {
                    var e = CKEDITOR.addTemplate("panel-list", '<ul role="presentation" class="cke_panel_list">{items}</ul>'), t = CKEDITOR.addTemplate("panel-list-item", '<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'), n = CKEDITOR.addTemplate("panel-list-group", '<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'), i = /\'/g;
                    CKEDITOR.ui.panel.prototype.addListBlock = function(e, t) {
                        return this.addBlock(e, new CKEDITOR.ui.listBlock(this.getHolderElement(), t));
                    }, CKEDITOR.ui.listBlock = CKEDITOR.tools.createClass({
                        base: CKEDITOR.ui.panel.block,
                        $: function(e, t) {
                            t = t || {};
                            var n = t.attributes || (t.attributes = {});
                            (this.multiSelect = !!t.multiSelect) && (n["aria-multiselectable"] = !0), !n.role && (n.role = "listbox"), 
                            this.base.apply(this, arguments), this.element.setAttribute("role", n.role), n = this.keys, 
                            n[40] = "next", n[9] = "next", n[38] = "prev", n[CKEDITOR.SHIFT + 9] = "prev", n[32] = CKEDITOR.env.ie ? "mouseup" : "click", 
                            CKEDITOR.env.ie && (n[13] = "mouseup"), this._.pendingHtml = [], this._.pendingList = [], 
                            this._.items = {}, this._.groups = {};
                        },
                        _: {
                            close: function() {
                                if (this._.started) {
                                    var t = e.output({
                                        items: this._.pendingList.join("")
                                    });
                                    this._.pendingList = [], this._.pendingHtml.push(t), delete this._.started;
                                }
                            },
                            getClick: function() {
                                return this._.click || (this._.click = CKEDITOR.tools.addFunction(function(e) {
                                    var t = this.toggle(e);
                                    this.onClick && this.onClick(e, t);
                                }, this)), this._.click;
                            }
                        },
                        proto: {
                            add: function(e, n, o) {
                                var a = CKEDITOR.tools.getNextId();
                                this._.started || (this._.started = 1, this._.size = this._.size || 0), this._.items[e] = a;
                                var r;
                                r = CKEDITOR.tools.htmlEncodeAttr(e).replace(i, "\\'"), e = {
                                    id: a,
                                    val: r,
                                    onclick: CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : "onclick",
                                    clickFn: this._.getClick(),
                                    title: CKEDITOR.tools.htmlEncodeAttr(o || e),
                                    text: n || e
                                }, this._.pendingList.push(t.output(e));
                            },
                            startGroup: function(e) {
                                this._.close();
                                var t = CKEDITOR.tools.getNextId();
                                this._.groups[e] = t, this._.pendingHtml.push(n.output({
                                    id: t,
                                    label: e
                                }));
                            },
                            commit: function() {
                                this._.close(), this.element.appendHtml(this._.pendingHtml.join("")), delete this._.size, 
                                this._.pendingHtml = [];
                            },
                            toggle: function(e) {
                                var t = this.isMarked(e);
                                return t ? this.unmark(e) : this.mark(e), !t;
                            },
                            hideGroup: function(e) {
                                var t = (e = this.element.getDocument().getById(this._.groups[e])) && e.getNext();
                                e && (e.setStyle("display", "none"), t && "ul" == t.getName() && t.setStyle("display", "none"));
                            },
                            hideItem: function(e) {
                                this.element.getDocument().getById(this._.items[e]).setStyle("display", "none");
                            },
                            showAll: function() {
                                var e, t = this._.items, n = this._.groups, i = this.element.getDocument();
                                for (e in t) i.getById(t[e]).setStyle("display", "");
                                for (var o in n) t = i.getById(n[o]), e = t.getNext(), t.setStyle("display", ""), 
                                e && "ul" == e.getName() && e.setStyle("display", "");
                            },
                            mark: function(e) {
                                this.multiSelect || this.unmarkAll(), e = this._.items[e];
                                var t = this.element.getDocument().getById(e);
                                t.addClass("cke_selected"), this.element.getDocument().getById(e + "_option").setAttribute("aria-selected", !0), 
                                this.onMark && this.onMark(t);
                            },
                            markFirstDisplayed: function() {
                                var e = this;
                                this._.markFirstDisplayed(function() {
                                    e.multiSelect || e.unmarkAll();
                                });
                            },
                            unmark: function(e) {
                                var t = this.element.getDocument();
                                e = this._.items[e];
                                var n = t.getById(e);
                                n.removeClass("cke_selected"), t.getById(e + "_option").removeAttribute("aria-selected"), 
                                this.onUnmark && this.onUnmark(n);
                            },
                            unmarkAll: function() {
                                var e, t = this._.items, n = this.element.getDocument();
                                for (e in t) {
                                    var i = t[e];
                                    n.getById(i).removeClass("cke_selected"), n.getById(i + "_option").removeAttribute("aria-selected");
                                }
                                this.onUnmark && this.onUnmark();
                            },
                            isMarked: function(e) {
                                return this.element.getDocument().getById(this._.items[e]).hasClass("cke_selected");
                            },
                            focus: function(e) {
                                this._.focusIndex = -1;
                                var t, n = this.element.getElementsByTag("a"), i = -1;
                                if (e) {
                                    for (t = this.element.getDocument().getById(this._.items[e]).getFirst(); e = n.getItem(++i); ) if (e.equals(t)) {
                                        this._.focusIndex = i;
                                        break;
                                    }
                                } else this.element.focus();
                                t && setTimeout(function() {
                                    t.focus();
                                }, 0);
                            }
                        }
                    });
                }
            }), CKEDITOR.plugins.add("richcombo", {
                requires: "floatpanel,listblock,button",
                beforeInit: function(e) {
                    e.ui.addHandler(CKEDITOR.UI_RICHCOMBO, CKEDITOR.ui.richCombo.handler);
                }
            }), function() {
                var t = '<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"' + (CKEDITOR.env.gecko && !CKEDITOR.env.hc ? "" : " href=\"javascript:void('{titleJs}')\"") + ' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';
                CKEDITOR.env.gecko && CKEDITOR.env.mac && (t += ' onkeypress="return false;"'), 
                CKEDITOR.env.gecko && (t += ' onblur="this.style.cssText = this.style.cssText;"');
                var t = t + ' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" ' + (CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : "onclick") + '="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">' + (CKEDITOR.env.hc ? "&#9660;" : CKEDITOR.env.air ? "&nbsp;" : "") + "</span></span></a></span>", n = CKEDITOR.addTemplate("combo", t);
                CKEDITOR.UI_RICHCOMBO = "richcombo", CKEDITOR.ui.richCombo = CKEDITOR.tools.createClass({
                    $: function(e) {
                        CKEDITOR.tools.extend(this, e, {
                            canGroup: !1,
                            title: e.label,
                            modes: {
                                wysiwyg: 1
                            },
                            editorFocus: 1
                        }), e = this.panel || {}, delete this.panel, this.id = CKEDITOR.tools.getNextNumber(), 
                        this.document = e.parent && e.parent.getDocument() || CKEDITOR.document, e.className = "cke_combopanel", 
                        e.block = {
                            multiSelect: e.multiSelect,
                            attributes: e.attributes
                        }, e.toolbarRelated = !0, this._ = {
                            panelDefinition: e,
                            items: {}
                        };
                    },
                    proto: {
                        renderHtml: function(e) {
                            var t = [];
                            return this.render(e, t), t.join("");
                        },
                        render: function(t, i) {
                            function e() {
                                if (this.getState() != CKEDITOR.TRISTATE_ON) {
                                    var e = this.modes[t.mode] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED;
                                    t.readOnly && !this.readOnly && (e = CKEDITOR.TRISTATE_DISABLED), this.setState(e), 
                                    this.setValue(""), e != CKEDITOR.TRISTATE_DISABLED && this.refresh && this.refresh();
                                }
                            }
                            var o = CKEDITOR.env, a = "cke_" + this.id, r = CKEDITOR.tools.addFunction(function(e) {
                                u && (t.unlockSelection(1), u = 0), l.execute(e);
                            }, this), s = this, l = {
                                id: a,
                                combo: this,
                                focus: function() {
                                    CKEDITOR.document.getById(a).getChild(1).focus();
                                },
                                execute: function(e) {
                                    var n = s._;
                                    if (n.state != CKEDITOR.TRISTATE_DISABLED) if (s.createPanel(t), n.on) n.panel.hide(); else {
                                        s.commit();
                                        var i = s.getValue();
                                        i ? n.list.mark(i) : n.list.unmarkAll(), n.panel.showBlock(s.id, new CKEDITOR.dom.element(e), 4);
                                    }
                                },
                                clickFn: r
                            };
                            t.on("activeFilterChange", e, this), t.on("mode", e, this), t.on("selectionChange", e, this), 
                            !this.readOnly && t.on("readOnly", e, this);
                            var c = CKEDITOR.tools.addFunction(function(e, t) {
                                e = new CKEDITOR.dom.event(e);
                                var n = e.getKeystroke();
                                switch (n) {
                                  case 13:
                                  case 32:
                                  case 40:
                                    CKEDITOR.tools.callFunction(r, t);
                                    break;

                                  default:
                                    l.onkey(l, n);
                                }
                                e.preventDefault();
                            }), d = CKEDITOR.tools.addFunction(function() {
                                l.onfocus && l.onfocus();
                            }), u = 0;
                            return l.keyDownFn = c, o = {
                                id: a,
                                name: this.name || this.command,
                                label: this.label,
                                title: this.title,
                                cls: this.className || "",
                                titleJs: o.gecko && !o.hc ? "" : (this.title || "").replace("'", ""),
                                keydownFn: c,
                                focusFn: d,
                                clickFn: r
                            }, n.output(o, i), this.onRender && this.onRender(), l;
                        },
                        createPanel: function(e) {
                            if (!this._.panel) {
                                var t = this._.panelDefinition, n = this._.panelDefinition.block, i = t.parent || CKEDITOR.document.getBody(), o = "cke_combopanel__" + this.name, a = new CKEDITOR.ui.floatPanel(e, i, t), t = a.addListBlock(this.id, n), r = this;
                                a.onShow = function() {
                                    this.element.addClass(o), r.setState(CKEDITOR.TRISTATE_ON), r._.on = 1, r.editorFocus && !e.focusManager.hasFocus && e.focus(), 
                                    r.onOpen && r.onOpen();
                                }, a.onHide = function(t) {
                                    this.element.removeClass(o), r.setState(r.modes && r.modes[e.mode] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED), 
                                    r._.on = 0, !t && r.onClose && r.onClose();
                                }, a.onEscape = function() {
                                    a.hide(1);
                                }, t.onClick = function(e, t) {
                                    r.onClick && r.onClick.call(r, e, t), a.hide();
                                }, this._.panel = a, this._.list = t, a.getBlock(this.id).onHide = function() {
                                    r._.on = 0, r.setState(CKEDITOR.TRISTATE_OFF);
                                }, this.init && this.init();
                            }
                        },
                        setValue: function(e, t) {
                            this._.value = e;
                            var n = this.document.getById("cke_" + this.id + "_text");
                            n && (e || t ? n.removeClass("cke_combo_inlinelabel") : (t = this.label, n.addClass("cke_combo_inlinelabel")), 
                            n.setText(void 0 !== t ? t : e));
                        },
                        getValue: function() {
                            return this._.value || "";
                        },
                        unmarkAll: function() {
                            this._.list.unmarkAll();
                        },
                        mark: function(e) {
                            this._.list.mark(e);
                        },
                        hideItem: function(e) {
                            this._.list.hideItem(e);
                        },
                        hideGroup: function(e) {
                            this._.list.hideGroup(e);
                        },
                        showAll: function() {
                            this._.list.showAll();
                        },
                        add: function(e, t, n) {
                            this._.items[e] = n || e, this._.list.add(e, t, n);
                        },
                        startGroup: function(e) {
                            this._.list.startGroup(e);
                        },
                        commit: function() {
                            this._.committed || (this._.list.commit(), this._.committed = 1, CKEDITOR.ui.fire("ready", this)), 
                            this._.committed = 1;
                        },
                        setState: function(e) {
                            if (this._.state != e) {
                                var t = this.document.getById("cke_" + this.id);
                                t.setState(e, "cke_combo"), e == CKEDITOR.TRISTATE_DISABLED ? t.setAttribute("aria-disabled", !0) : t.removeAttribute("aria-disabled"), 
                                this._.state = e;
                            }
                        },
                        getState: function() {
                            return this._.state;
                        },
                        enable: function() {
                            this._.state == CKEDITOR.TRISTATE_DISABLED && this.setState(this._.lastState);
                        },
                        disable: function() {
                            this._.state != CKEDITOR.TRISTATE_DISABLED && (this._.lastState = this._.state, 
                            this.setState(CKEDITOR.TRISTATE_DISABLED));
                        }
                    },
                    statics: {
                        handler: {
                            create: function(e) {
                                return new CKEDITOR.ui.richCombo(e);
                            }
                        }
                    }
                }), CKEDITOR.ui.prototype.addRichCombo = function(e, t) {
                    this.add(e, CKEDITOR.UI_RICHCOMBO, t);
                };
            }(), CKEDITOR.plugins.add("format", {
                requires: "richcombo",
                init: function(e) {
                    if (!e.blockless) {
                        for (var t = e.config, n = e.lang.format, i = t.format_tags.split(";"), o = {}, a = 0, r = [], s = 0; s < i.length; s++) {
                            var l = i[s], c = new CKEDITOR.style(t["format_" + l]);
                            e.filter.customConfig && !e.filter.check(c) || (a++, o[l] = c, o[l]._.enterMode = e.config.enterMode, 
                            r.push(c));
                        }
                        0 !== a && e.ui.addRichCombo("Format", {
                            label: n.label,
                            title: n.panelTitle,
                            toolbar: "styles,20",
                            allowedContent: r,
                            panel: {
                                css: [ CKEDITOR.skin.getPath("editor") ].concat(t.contentsCss),
                                multiSelect: !1,
                                attributes: {
                                    "aria-label": n.panelTitle
                                }
                            },
                            init: function() {
                                this.startGroup(n.panelTitle);
                                for (var e in o) {
                                    var t = n["tag_" + e];
                                    this.add(e, o[e].buildPreview(t), t);
                                }
                            },
                            onClick: function(t) {
                                e.focus(), e.fire("saveSnapshot"), t = o[t];
                                var n = e.elementPath();
                                e[t.checkActive(n, e) ? "removeStyle" : "applyStyle"](t), setTimeout(function() {
                                    e.fire("saveSnapshot");
                                }, 0);
                            },
                            onRender: function() {
                                e.on("selectionChange", function(t) {
                                    var n = this.getValue();
                                    t = t.data.path, this.refresh();
                                    for (var i in o) if (o[i].checkActive(t, e)) return void (i != n && this.setValue(i, e.lang.format["tag_" + i]));
                                    this.setValue("");
                                }, this);
                            },
                            onOpen: function() {
                                this.showAll();
                                for (var t in o) e.activeFilter.check(o[t]) || this.hideItem(t);
                            },
                            refresh: function() {
                                var t = e.elementPath();
                                if (t) {
                                    if (t.isContextFor("p")) for (var n in o) if (e.activeFilter.check(o[n])) return;
                                    this.setState(CKEDITOR.TRISTATE_DISABLED);
                                }
                            }
                        });
                    }
                }
            }), CKEDITOR.config.format_tags = "p;h1;h2;h3;h4;h5;h6;pre;address;div", CKEDITOR.config.format_p = {
                element: "p"
            }, CKEDITOR.config.format_div = {
                element: "div"
            }, CKEDITOR.config.format_pre = {
                element: "pre"
            }, CKEDITOR.config.format_address = {
                element: "address"
            }, CKEDITOR.config.format_h1 = {
                element: "h1"
            }, CKEDITOR.config.format_h2 = {
                element: "h2"
            }, CKEDITOR.config.format_h3 = {
                element: "h3"
            }, CKEDITOR.config.format_h4 = {
                element: "h4"
            }, CKEDITOR.config.format_h5 = {
                element: "h5"
            }, CKEDITOR.config.format_h6 = {
                element: "h6"
            }, function() {
                var e = {
                    canUndo: !1,
                    exec: function(e) {
                        var t = e.document.createElement("hr");
                        e.insertElement(t);
                    },
                    allowedContent: "hr",
                    requiredContent: "hr"
                };
                CKEDITOR.plugins.add("horizontalrule", {
                    init: function(t) {
                        t.blockless || (t.addCommand("horizontalrule", e), t.ui.addButton && t.ui.addButton("HorizontalRule", {
                            label: t.lang.horizontalrule.toolbar,
                            command: "horizontalrule",
                            toolbar: "insert,40"
                        }));
                    }
                });
            }(), CKEDITOR.plugins.add("htmlwriter", {
                init: function(e) {
                    var t = new CKEDITOR.htmlWriter();
                    t.forceSimpleAmpersand = e.config.forceSimpleAmpersand, t.indentationChars = e.config.dataIndentationChars || "\t", 
                    e.dataProcessor.writer = t;
                }
            }), CKEDITOR.htmlWriter = CKEDITOR.tools.createClass({
                base: CKEDITOR.htmlParser.basicWriter,
                $: function() {
                    this.base(), this.indentationChars = "\t", this.selfClosingEnd = " />", this.lineBreakChars = "\n", 
                    this.sortAttributes = 1, this._.indent = 0, this._.indentation = "", this._.inPre = 0, 
                    this._.rules = {};
                    var e, t = CKEDITOR.dtd;
                    for (e in CKEDITOR.tools.extend({}, t.$nonBodyContent, t.$block, t.$listItem, t.$tableContent)) this.setRules(e, {
                        indent: !t[e]["#"],
                        breakBeforeOpen: 1,
                        breakBeforeClose: !t[e]["#"],
                        breakAfterClose: 1,
                        needsSpace: e in t.$block && !(e in {
                            li: 1,
                            dt: 1,
                            dd: 1
                        })
                    });
                    this.setRules("br", {
                        breakAfterOpen: 1
                    }), this.setRules("title", {
                        indent: 0,
                        breakAfterOpen: 0
                    }), this.setRules("style", {
                        indent: 0,
                        breakBeforeClose: 1
                    }), this.setRules("pre", {
                        breakAfterOpen: 1,
                        indent: 0
                    });
                },
                proto: {
                    openTag: function(e) {
                        var t = this._.rules[e];
                        this._.afterCloser && t && t.needsSpace && this._.needsSpace && this._.output.push("\n"), 
                        this._.indent ? this.indentation() : t && t.breakBeforeOpen && (this.lineBreak(), 
                        this.indentation()), this._.output.push("<", e), this._.afterCloser = 0;
                    },
                    openTagClose: function(e, t) {
                        var n = this._.rules[e];
                        t ? (this._.output.push(this.selfClosingEnd), n && n.breakAfterClose && (this._.needsSpace = n.needsSpace)) : (this._.output.push(">"), 
                        n && n.indent && (this._.indentation += this.indentationChars)), n && n.breakAfterOpen && this.lineBreak(), 
                        "pre" == e && (this._.inPre = 1);
                    },
                    attribute: function(e, t) {
                        "string" == typeof t && (this.forceSimpleAmpersand && (t = t.replace(/&amp;/g, "&")), 
                        t = CKEDITOR.tools.htmlEncodeAttr(t)), this._.output.push(" ", e, '="', t, '"');
                    },
                    closeTag: function(e) {
                        var t = this._.rules[e];
                        t && t.indent && (this._.indentation = this._.indentation.substr(this.indentationChars.length)), 
                        this._.indent ? this.indentation() : t && t.breakBeforeClose && (this.lineBreak(), 
                        this.indentation()), this._.output.push("</", e, ">"), "pre" == e && (this._.inPre = 0), 
                        t && t.breakAfterClose && (this.lineBreak(), this._.needsSpace = t.needsSpace), 
                        this._.afterCloser = 1;
                    },
                    text: function(e) {
                        this._.indent && (this.indentation(), !this._.inPre && (e = CKEDITOR.tools.ltrim(e))), 
                        this._.output.push(e);
                    },
                    comment: function(e) {
                        this._.indent && this.indentation(), this._.output.push("\x3c!--", e, "--\x3e");
                    },
                    lineBreak: function() {
                        !this._.inPre && 0 < this._.output.length && this._.output.push(this.lineBreakChars), 
                        this._.indent = 1;
                    },
                    indentation: function() {
                        !this._.inPre && this._.indentation && this._.output.push(this._.indentation), this._.indent = 0;
                    },
                    reset: function() {
                        this._.output = [], this._.indent = 0, this._.indentation = "", this._.afterCloser = 0, 
                        this._.inPre = 0, this._.needsSpace = 0;
                    },
                    setRules: function(e, t) {
                        var n = this._.rules[e];
                        n ? CKEDITOR.tools.extend(n, t, !0) : this._.rules[e] = t;
                    }
                }
            }), function() {
                function a(e, t) {
                    if (t || (t = e.getSelection().getSelectedElement()), t && t.is("img") && !t.data("cke-realelement") && !t.isReadOnly()) return t;
                }
                function f(e) {
                    var t = e.getStyle("float");
                    return "inherit" != t && "none" != t || (t = 0), t || (t = e.getAttribute("align")), 
                    t;
                }
                CKEDITOR.plugins.add("image", {
                    requires: "dialog",
                    init: function(e) {
                        if (!e.plugins.image2) {
                            CKEDITOR.dialog.add("image", this.path + "dialogs/image.js");
                            var t = "img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";
                            CKEDITOR.dialog.isTabEnabled(e, "image", "advanced") && (t = "img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"), 
                            e.addCommand("image", new CKEDITOR.dialogCommand("image", {
                                allowedContent: t,
                                requiredContent: "img[alt,src]",
                                contentTransformations: [ [ "img{width}: sizeToStyle", "img[width]: sizeToAttribute" ], [ "img{float}: alignmentToStyle", "img[align]: alignmentToAttribute" ] ]
                            })), e.ui.addButton && e.ui.addButton("Image", {
                                label: e.lang.common.image,
                                command: "image",
                                toolbar: "insert,10"
                            }), e.on("doubleclick", function(e) {
                                var t = e.data.element;
                                !t.is("img") || t.data("cke-realelement") || t.isReadOnly() || (e.data.dialog = "image");
                            }), e.addMenuItems && e.addMenuItems({
                                image: {
                                    label: e.lang.image.menu,
                                    command: "image",
                                    group: "image"
                                }
                            }), e.contextMenu && e.contextMenu.addListener(function(t) {
                                if (a(e, t)) return {
                                    image: CKEDITOR.TRISTATE_OFF
                                };
                            });
                        }
                    },
                    afterInit: function(e) {
                        function c(t) {
                            var n = e.getCommand("justify" + t);
                            n && ("left" != t && "right" != t || n.on("exec", function(n) {
                                var i, o = a(e);
                                o && (i = f(o), i == t ? (o.removeStyle("float"), t == f(o) && o.removeAttribute("align")) : o.setStyle("float", t), 
                                n.cancel());
                            }), n.on("refresh", function(n) {
                                var i = a(e);
                                i && (i = f(i), this.setState(i == t ? CKEDITOR.TRISTATE_ON : "right" == t || "left" == t ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED), 
                                n.cancel());
                            }));
                        }
                        e.plugins.image2 || (c("left"), c("right"), c("center"), c("block"));
                    }
                });
            }(), CKEDITOR.config.image_removeLinkByEmptyURL = !0, function() {
                function a(e, t) {
                    var i = n.exec(e), o = n.exec(t);
                    if (i) {
                        if (!i[2] && "px" == o[2]) return o[1];
                        if ("px" == i[2] && !o[2]) return o[1] + "px";
                    }
                    return t;
                }
                var e = CKEDITOR.htmlParser.cssStyle, t = CKEDITOR.tools.cssLength, n = /^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i, i = {
                    elements: {
                        $: function(t) {
                            var n = t.attributes;
                            if ((n = (n = (n = n && n["data-cke-realelement"]) && new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(n))) && n.children[0]) && t.attributes["data-cke-resizable"]) {
                                var i = new e(t).rules;
                                t = n.attributes;
                                var o = i.width, i = i.height;
                                o && (t.width = a(t.width, o)), i && (t.height = a(t.height, i));
                            }
                            return n;
                        }
                    }
                };
                CKEDITOR.plugins.add("fakeobjects", {
                    init: function(e) {
                        e.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}", "fakeobjects");
                    },
                    afterInit: function(e) {
                        (e = (e = e.dataProcessor) && e.htmlFilter) && e.addRules(i, {
                            applyToAll: !0
                        });
                    }
                }), CKEDITOR.editor.prototype.createFakeElement = function(n, i, o, a) {
                    var r = this.lang.fakeobjects, r = r[o] || r.unknown;
                    return i = {
                        class: i,
                        "data-cke-realelement": encodeURIComponent(n.getOuterHtml()),
                        "data-cke-real-node-type": n.type,
                        alt: r,
                        title: r,
                        align: n.getAttribute("align") || ""
                    }, CKEDITOR.env.hc || (i.src = CKEDITOR.tools.transparentImageData), o && (i["data-cke-real-element-type"] = o), 
                    a && (i["data-cke-resizable"] = a, o = new e(), a = n.getAttribute("width"), n = n.getAttribute("height"), 
                    a && (o.rules.width = t(a)), n && (o.rules.height = t(n)), o.populate(i)), this.document.createElement("img", {
                        attributes: i
                    });
                }, CKEDITOR.editor.prototype.createFakeParserElement = function(n, i, o, a) {
                    var r, s = this.lang.fakeobjects, s = s[o] || s.unknown;
                    return r = new CKEDITOR.htmlParser.basicWriter(), n.writeHtml(r), r = r.getHtml(), 
                    i = {
                        class: i,
                        "data-cke-realelement": encodeURIComponent(r),
                        "data-cke-real-node-type": n.type,
                        alt: s,
                        title: s,
                        align: n.attributes.align || ""
                    }, CKEDITOR.env.hc || (i.src = CKEDITOR.tools.transparentImageData), o && (i["data-cke-real-element-type"] = o), 
                    a && (i["data-cke-resizable"] = a, a = n.attributes, n = new e(), o = a.width, a = a.height, 
                    void 0 !== o && (n.rules.width = t(o)), void 0 !== a && (n.rules.height = t(a)), 
                    n.populate(i)), new CKEDITOR.htmlParser.element("img", i);
                }, CKEDITOR.editor.prototype.restoreRealElement = function(e) {
                    if (e.data("cke-real-node-type") != CKEDITOR.NODE_ELEMENT) return null;
                    var t = CKEDITOR.dom.element.createFromHtml(decodeURIComponent(e.data("cke-realelement")), this.document);
                    if (e.data("cke-resizable")) {
                        var n = e.getStyle("width");
                        e = e.getStyle("height"), n && t.setAttribute("width", a(t.getAttribute("width"), n)), 
                        e && t.setAttribute("height", a(t.getAttribute("height"), e));
                    }
                    return t;
                };
            }(), function() {
                function a(e) {
                    return e.replace(/'/g, "\\$&");
                }
                function f(e) {
                    for (var t, n = e.length, i = [], o = 0; o < n; o++) t = e.charCodeAt(o), i.push(t);
                    return "String.fromCharCode(" + i.join(",") + ")";
                }
                function b(e, t) {
                    var n, i, o = e.plugins.link, r = o.compiledProtectionFunction.params;
                    i = [ o.compiledProtectionFunction.name, "(" ];
                    for (var s = 0; s < r.length; s++) o = r[s].toLowerCase(), n = t[o], 0 < s && i.push(","), 
                    i.push("'", n ? a(encodeURIComponent(t[o])) : "", "'");
                    return i.push(")"), i.join("");
                }
                function c(e) {
                    e = e.config.emailProtection || "";
                    var t;
                    return e && "encode" != e && (t = {}, e.replace(/^([^(]+)\(([^)]+)\)$/, function(e, n, i) {
                        t.name = n, t.params = [], i.replace(/[^,\s]+/g, function(e) {
                            t.params.push(e);
                        });
                    })), t;
                }
                CKEDITOR.plugins.add("link", {
                    requires: "dialog,fakeobjects",
                    onLoad: function() {
                        function a(e) {
                            return t.replace(/%1/g, "rtl" == e ? "right" : "left").replace(/%2/g, "cke_contents_" + e);
                        }
                        var e = "background:url(" + CKEDITOR.getUrl(this.path + "images" + (CKEDITOR.env.hidpi ? "/hidpi" : "") + "/anchor.png") + ") no-repeat %1 center;border:1px dotted #00f;background-size:16px;", t = ".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{" + e + "padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{" + e + "width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";
                        CKEDITOR.addCss(a("ltr") + a("rtl"));
                    },
                    init: function(e) {
                        var t = "a[!href]";
                        CKEDITOR.dialog.isTabEnabled(e, "link", "advanced") && (t = t.replace("]", ",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")), 
                        CKEDITOR.dialog.isTabEnabled(e, "link", "target") && (t = t.replace("]", ",target,onclick]")), 
                        e.addCommand("link", new CKEDITOR.dialogCommand("link", {
                            allowedContent: t,
                            requiredContent: "a[href]"
                        })), e.addCommand("anchor", new CKEDITOR.dialogCommand("anchor", {
                            allowedContent: "a[!name,id]",
                            requiredContent: "a[name]"
                        })), e.addCommand("unlink", new CKEDITOR.unlinkCommand()), e.addCommand("removeAnchor", new CKEDITOR.removeAnchorCommand()), 
                        e.setKeystroke(CKEDITOR.CTRL + 76, "link"), e.ui.addButton && (e.ui.addButton("Link", {
                            label: e.lang.link.toolbar,
                            command: "link",
                            toolbar: "links,10"
                        }), e.ui.addButton("Unlink", {
                            label: e.lang.link.unlink,
                            command: "unlink",
                            toolbar: "links,20"
                        }), e.ui.addButton("Anchor", {
                            label: e.lang.link.anchor.toolbar,
                            command: "anchor",
                            toolbar: "links,30"
                        })), CKEDITOR.dialog.add("link", this.path + "dialogs/link.js"), CKEDITOR.dialog.add("anchor", this.path + "dialogs/anchor.js"), 
                        e.on("doubleclick", function(t) {
                            var n = t.data.element.getAscendant({
                                a: 1,
                                img: 1
                            }, !0);
                            n && !n.isReadOnly() && (n.is("a") ? (t.data.dialog = !n.getAttribute("name") || n.getAttribute("href") && n.getChildCount() ? "link" : "anchor", 
                            t.data.link = n) : CKEDITOR.plugins.link.tryRestoreFakeAnchor(e, n) && (t.data.dialog = "anchor"));
                        }, null, null, 0), e.on("doubleclick", function(t) {
                            t.data.dialog in {
                                link: 1,
                                anchor: 1
                            } && t.data.link && e.getSelection().selectElement(t.data.link);
                        }, null, null, 20), e.addMenuItems && e.addMenuItems({
                            anchor: {
                                label: e.lang.link.anchor.menu,
                                command: "anchor",
                                group: "anchor",
                                order: 1
                            },
                            removeAnchor: {
                                label: e.lang.link.anchor.remove,
                                command: "removeAnchor",
                                group: "anchor",
                                order: 5
                            },
                            link: {
                                label: e.lang.link.menu,
                                command: "link",
                                group: "link",
                                order: 1
                            },
                            unlink: {
                                label: e.lang.link.unlink,
                                command: "unlink",
                                group: "link",
                                order: 5
                            }
                        }), e.contextMenu && e.contextMenu.addListener(function(t) {
                            if (!t || t.isReadOnly()) return null;
                            if (!(t = CKEDITOR.plugins.link.tryRestoreFakeAnchor(e, t)) && !(t = CKEDITOR.plugins.link.getSelectedLink(e))) return null;
                            var n = {};
                            return t.getAttribute("href") && t.getChildCount() && (n = {
                                link: CKEDITOR.TRISTATE_OFF,
                                unlink: CKEDITOR.TRISTATE_OFF
                            }), t && t.hasAttribute("name") && (n.anchor = n.removeAnchor = CKEDITOR.TRISTATE_OFF), 
                            n;
                        }), this.compiledProtectionFunction = c(e);
                    },
                    afterInit: function(e) {
                        e.dataProcessor.dataFilter.addRules({
                            elements: {
                                a: function(t) {
                                    return t.attributes.name ? t.children.length ? null : e.createFakeParserElement(t, "cke_anchor", "anchor") : null;
                                }
                            }
                        });
                        var t = e._.elementsPath && e._.elementsPath.filters;
                        t && t.push(function(t, n) {
                            if ("a" == n && (CKEDITOR.plugins.link.tryRestoreFakeAnchor(e, t) || t.getAttribute("name") && (!t.getAttribute("href") || !t.getChildCount()))) return "anchor";
                        });
                    }
                });
                var e = /^javascript:/, t = /^mailto:([^?]+)(?:\?(.+))?$/, n = /subject=([^;?:@&=$,\/]*)/i, i = /body=([^;?:@&=$,\/]*)/i, o = /^#(.*)$/, r = /^((?:http|https|ftp|news):\/\/)?(.*)$/, s = /^(_(?:self|top|parent|blank))$/, l = /^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/, d = /^javascript:([^(]+)\(([^)]+)\)$/, u = /\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/, h = /(?:^|,)([^=]+)=(\d+|yes|no)/gi, m = {
                    id: "advId",
                    dir: "advLangDir",
                    accessKey: "advAccessKey",
                    name: "advName",
                    lang: "advLangCode",
                    tabindex: "advTabIndex",
                    title: "advTitle",
                    type: "advContentType",
                    class: "advCSSClasses",
                    charset: "advCharset",
                    style: "advStyles",
                    rel: "advRel"
                };
                CKEDITOR.plugins.link = {
                    getSelectedLink: function(e, t) {
                        var n, i = e.getSelection(), o = i.getSelectedElement(), a = i.getRanges(), r = [];
                        if (!t && o && o.is("a")) return o;
                        for (o = 0; o < a.length; o++) if (n = i.getRanges()[o], n.shrink(CKEDITOR.SHRINK_TEXT, !1, {
                            skipBogus: !0
                        }), (n = e.elementPath(n.getCommonAncestor()).contains("a", 1)) && t) r.push(n); else if (n) return n;
                        return t ? r : null;
                    },
                    getEditorAnchors: function(e) {
                        for (var t, n = e.editable(), i = n.isInline() && !e.plugins.divarea ? e.document : n, n = i.getElementsByTag("a"), i = i.getElementsByTag("img"), o = [], a = 0; t = n.getItem(a++); ) (t.data("cke-saved-name") || t.hasAttribute("name")) && o.push({
                            name: t.data("cke-saved-name") || t.getAttribute("name"),
                            id: t.getAttribute("id")
                        });
                        for (a = 0; t = i.getItem(a++); ) (t = this.tryRestoreFakeAnchor(e, t)) && o.push({
                            name: t.getAttribute("name"),
                            id: t.getAttribute("id")
                        });
                        return o;
                    },
                    fakeAnchor: !0,
                    tryRestoreFakeAnchor: function(e, t) {
                        if (t && t.data("cke-real-element-type") && "anchor" == t.data("cke-real-element-type")) {
                            var n = e.restoreRealElement(t);
                            if (n.data("cke-saved-name")) return n;
                        }
                    },
                    parseLinkAttributes: function(a, c) {
                        var f, g = c && (c.data("cke-saved-href") || c.getAttribute("href")) || "", E = a.plugins.link.compiledProtectionFunction, p = a.config.emailProtection, T = {};
                        if (g.match(e) && ("encode" == p ? g = g.replace(l, function(e, t, n) {
                            return n = n || "", "mailto:" + String.fromCharCode.apply(String, t.split(",")) + n.replace(/\\'/g, "'");
                        }) : p && g.replace(d, function(e, t, n) {
                            if (t == E.name) {
                                T.type = "email", e = T.email = {}, t = /(^')|('$)/g, n = n.match(/[^,\s]+/g);
                                for (var i, o, a = n.length, r = 0; r < a; r++) i = decodeURIComponent, o = n[r].replace(t, "").replace(/\\'/g, "'"), 
                                o = i(o), i = E.params[r].toLowerCase(), e[i] = o;
                                e.address = [ e.name, e.domain ].join("@");
                            }
                        })), !T.type) if (p = g.match(o)) T.type = "anchor", T.anchor = {}, T.anchor.name = T.anchor.id = p[1]; else if (p = g.match(t)) {
                            f = g.match(n), g = g.match(i), T.type = "email";
                            var C = T.email = {};
                            C.address = p[1], f && (C.subject = decodeURIComponent(f[1])), g && (C.body = decodeURIComponent(g[1]));
                        } else g && (f = g.match(r)) && (T.type = "url", T.url = {}, T.url.protocol = f[1], 
                        T.url.url = f[2]);
                        if (c) {
                            if (g = c.getAttribute("target")) T.target = {
                                type: g.match(s) ? g : "frame",
                                name: g
                            }; else if (g = (g = c.data("cke-pa-onclick") || c.getAttribute("onclick")) && g.match(u)) for (T.target = {
                                type: "popup",
                                name: g[1]
                            }; p = h.exec(g[2]); ) "yes" != p[2] && "1" != p[2] || p[1] in {
                                height: 1,
                                width: 1,
                                top: 1,
                                left: 1
                            } ? isFinite(p[2]) && (T.target[p[1]] = p[2]) : T.target[p[1]] = !0;
                            null !== c.getAttribute("download") && (T.download = !0);
                            var I, g = {};
                            for (I in m) (p = c.getAttribute(I)) && (g[m[I]] = p);
                            (I = c.data("cke-saved-name") || g.advName) && (g.advName = I), CKEDITOR.tools.isEmpty(g) || (T.advanced = g);
                        }
                        return T;
                    },
                    getLinkAttributes: function(e, t) {
                        var n = e.config.emailProtection || "", i = {};
                        switch (t.type) {
                          case "url":
                            var n = t.url && void 0 !== t.url.protocol ? t.url.protocol : "http://", o = t.url && CKEDITOR.tools.trim(t.url.url) || "";
                            i["data-cke-saved-href"] = 0 === o.indexOf("/") ? o : n + o;
                            break;

                          case "anchor":
                            n = t.anchor && t.anchor.id, i["data-cke-saved-href"] = "#" + (t.anchor && t.anchor.name || n || "");
                            break;

                          case "email":
                            var r = t.email, o = r.address;
                            switch (n) {
                              case "":
                              case "encode":
                                var s = encodeURIComponent(r.subject || ""), l = encodeURIComponent(r.body || ""), r = [];
                                s && r.push("subject=" + s), l && r.push("body=" + l), r = r.length ? "?" + r.join("&") : "", 
                                "encode" == n ? (n = [ "javascript:void(location.href='mailto:'+", f(o) ], r && n.push("+'", a(r), "'"), 
                                n.push(")")) : n = [ "mailto:", o, r ];
                                break;

                              default:
                                n = o.split("@", 2), r.name = n[0], r.domain = n[1], n = [ "javascript:", b(e, r) ];
                            }
                            i["data-cke-saved-href"] = n.join("");
                        }
                        if (t.target) if ("popup" == t.target.type) {
                            for (var n = [ "window.open(this.href, '", t.target.name || "", "', '" ], c = "resizable status location toolbar menubar fullscreen scrollbars dependent".split(" "), o = c.length, s = function(e) {
                                t.target[e] && c.push(e + "=" + t.target[e]);
                            }, r = 0; r < o; r++) c[r] += t.target[c[r]] ? "=yes" : "=no";
                            s("width"), s("left"), s("height"), s("top"), n.push(c.join(","), "'); return false;"), 
                            i["data-cke-pa-onclick"] = n.join("");
                        } else "notSet" != t.target.type && t.target.name && (i.target = t.target.name);
                        if (t.download && (i.download = ""), t.advanced) {
                            for (var d in m) (n = t.advanced[m[d]]) && (i[d] = n);
                            i.name && (i["data-cke-saved-name"] = i.name);
                        }
                        i["data-cke-saved-href"] && (i.href = i["data-cke-saved-href"]), d = {
                            target: 1,
                            onclick: 1,
                            "data-cke-pa-onclick": 1,
                            "data-cke-saved-name": 1,
                            download: 1
                        }, t.advanced && CKEDITOR.tools.extend(d, m);
                        for (var u in i) delete d[u];
                        return {
                            set: i,
                            removed: CKEDITOR.tools.objectKeys(d)
                        };
                    },
                    showDisplayTextForElement: function(e, t) {
                        var n = {
                            img: 1,
                            table: 1,
                            tbody: 1,
                            thead: 1,
                            tfoot: 1,
                            input: 1,
                            select: 1,
                            textarea: 1
                        }, i = t.getSelection();
                        return !(t.widgets && t.widgets.focused || i && 1 < i.getRanges().length) && (!e || !e.getName || !e.is(n));
                    }
                }, CKEDITOR.unlinkCommand = function() {}, CKEDITOR.unlinkCommand.prototype = {
                    exec: function(e) {
                        if (CKEDITOR.env.ie) {
                            var t, n = e.getSelection().getRanges()[0], i = n.getPreviousEditableNode() && n.getPreviousEditableNode().getAscendant("a", !0) || n.getNextEditableNode() && n.getNextEditableNode().getAscendant("a", !0);
                            n.collapsed && i && (t = n.createBookmark(), n.selectNodeContents(i), n.select());
                        }
                        i = new CKEDITOR.style({
                            element: "a",
                            type: CKEDITOR.STYLE_INLINE,
                            alwaysRemoveElement: 1
                        }), e.removeStyle(i), t && (n.moveToBookmark(t), n.select());
                    },
                    refresh: function(e, t) {
                        var n = t.lastElement && t.lastElement.getAscendant("a", !0);
                        n && "a" == n.getName() && n.getAttribute("href") && n.getChildCount() ? this.setState(CKEDITOR.TRISTATE_OFF) : this.setState(CKEDITOR.TRISTATE_DISABLED);
                    },
                    contextSensitive: 1,
                    startDisabled: 1,
                    requiredContent: "a[href]",
                    editorFocus: 1
                }, CKEDITOR.removeAnchorCommand = function() {}, CKEDITOR.removeAnchorCommand.prototype = {
                    exec: function(e) {
                        var t, n = e.getSelection(), i = n.createBookmarks();
                        n && (t = n.getSelectedElement()) && (t.getChildCount() ? t.is("a") : CKEDITOR.plugins.link.tryRestoreFakeAnchor(e, t)) ? t.remove(1) : (t = CKEDITOR.plugins.link.getSelectedLink(e)) && (t.hasAttribute("href") ? (t.removeAttributes({
                            name: 1,
                            "data-cke-saved-name": 1
                        }), t.removeClass("cke_anchor")) : t.remove(1)), n.selectBookmarks(i);
                    },
                    requiredContent: "a[name]"
                }, CKEDITOR.tools.extend(CKEDITOR.config, {
                    linkShowAdvancedTab: !0,
                    linkShowTargetTab: !0
                });
            }(), function() {
                function a(e, t, i) {
                    return n(t) && n(i) && i.equals(t.getNext(function(e) {
                        return !(G(e) || X(e) || r(e));
                    }));
                }
                function f(e) {
                    this.upper = e[0], this.lower = e[1], this.set.apply(this, e.slice(2));
                }
                function b(e) {
                    var t = e.element;
                    if (t && n(t) && (t = t.getAscendant(e.triggers, !0)) && e.editable.contains(t)) {
                        var i = k(t);
                        if ("true" == i.getAttribute("contenteditable")) return t;
                        if (i.is(e.triggers)) return i;
                    }
                    return null;
                }
                function c(e, n, i) {
                    return t(e, n), t(e, i), e = n.size.bottom, i = i.size.top, e && i ? 0 | (e + i) / 2 : e || i;
                }
                function e(e, t, i) {
                    return t = t[i ? "getPrevious" : "getNext"](function(t) {
                        return t && t.type == CKEDITOR.NODE_TEXT && !G(t) || n(t) && !r(t) && !g(e, t);
                    });
                }
                function l(e, t, n) {
                    return e > t && e < n;
                }
                function k(e, t) {
                    if (e.data("cke-editable")) return null;
                    for (t || (e = e.getParent()); e && !e.data("cke-editable"); ) {
                        if (e.hasAttribute("contenteditable")) return e;
                        e = e.getParent();
                    }
                    return null;
                }
                function d(e) {
                    var n = e.doc, a = s('<span contenteditable="false" style="' + U + "position:absolute;border-top:1px dashed " + e.boxColor + '"></span>', n), r = CKEDITOR.getUrl(this.path + "images/" + (E.hidpi ? "hidpi/" : "") + "icon" + (e.rtl ? "-rtl" : "") + ".png");
                    for (i(a, {
                        attach: function() {
                            return this.wrap.getParent() || this.wrap.appendTo(e.editable, !0), this;
                        },
                        lineChildren: [ i(s('<span title="' + e.editor.lang.magicline.title + '" contenteditable="false">&#8629;</span>', n), {
                            base: U + "height:17px;width:17px;" + (e.rtl ? "left" : "right") + ":17px;background:url(" + r + ") center no-repeat " + e.boxColor + ";cursor:pointer;" + (E.hc ? "font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;" : "") + (E.hidpi ? "background-size: 9px 10px;" : ""),
                            looks: [ "top:-8px; border-radius: 2px;", "top:-17px; border-radius: 2px 2px 0px 0px;", "top:-1px; border-radius: 0px 0px 2px 2px;" ]
                        }), i(s(j, n), {
                            base: V + "left:0px;border-left-color:" + e.boxColor + ";",
                            looks: [ "border-width:8px 0 8px 8px;top:-8px", "border-width:8px 0 0 8px;top:-8px", "border-width:0 0 8px 8px;top:0px" ]
                        }), i(s(j, n), {
                            base: V + "right:0px;border-right-color:" + e.boxColor + ";",
                            looks: [ "border-width:8px 8px 8px 0;top:-8px", "border-width:8px 8px 0 0;top:-8px", "border-width:0 8px 8px 0;top:0px" ]
                        }) ],
                        detach: function() {
                            return this.wrap.getParent() && this.wrap.remove(), this;
                        },
                        mouseNear: function() {
                            t(e, this);
                            var n = e.holdDistance, i = this.size;
                            return !!(i && l(e.mouse.y, i.top - n, i.bottom + n) && l(e.mouse.x, i.left - n, i.right + n));
                        },
                        place: function() {
                            var n = e.view, i = e.editable, o = e.trigger, a = o.upper, r = o.lower, s = a || r, c = s.getParent(), d = {};
                            this.trigger = o, a && t(e, a, !0), r && t(e, r, !0), t(e, c, !0), e.inInlineMode && A(e, !0), 
                            c.equals(i) ? (d.left = n.scroll.x, d.right = -n.scroll.x, d.width = "") : (d.left = s.size.left - s.size.margin.left + n.scroll.x - (e.inInlineMode ? n.editable.left + n.editable.border.left : 0), 
                            d.width = s.size.outerWidth + s.size.margin.left + s.size.margin.right + n.scroll.x, 
                            d.right = ""), a && r ? d.top = a.size.margin.bottom === r.size.margin.top ? 0 | a.size.bottom + a.size.margin.bottom / 2 : a.size.margin.bottom < r.size.margin.top ? a.size.bottom + a.size.margin.bottom : a.size.bottom + a.size.margin.bottom - r.size.margin.top : a ? r || (d.top = a.size.bottom + a.size.margin.bottom) : d.top = r.size.top - r.size.margin.top, 
                            o.is(N) || l(d.top, n.scroll.y - 15, n.scroll.y + 5) ? (d.top = e.inInlineMode ? 0 : n.scroll.y, 
                            this.look(N)) : o.is(S) || l(d.top, n.pane.bottom - 5, n.pane.bottom + 15) ? (d.top = e.inInlineMode ? n.editable.height + n.editable.padding.top + n.editable.padding.bottom : n.pane.bottom - 1, 
                            this.look(S)) : (e.inInlineMode && (d.top -= n.editable.top + n.editable.border.top), 
                            this.look(L)), e.inInlineMode && (d.top--, d.top += n.editable.scroll.top, d.left += n.editable.scroll.left);
                            for (var u in d) d[u] = CKEDITOR.tools.cssLength(d[u]);
                            this.setStyles(d);
                        },
                        look: function(e) {
                            if (this.oldLook != e) {
                                for (var t, n = this.lineChildren.length; n--; ) (t = this.lineChildren[n]).setAttribute("style", t.base + t.looks[0 | e / 2]);
                                this.oldLook = e;
                            }
                        },
                        wrap: new o("span", e.doc)
                    }), n = a.lineChildren.length; n--; ) a.lineChildren[n].appendTo(a);
                    a.look(L), a.appendTo(a.wrap), a.unselectable(), a.lineChildren[0].on("mouseup", function(t) {
                        a.detach(), h(e, function(t) {
                            var n = e.line.trigger;
                            t[n.is(O) ? "insertBefore" : "insertAfter"](n.is(O) ? n.lower : n.upper);
                        }, !0), e.editor.focus(), E.ie || e.enterMode == CKEDITOR.ENTER_BR || e.hotNode.scrollIntoView(), 
                        t.data.preventDefault(!0);
                    }), a.on("mousedown", function(e) {
                        e.data.preventDefault(!0);
                    }), e.line = a;
                }
                function h(e, t, n) {
                    var i, a = new CKEDITOR.dom.range(e.doc), r = e.editor;
                    E.ie && e.enterMode == CKEDITOR.ENTER_BR ? i = e.doc.createText(F) : (i = (i = k(e.element, !0)) && i.data("cke-enter-mode") || e.enterMode, 
                    i = new o(I[i], e.doc), i.is("br") || e.doc.createText(F).appendTo(i)), n && r.fire("saveSnapshot"), 
                    t(i), a.moveToPosition(i, CKEDITOR.POSITION_AFTER_START), r.getSelection().selectRanges([ a ]), 
                    e.hotNode = i, n && r.fire("saveSnapshot");
                }
                function m(t, i) {
                    return {
                        canUndo: !0,
                        modes: {
                            wysiwyg: 1
                        },
                        exec: function() {
                            function d(e) {
                                var n = E.ie && 9 > E.version ? " " : F, o = t.hotNode && t.hotNode.getText() == n && t.element.equals(t.hotNode) && t.lastCmdDirection === !!i;
                                h(t, function(n) {
                                    o && t.hotNode && t.hotNode.remove(), n[i ? "insertAfter" : "insertBefore"](e), 
                                    n.setAttributes({
                                        "data-cke-magicline-hot": 1,
                                        "data-cke-magicline-dir": !!i
                                    }), t.lastCmdDirection = !!i;
                                }), E.ie || t.enterMode == CKEDITOR.ENTER_BR || t.hotNode.scrollIntoView(), t.line.detach();
                            }
                            return function(o) {
                                o = o.getSelection().getStartElement();
                                var a;
                                if (o = o.getAscendant(M, 1), !w(t, o) && o && !o.equals(t.editable) && !o.contains(t.editable)) {
                                    (a = k(o)) && "false" == a.getAttribute("contenteditable") && (o = a), t.element = o, 
                                    a = e(t, o, !i);
                                    var r;
                                    n(a) && a.is(t.triggers) && a.is($) && (!e(t, a, !i) || (r = e(t, a, !i)) && n(r) && r.is(t.triggers)) ? d(a) : (r = b(t, o), 
                                    n(r) && (e(t, r, !i) ? (o = e(t, r, !i)) && n(o) && o.is(t.triggers) && d(r) : d(r)));
                                }
                            };
                        }()
                    };
                }
                function g(e, t) {
                    if (!t || t.type != CKEDITOR.NODE_ELEMENT || !t.$) return !1;
                    var n = e.line;
                    return n.wrap.equals(t) || n.wrap.contains(t);
                }
                function n(e) {
                    return e && e.type == CKEDITOR.NODE_ELEMENT && e.$;
                }
                function r(e) {
                    if (!n(e)) return !1;
                    var t;
                    return (t = q(e)) || (n(e) ? (t = {
                        left: 1,
                        right: 1,
                        center: 1
                    }, t = !(!t[e.getComputedStyle("float")] && !t[e.getAttribute("align")])) : t = !1), 
                    t;
                }
                function q(e) {
                    return !!{
                        absolute: 1,
                        fixed: 1
                    }[e.getComputedStyle("position")];
                }
                function y(e, t) {
                    return n(t) ? t.is(e.triggers) : null;
                }
                function w(e, t) {
                    if (!t) return !1;
                    for (var n = t.getParents(1), i = n.length; i--; ) for (var o = e.tabuList.length; o--; ) if (n[i].hasAttribute(e.tabuList[o])) return !0;
                    return !1;
                }
                function p(e, n, i) {
                    return !!(n = n[i ? "getLast" : "getFirst"](function(t) {
                        return e.isRelevant(t) && !t.is(P);
                    })) && (t(e, n), i ? n.size.top > e.mouse.y : n.size.bottom < e.mouse.y);
                }
                function v(e) {
                    var i = e.editable, o = e.mouse, a = e.view, s = e.triggerOffset;
                    A(e);
                    var c = o.y > (e.inInlineMode ? a.editable.top + a.editable.height / 2 : Math.min(a.editable.height, a.pane.height) / 2), i = i[c ? "getLast" : "getFirst"](function(e) {
                        return !(G(e) || X(e));
                    });
                    return i ? (g(e, i) && (i = e.line.wrap[c ? "getPrevious" : "getNext"](function(e) {
                        return !(G(e) || X(e));
                    })), n(i) && !r(i) && y(e, i) ? (t(e, i), !c && 0 <= i.size.top && l(o.y, 0, i.size.top + s) ? (e = e.inInlineMode || 0 === a.scroll.y ? N : L, 
                    new f([ null, i, O, _, e ])) : c && i.size.bottom <= a.pane.height && l(o.y, i.size.bottom - s, a.pane.height) ? (e = e.inInlineMode || l(i.size.bottom, a.pane.height - s, a.pane.height) ? S : L, 
                    new f([ i, null, R, _, e ])) : null) : null) : null;
                }
                function u(i) {
                    var o = i.mouse, a = i.view, s = i.triggerOffset, c = b(i);
                    if (!c) return null;
                    t(i, c);
                    var d, u, s = Math.min(s, 0 | c.size.outerHeight / 2), h = [];
                    if (l(o.y, c.size.top - 1, c.size.top + s)) u = !1; else {
                        if (!l(o.y, c.size.bottom - s, c.size.bottom + 1)) return null;
                        u = !0;
                    }
                    if (r(c) || p(i, c, u) || c.getParent().is(B)) return null;
                    var m = e(i, c, !u);
                    if (m) {
                        if (m && m.type == CKEDITOR.NODE_TEXT) return null;
                        if (n(m)) {
                            if (r(m) || !y(i, m) || m.getParent().is(B)) return null;
                            h = [ m, c ][u ? "reverse" : "concat"]().concat([ K, _ ]);
                        }
                    } else c.equals(i.editable[u ? "getLast" : "getFirst"](i.isRelevant)) ? (A(i), u && l(o.y, c.size.bottom - s, a.pane.height) && l(c.size.bottom, a.pane.height - s, a.pane.height) ? d = S : l(o.y, 0, c.size.top + s) && (d = N)) : d = L, 
                    h = [ null, c ][u ? "reverse" : "concat"]().concat([ u ? R : O, _, d, c.equals(i.editable[u ? "getLast" : "getFirst"](i.isRelevant)) ? u ? S : N : L ]);
                    return 0 in h ? new f(h) : null;
                }
                function z(e, t, n, o) {
                    for (var a = t.getDocumentPosition(), r = {}, s = {}, l = {}, c = {}, d = Z.length; d--; ) r[Z[d]] = parseInt(t.getComputedStyle.call(t, "border-" + Z[d] + "-width"), 10) || 0, 
                    l[Z[d]] = parseInt(t.getComputedStyle.call(t, "padding-" + Z[d]), 10) || 0, s[Z[d]] = parseInt(t.getComputedStyle.call(t, "margin-" + Z[d]), 10) || 0;
                    return n && !o || D(e, o), c.top = a.y - (n ? 0 : e.view.scroll.y), c.left = a.x - (n ? 0 : e.view.scroll.x), 
                    c.outerWidth = t.$.offsetWidth, c.outerHeight = t.$.offsetHeight, c.height = c.outerHeight - (l.top + l.bottom + r.top + r.bottom), 
                    c.width = c.outerWidth - (l.left + l.right + r.left + r.right), c.bottom = c.top + c.outerHeight, 
                    c.right = c.left + c.outerWidth, e.inInlineMode && (c.scroll = {
                        top: t.$.scrollTop,
                        left: t.$.scrollLeft
                    }), i({
                        border: r,
                        padding: l,
                        margin: s,
                        ignoreScroll: n
                    }, c, !0);
                }
                function t(e, t, o) {
                    if (!n(t)) return t.size = null;
                    if (t.size) {
                        if (t.size.ignoreScroll == o && t.size.date > new Date() - H) return null;
                    } else t.size = {};
                    return i(t.size, z(e, t, o), {
                        date: +new Date()
                    }, !0);
                }
                function A(e, t) {
                    e.view.editable = z(e, e.editable, t, !0);
                }
                function D(e, t) {
                    e.view || (e.view = {});
                    var n = e.view;
                    if (!(!t && n && n.date > new Date() - H)) {
                        var o = e.win, n = o.getScrollPosition(), o = o.getViewPaneSize();
                        i(e.view, {
                            scroll: {
                                x: n.x,
                                y: n.y,
                                width: e.doc.$.documentElement.scrollWidth - o.width,
                                height: e.doc.$.documentElement.scrollHeight - o.height
                            },
                            pane: {
                                width: o.width,
                                height: o.height,
                                bottom: o.height + n.y
                            },
                            date: +new Date()
                        }, !0);
                    }
                }
                function x(e, t, n, i) {
                    for (var o = i, a = i, r = 0, s = !1, l = !1, c = e.view.pane.height, d = e.mouse; d.y + r < c && 0 < d.y - r && (s || (s = t(o, i)), 
                    l || (l = t(a, i)), !s && 0 < d.y - r && (o = n(e, {
                        x: d.x,
                        y: d.y - r
                    })), !l && d.y + r < c && (a = n(e, {
                        x: d.x,
                        y: d.y + r
                    })), !s || !l); ) r += 2;
                    return new f([ o, a, null, null ]);
                }
                CKEDITOR.plugins.add("magicline", {
                    init: function(t) {
                        var o, a, s, l = t.config, c = l.magicline_triggerOffset || 30, p = {
                            editor: t,
                            enterMode: l.enterMode,
                            triggerOffset: c,
                            holdDistance: 0 | c * (l.magicline_holdDistance || .5),
                            boxColor: l.magicline_color || "#ff0000",
                            rtl: "rtl" == l.contentsLangDirection,
                            tabuList: [ "data-cke-hidden-sel" ].concat(l.magicline_tabuList || []),
                            triggers: l.magicline_everywhere ? M : {
                                table: 1,
                                hr: 1,
                                div: 1,
                                ul: 1,
                                ol: 1,
                                dl: 1,
                                form: 1,
                                blockquote: 1
                            }
                        };
                        p.isRelevant = function(e) {
                            return n(e) && !g(p, e) && !r(e);
                        }, t.on("contentDom", function() {
                            var n = t.editable(), r = t.document, c = t.window;
                            i(p, {
                                editable: n,
                                inInlineMode: n.isInline(),
                                doc: r,
                                win: c,
                                hotNode: null
                            }, !0), p.boundary = p.inInlineMode ? p.editable : p.doc.getDocumentElement(), n.is(C.$inline) || (p.inInlineMode && !q(n) && n.setStyles({
                                position: "relative",
                                top: null,
                                left: null
                            }), d.call(this, p), D(p), n.attachListener(t, "beforeUndoImage", function() {
                                p.line.detach();
                            }), n.attachListener(t, "beforeGetData", function() {
                                p.line.wrap.getParent() && (p.line.detach(), t.once("getData", function() {
                                    p.line.attach();
                                }, null, null, 1e3));
                            }, null, null, 0), n.attachListener(p.inInlineMode ? r : r.getWindow().getFrame(), "mouseout", function(e) {
                                if ("wysiwyg" == t.mode) if (p.inInlineMode) {
                                    var n = e.data.$.clientX;
                                    e = e.data.$.clientY, D(p), A(p, !0);
                                    var i = p.view.editable, o = p.view.scroll;
                                    n > i.left - o.x && n < i.right - o.x && e > i.top - o.y && e < i.bottom - o.y || (clearTimeout(s), 
                                    s = null, p.line.detach());
                                } else clearTimeout(s), s = null, p.line.detach();
                            }), n.attachListener(n, "keyup", function() {
                                p.hiddenMode = 0;
                            }), n.attachListener(n, "keydown", function(e) {
                                if ("wysiwyg" == t.mode) switch (e.data.getKeystroke()) {
                                  case 2228240:
                                  case 16:
                                    p.hiddenMode = 1, p.line.detach();
                                }
                            }), n.attachListener(p.inInlineMode ? n : r, "mousemove", function(e) {
                                if (a = !0, "wysiwyg" == t.mode && !t.readOnly && !s) {
                                    var n = {
                                        x: e.data.$.clientX,
                                        y: e.data.$.clientY
                                    };
                                    s = setTimeout(function() {
                                        p.mouse = n, s = p.trigger = null, D(p), a && !p.hiddenMode && t.focusManager.hasFocus && !p.line.mouseNear() && (p.element = W(p, !0)) && ((p.trigger = v(p) || u(p) || Y(p)) && !w(p, p.trigger.upper || p.trigger.lower) ? p.line.attach().place() : (p.trigger = null, 
                                        p.line.detach()), a = !1);
                                    }, 30);
                                }
                            }), n.attachListener(c, "scroll", function() {
                                "wysiwyg" == t.mode && (p.line.detach(), E.webkit && (p.hiddenMode = 1, clearTimeout(o), 
                                o = setTimeout(function() {
                                    p.mouseDown || (p.hiddenMode = 0);
                                }, 50)));
                            }), n.attachListener(T ? r : c, "mousedown", function() {
                                "wysiwyg" == t.mode && (p.line.detach(), p.hiddenMode = 1, p.mouseDown = 1);
                            }), n.attachListener(T ? r : c, "mouseup", function() {
                                p.hiddenMode = 0, p.mouseDown = 0;
                            }), t.addCommand("accessPreviousSpace", m(p)), t.addCommand("accessNextSpace", m(p, !0)), 
                            t.setKeystroke([ [ l.magicline_keystrokePrevious, "accessPreviousSpace" ], [ l.magicline_keystrokeNext, "accessNextSpace" ] ]), 
                            t.on("loadSnapshot", function() {
                                var e, n, i, o;
                                for (o in {
                                    p: 1,
                                    br: 1,
                                    div: 1
                                }) for (e = t.document.getElementsByTag(o), i = e.count(); i--; ) if ((n = e.getItem(i)).data("cke-magicline-hot")) return p.hotNode = n, 
                                void (p.lastCmdDirection = "true" === n.data("cke-magicline-dir"));
                            }), this.backdoor = {
                                accessFocusSpace: h,
                                boxTrigger: f,
                                isLine: g,
                                getAscendantTrigger: b,
                                getNonEmptyNeighbour: e,
                                getSize: z,
                                that: p,
                                triggerEdge: u,
                                triggerEditable: v,
                                triggerExpand: Y
                            });
                        }, this);
                    }
                });
                var i = CKEDITOR.tools.extend, o = CKEDITOR.dom.element, s = o.createFromHtml, E = CKEDITOR.env, T = CKEDITOR.env.ie && 9 > CKEDITOR.env.version, C = CKEDITOR.dtd, I = {}, O = 128, R = 64, K = 32, _ = 16, N = 4, S = 2, L = 1, F = " ", B = C.$listItem, P = C.$tableContent, $ = i({}, C.$nonEditable, C.$empty), M = C.$block, H = 100, U = "width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;", V = U + "border-color:transparent;display:block;border-style:solid;", j = "<span>" + F + "</span>";
                I[CKEDITOR.ENTER_BR] = "br", I[CKEDITOR.ENTER_P] = "p", I[CKEDITOR.ENTER_DIV] = "div", 
                f.prototype = {
                    set: function(e, t, n) {
                        return this.properties = e + t + (n || L), this;
                    },
                    is: function(e) {
                        return (this.properties & e) == e;
                    }
                };
                var W = function() {
                    function a(e, t) {
                        var n = e.$.elementFromPoint(t.x, t.y);
                        return n && n.nodeType ? new CKEDITOR.dom.element(n) : null;
                    }
                    return function(e, t, n) {
                        if (!e.mouse) return null;
                        var i = e.doc, o = e.line.wrap;
                        n = n || e.mouse;
                        var r = a(i, n);
                        return t && g(e, r) && (o.hide(), r = a(i, n), o.show()), !r || r.type != CKEDITOR.NODE_ELEMENT || !r.$ || E.ie && 9 > E.version && !e.boundary.equals(r) && !e.boundary.contains(r) ? null : r;
                    };
                }(), G = CKEDITOR.dom.walker.whitespaces(), X = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT), Y = function() {
                    function b(e) {
                        var i, o, r, s = e.element;
                        if (!n(s) || s.contains(e.editable) || s.isReadOnly()) return null;
                        if (r = x(e, function(e, t) {
                            return !t.equals(e);
                        }, function(e, t) {
                            return W(e, !0, t);
                        }, s), i = r.upper, o = r.lower, a(e, i, o)) return r.set(K, 8);
                        if (i && s.contains(i)) for (;!i.getParent().equals(s); ) i = i.getParent(); else i = s.getFirst(function(t) {
                            return d(e, t);
                        });
                        if (o && s.contains(o)) for (;!o.getParent().equals(s); ) o = o.getParent(); else o = s.getLast(function(t) {
                            return d(e, t);
                        });
                        if (!i || !o) return null;
                        if (t(e, i), t(e, o), !l(e.mouse.y, i.size.top, o.size.bottom)) return null;
                        for (var u, h, f, m, s = Number.MAX_VALUE; o && !o.equals(i) && (h = i.getNext(e.isRelevant)); ) u = Math.abs(c(e, i, h) - e.mouse.y), 
                        u < s && (s = u, f = i, m = h), i = h, t(e, i);
                        return f && m && l(e.mouse.y, f.size.top, m.size.bottom) ? (r.upper = f, r.lower = m, 
                        r.set(K, 8)) : null;
                    }
                    function d(e, t) {
                        return !(t && t.type == CKEDITOR.NODE_TEXT || X(t) || r(t) || g(e, t) || t.type == CKEDITOR.NODE_ELEMENT && t.$ && t.is("br"));
                    }
                    return function(e) {
                        var t, n = b(e);
                        if (t = n) {
                            t = n.upper;
                            var i = n.lower;
                            t = !(!t || !i || r(i) || r(t) || i.equals(t) || t.equals(i) || i.contains(t) || t.contains(i)) && !!(y(e, t) && y(e, i) && a(e, t, i));
                        }
                        return t ? n : null;
                    };
                }(), Z = [ "top", "left", "right", "bottom" ];
            }(), CKEDITOR.config.magicline_keystrokePrevious = CKEDITOR.CTRL + CKEDITOR.SHIFT + 51, 
            CKEDITOR.config.magicline_keystrokeNext = CKEDITOR.CTRL + CKEDITOR.SHIFT + 52, function() {
                function a(e) {
                    if (!e || e.type != CKEDITOR.NODE_ELEMENT || "form" != e.getName()) return [];
                    for (var t = [], n = [ "style", "className" ], i = 0; i < n.length; i++) {
                        var o = e.$.elements.namedItem(n[i]);
                        o && (o = new CKEDITOR.dom.element(o), t.push([ o, o.nextSibling ]), o.remove());
                    }
                    return t;
                }
                function f(e, t) {
                    if (e && e.type == CKEDITOR.NODE_ELEMENT && "form" == e.getName() && 0 < t.length) for (var n = t.length - 1; 0 <= n; n--) {
                        var i = t[n][0], o = t[n][1];
                        o ? i.insertBefore(o) : i.appendTo(e);
                    }
                }
                function b(e, t) {
                    var n = a(e), i = {}, o = e.$;
                    return t || (i.class = o.className || "", o.className = ""), i.inline = o.style.cssText || "", 
                    t || (o.style.cssText = "position: static; overflow: visible"), f(n), i;
                }
                function c(e, t) {
                    var n = a(e), i = e.$;
                    "class" in t && (i.className = t.class), "inline" in t && (i.style.cssText = t.inline), 
                    f(n);
                }
                function e(e) {
                    if (!e.editable().isInline()) {
                        var t, n = CKEDITOR.instances;
                        for (t in n) {
                            var i = n[t];
                            "wysiwyg" != i.mode || i.readOnly || (i = i.document.getBody(), i.setAttribute("contentEditable", !1), 
                            i.setAttribute("contentEditable", !0));
                        }
                        e.editable().hasFocus && (e.toolbox.focus(), e.focus());
                    }
                }
                CKEDITOR.plugins.add("maximize", {
                    init: function(t) {
                        function f() {
                            var e = s.getViewPaneSize();
                            t.resize(e.width, e.height, null, !0);
                        }
                        if (t.elementMode != CKEDITOR.ELEMENT_MODE_INLINE) {
                            var n, i, o, a = t.lang, r = CKEDITOR.document, s = r.getWindow(), l = CKEDITOR.TRISTATE_OFF;
                            t.addCommand("maximize", {
                                modes: {
                                    wysiwyg: !CKEDITOR.env.iOS,
                                    source: !CKEDITOR.env.iOS
                                },
                                readOnly: 1,
                                editorFocus: !1,
                                exec: function() {
                                    var d = t.container.getFirst(function(e) {
                                        return e.type == CKEDITOR.NODE_ELEMENT && e.hasClass("cke_inner");
                                    }), u = t.ui.space("contents");
                                    if ("wysiwyg" == t.mode) {
                                        var h = t.getSelection();
                                        n = h && h.getRanges(), i = s.getScrollPosition();
                                    } else {
                                        var m = t.editable().$;
                                        n = !CKEDITOR.env.ie && [ m.selectionStart, m.selectionEnd ], i = [ m.scrollLeft, m.scrollTop ];
                                    }
                                    if (this.state == CKEDITOR.TRISTATE_OFF) {
                                        for (s.on("resize", f), o = s.getScrollPosition(), h = t.container; h = h.getParent(); ) h.setCustomData("maximize_saved_styles", b(h)), 
                                        h.setStyle("z-index", t.config.baseFloatZIndex - 5);
                                        u.setCustomData("maximize_saved_styles", b(u, !0)), d.setCustomData("maximize_saved_styles", b(d, !0)), 
                                        u = {
                                            overflow: CKEDITOR.env.webkit ? "" : "hidden",
                                            width: 0,
                                            height: 0
                                        }, r.getDocumentElement().setStyles(u), !CKEDITOR.env.gecko && r.getDocumentElement().setStyle("position", "fixed"), 
                                        CKEDITOR.env.gecko && CKEDITOR.env.quirks || r.getBody().setStyles(u), CKEDITOR.env.ie ? setTimeout(function() {
                                            s.$.scrollTo(0, 0);
                                        }, 0) : s.$.scrollTo(0, 0), d.setStyle("position", CKEDITOR.env.gecko && CKEDITOR.env.quirks ? "fixed" : "absolute"), 
                                        d.$.offsetLeft, d.setStyles({
                                            "z-index": t.config.baseFloatZIndex - 5,
                                            left: "0px",
                                            top: "0px"
                                        }), d.addClass("cke_maximized"), f(), u = d.getDocumentPosition(), d.setStyles({
                                            left: -1 * u.x + "px",
                                            top: -1 * u.y + "px"
                                        }), CKEDITOR.env.gecko && e(t);
                                    } else if (this.state == CKEDITOR.TRISTATE_ON) {
                                        s.removeListener("resize", f);
                                        for (var h = [ u, d ], g = 0; g < h.length; g++) c(h[g], h[g].getCustomData("maximize_saved_styles")), 
                                        h[g].removeCustomData("maximize_saved_styles");
                                        for (h = t.container; h = h.getParent(); ) c(h, h.getCustomData("maximize_saved_styles")), 
                                        h.removeCustomData("maximize_saved_styles");
                                        CKEDITOR.env.ie ? setTimeout(function() {
                                            s.$.scrollTo(o.x, o.y);
                                        }, 0) : s.$.scrollTo(o.x, o.y), d.removeClass("cke_maximized"), CKEDITOR.env.webkit && (d.setStyle("display", "inline"), 
                                        setTimeout(function() {
                                            d.setStyle("display", "block");
                                        }, 0)), t.fire("resize", {
                                            outerHeight: t.container.$.offsetHeight,
                                            contentsHeight: u.$.offsetHeight,
                                            outerWidth: t.container.$.offsetWidth
                                        });
                                    }
                                    this.toggleState(), (h = this.uiItems[0]) && (u = this.state == CKEDITOR.TRISTATE_OFF ? a.maximize.maximize : a.maximize.minimize, 
                                    h = CKEDITOR.document.getById(h._.id), h.getChild(1).setHtml(u), h.setAttribute("title", u), 
                                    h.setAttribute("href", 'javascript:void("' + u + '");')), "wysiwyg" == t.mode ? n ? (CKEDITOR.env.gecko && e(t), 
                                    t.getSelection().selectRanges(n), (m = t.getSelection().getStartElement()) && m.scrollIntoView(!0)) : s.$.scrollTo(i.x, i.y) : (n && (m.selectionStart = n[0], 
                                    m.selectionEnd = n[1]), m.scrollLeft = i[0], m.scrollTop = i[1]), n = i = null, 
                                    l = this.state, t.fire("maximize", this.state);
                                },
                                canUndo: !1
                            }), t.ui.addButton && t.ui.addButton("Maximize", {
                                label: a.maximize.maximize,
                                command: "maximize",
                                toolbar: "tools,10"
                            }), t.on("mode", function() {
                                var e = t.getCommand("maximize");
                                e.setState(e.state == CKEDITOR.TRISTATE_DISABLED ? CKEDITOR.TRISTATE_DISABLED : l);
                            }, null, null, 100);
                        }
                    }
                });
            }(), function() {
                function a(e, t, n) {
                    var i = CKEDITOR.cleanWord;
                    return i ? n() : (e = CKEDITOR.getUrl(e.config.pasteFromWordCleanupFile || t + "filter/default.js"), 
                    CKEDITOR.scriptLoader.load(e, n, null, !0)), !i;
                }
                CKEDITOR.plugins.add("pastefromword", {
                    requires: "clipboard",
                    init: function(e) {
                        var t = 0, n = this.path;
                        e.addCommand("pastefromword", {
                            canUndo: !1,
                            async: !0,
                            exec: function(e, n) {
                                t = 1, e.execCommand("paste", {
                                    type: "html",
                                    notification: !n || void 0 === n.notification || n.notification
                                });
                            }
                        }), e.ui.addButton && e.ui.addButton("PasteFromWord", {
                            label: e.lang.pastefromword.toolbar,
                            command: "pastefromword",
                            toolbar: "clipboard,50"
                        }), e.on("paste", function(i) {
                            var o = i.data, r = (CKEDITOR.plugins.clipboard.isCustomDataTypesSupported ? o.dataTransfer.getData("text/html", !0) : null) || o.dataValue, s = {
                                dataValue: r
                            }, l = /(class=\"?Mso|style=(?:\"|\')[^\"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/, l = /<meta\s*name=(?:\"|\')?generator(?:\"|\')?\s*content=(?:\"|\')?microsoft/gi.test(r) || l.test(r);
                            if (r && (t || l) && (!1 !== e.fire("pasteFromWord", s) || t)) {
                                o.dontFilter = !0;
                                var c = a(e, n, function() {
                                    c ? e.fire("paste", o) : (!e.config.pasteFromWordPromptCleanup || t || confirm(e.lang.pastefromword.confirmCleanup)) && (s.dataValue = CKEDITOR.cleanWord(s.dataValue, e), 
                                    e.fire("afterPasteFromWord", s), o.dataValue = s.dataValue), t = 0;
                                });
                                c && i.cancel();
                            }
                        }, null, null, 3);
                    }
                });
            }(), function() {
                var e = {
                    canUndo: !1,
                    async: !0,
                    exec: function(e, t) {
                        var n = e.lang, i = CKEDITOR.tools.keystrokeToString(n.common.keyboard, e.getCommandKeystroke(CKEDITOR.env.ie ? e.commands.paste : this)), o = t && void 0 !== t.notification ? t.notification : !t || !t.from || "keystrokeHandler" === t.from && CKEDITOR.env.ie, n = o && "string" == typeof o ? o : n.pastetext.pasteNotification.replace(/%1/, '<kbd aria-label="' + i.aria + '">' + i.display + "</kbd>");
                        e.execCommand("paste", {
                            type: "text",
                            notification: !!o && n
                        });
                    }
                };
                CKEDITOR.plugins.add("pastetext", {
                    requires: "clipboard",
                    init: function(t) {
                        var n = CKEDITOR.env.safari ? CKEDITOR.CTRL + CKEDITOR.ALT + CKEDITOR.SHIFT + 86 : CKEDITOR.CTRL + CKEDITOR.SHIFT + 86;
                        t.addCommand("pastetext", e), t.setKeystroke(n, "pastetext"), t.ui.addButton && t.ui.addButton("PasteText", {
                            label: t.lang.pastetext.button,
                            command: "pastetext",
                            toolbar: "clipboard,40"
                        }), t.config.forcePasteAsPlainText && t.on("beforePaste", function(e) {
                            "html" != e.data.type && (e.data.type = "text");
                        }), t.on("pasteState", function(e) {
                            t.getCommand("pastetext").setState(e.data);
                        });
                    }
                });
            }(), CKEDITOR.plugins.add("removeformat", {
                init: function(e) {
                    e.addCommand("removeFormat", CKEDITOR.plugins.removeformat.commands.removeformat), 
                    e.ui.addButton && e.ui.addButton("RemoveFormat", {
                        label: e.lang.removeformat.toolbar,
                        command: "removeFormat",
                        toolbar: "cleanup,10"
                    });
                }
            }), CKEDITOR.plugins.removeformat = {
                commands: {
                    removeformat: {
                        exec: function(e) {
                            for (var t, n = e._.removeFormatRegex || (e._.removeFormatRegex = new RegExp("^(?:" + e.config.removeFormatTags.replace(/,/g, "|") + ")$", "i")), i = e._.removeAttributes || (e._.removeAttributes = e.config.removeFormatAttributes.split(",")), o = CKEDITOR.plugins.removeformat.filter, a = e.getSelection().getRanges(), r = a.createIterator(), s = function(e) {
                                return e.type == CKEDITOR.NODE_ELEMENT;
                            }; t = r.getNextRange(); ) {
                                t.collapsed || t.enlarge(CKEDITOR.ENLARGE_ELEMENT);
                                var l = t.createBookmark(), c = l.startNode, d = l.endNode, u = function(t) {
                                    for (var i, a = e.elementPath(t), r = a.elements, s = 1; (i = r[s]) && !i.equals(a.block) && !i.equals(a.blockLimit); s++) n.test(i.getName()) && o(e, i) && t.breakParent(i);
                                };
                                if (u(c), d) for (u(d), c = c.getNextSourceNode(!0, CKEDITOR.NODE_ELEMENT); c && !c.equals(d); ) if (c.isReadOnly()) {
                                    if (c.getPosition(d) & CKEDITOR.POSITION_CONTAINS) break;
                                    c = c.getNext(s);
                                } else u = c.getNextSourceNode(!1, CKEDITOR.NODE_ELEMENT), "img" == c.getName() && c.data("cke-realelement") || !o(e, c) || (n.test(c.getName()) ? c.remove(1) : (c.removeAttributes(i), 
                                e.fire("removeFormatCleanup", c))), c = u;
                                t.moveToBookmark(l);
                            }
                            e.forceNextSelectionCheck(), e.getSelection().selectRanges(a);
                        }
                    }
                },
                filter: function(e, t) {
                    for (var n = e._.removeFormatFilters || [], i = 0; i < n.length; i++) if (!1 === n[i](t)) return !1;
                    return !0;
                }
            }, CKEDITOR.editor.prototype.addRemoveFormatFilter = function(e) {
                this._.removeFormatFilters || (this._.removeFormatFilters = []), this._.removeFormatFilters.push(e);
            }, CKEDITOR.config.removeFormatTags = "b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var", 
            CKEDITOR.config.removeFormatAttributes = "class,style,lang,width,height,align,hspace,valign", 
            CKEDITOR.plugins.add("resize", {
                init: function(e) {
                    function f(n) {
                        var r = a.width, c = a.height, d = r + (n.data.$.screenX - o.x) * ("rtl" == i ? -1 : 1);
                        n = c + (n.data.$.screenY - o.y), s && (r = Math.max(t.resize_minWidth, Math.min(d, t.resize_maxWidth))), 
                        l && (c = Math.max(t.resize_minHeight, Math.min(n, t.resize_maxHeight))), e.resize(s ? r : null, c);
                    }
                    function b() {
                        CKEDITOR.document.removeListener("mousemove", f), CKEDITOR.document.removeListener("mouseup", b), 
                        e.document && (e.document.removeListener("mousemove", f), e.document.removeListener("mouseup", b));
                    }
                    var t = e.config, n = e.ui.spaceId("resizer"), i = e.element ? e.element.getDirection(1) : "ltr";
                    if (!t.resize_dir && (t.resize_dir = "vertical"), void 0 === t.resize_maxWidth && (t.resize_maxWidth = 3e3), 
                    void 0 === t.resize_maxHeight && (t.resize_maxHeight = 3e3), void 0 === t.resize_minWidth && (t.resize_minWidth = 750), 
                    void 0 === t.resize_minHeight && (t.resize_minHeight = 250), !1 !== t.resize_enabled) {
                        var o, a, r = null, s = ("both" == t.resize_dir || "horizontal" == t.resize_dir) && t.resize_minWidth != t.resize_maxWidth, l = ("both" == t.resize_dir || "vertical" == t.resize_dir) && t.resize_minHeight != t.resize_maxHeight, c = CKEDITOR.tools.addFunction(function(n) {
                            r || (r = e.getResizable()), a = {
                                width: r.$.offsetWidth || 0,
                                height: r.$.offsetHeight || 0
                            }, o = {
                                x: n.screenX,
                                y: n.screenY
                            }, t.resize_minWidth > a.width && (t.resize_minWidth = a.width), t.resize_minHeight > a.height && (t.resize_minHeight = a.height), 
                            CKEDITOR.document.on("mousemove", f), CKEDITOR.document.on("mouseup", b), e.document && (e.document.on("mousemove", f), 
                            e.document.on("mouseup", b)), n.preventDefault && n.preventDefault();
                        });
                        e.on("destroy", function() {
                            CKEDITOR.tools.removeFunction(c);
                        }), e.on("uiSpace", function(t) {
                            if ("bottom" == t.data.space) {
                                var o = "";
                                s && !l && (o = " cke_resizer_horizontal"), !s && l && (o = " cke_resizer_vertical");
                                var a = '<span id="' + n + '" class="cke_resizer' + o + " cke_resizer_" + i + '" title="' + CKEDITOR.tools.htmlEncode(e.lang.common.resize) + '" onmousedown="CKEDITOR.tools.callFunction(' + c + ', event)">' + ("ltr" == i ? "◢" : "◣") + "</span>";
                                "ltr" == i && "ltr" == o ? t.data.html += a : t.data.html = a + t.data.html;
                            }
                        }, e, null, 100), e.on("maximize", function(t) {
                            e.ui.space("resizer")[t.data == CKEDITOR.TRISTATE_ON ? "hide" : "show"]();
                        });
                    }
                }
            }), CKEDITOR.plugins.add("menubutton", {
                requires: "button,menu",
                onLoad: function() {
                    var e = function(e) {
                        var t = this._, n = t.menu;
                        t.state !== CKEDITOR.TRISTATE_DISABLED && (t.on && n ? n.hide() : (t.previousState = t.state, 
                        n || (n = t.menu = new CKEDITOR.menu(e, {
                            panel: {
                                className: "cke_menu_panel",
                                attributes: {
                                    "aria-label": e.lang.common.options
                                }
                            }
                        }), n.onHide = CKEDITOR.tools.bind(function() {
                            var n = this.command ? e.getCommand(this.command).modes : this.modes;
                            this.setState(!n || n[e.mode] ? t.previousState : CKEDITOR.TRISTATE_DISABLED), t.on = 0;
                        }, this), this.onMenu && n.addListener(this.onMenu)), this.setState(CKEDITOR.TRISTATE_ON), 
                        t.on = 1, setTimeout(function() {
                            n.show(CKEDITOR.document.getById(t.id), 4);
                        }, 0)));
                    };
                    CKEDITOR.ui.menuButton = CKEDITOR.tools.createClass({
                        base: CKEDITOR.ui.button,
                        $: function(t) {
                            delete t.panel, this.base(t), this.hasArrow = !0, this.click = e;
                        },
                        statics: {
                            handler: {
                                create: function(e) {
                                    return new CKEDITOR.ui.menuButton(e);
                                }
                            }
                        }
                    });
                },
                beforeInit: function(e) {
                    e.ui.addHandler(CKEDITOR.UI_MENUBUTTON, CKEDITOR.ui.menuButton.handler);
                }
            }), CKEDITOR.UI_MENUBUTTON = "menubutton", CKEDITOR.plugins.add("scayt", {
                requires: "menubutton,dialog",
                tabToOpen: null,
                dialogName: "scaytDialog",
                onLoad: function(e) {
                    CKEDITOR.plugins.scayt.onLoadTimestamp = new Date().getTime(), "moono-lisa" == (CKEDITOR.skinName || e.config.skin) && CKEDITOR.document.appendStyleSheet(this.path + "skins/" + CKEDITOR.skin.name + "/scayt.css"), 
                    CKEDITOR.document.appendStyleSheet(this.path + "dialogs/dialog.css");
                },
                init: function(e) {
                    var t = this, n = CKEDITOR.plugins.scayt;
                    this.bindEvents(e), this.parseConfig(e), this.addRule(e), CKEDITOR.dialog.add(this.dialogName, CKEDITOR.getUrl(this.path + "dialogs/options.js")), 
                    this.addMenuItems(e);
                    var i = e.lang.scayt, o = CKEDITOR.env;
                    e.ui.add("Scayt", CKEDITOR.UI_MENUBUTTON, {
                        label: i.text_title,
                        title: e.plugins.wsc ? e.lang.wsc.title : i.text_title,
                        modes: {
                            wysiwyg: !(o.ie && (8 > o.version || o.quirks))
                        },
                        toolbar: "spellchecker,20",
                        refresh: function() {
                            var t = e.ui.instances.Scayt.getState();
                            e.scayt && (t = n.state.scayt[e.name] ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF), 
                            e.fire("scaytButtonState", t);
                        },
                        onRender: function() {
                            var t = this;
                            e.on("scaytButtonState", function(e) {
                                void 0 !== typeof e.data && t.setState(e.data);
                            });
                        },
                        onMenu: function() {
                            var t = e.scayt;
                            e.getMenuItem("scaytToggle").label = e.lang.scayt[t && n.state.scayt[e.name] ? "btn_disable" : "btn_enable"];
                            var i = {
                                scaytToggle: CKEDITOR.TRISTATE_OFF,
                                scaytOptions: t ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                scaytLangs: t ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                scaytDict: t ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                scaytAbout: t ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                WSC: e.plugins.wsc ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED
                            };
                            return e.config.scayt_uiTabs[0] || delete i.scaytOptions, e.config.scayt_uiTabs[1] || delete i.scaytLangs, 
                            e.config.scayt_uiTabs[2] || delete i.scaytDict, t && !CKEDITOR.plugins.scayt.isNewUdSupported(t) && (delete i.scaytDict, 
                            e.config.scayt_uiTabs[2] = 0, CKEDITOR.plugins.scayt.alarmCompatibilityMessage()), 
                            i;
                        }
                    }), e.contextMenu && e.addMenuItems && (e.contextMenu.addListener(function(n, i) {
                        var o, a, r = e.scayt;
                        return r && (a = r.getSelectionNode()) && (o = t.menuGenerator(e, a), r.showBanner("." + e.contextMenu._.definition.panel.className.split(" ").join(" ."))), 
                        o;
                    }), e.contextMenu._.onHide = CKEDITOR.tools.override(e.contextMenu._.onHide, function(t) {
                        return function() {
                            var n = e.scayt;
                            return n && n.hideBanner(), t.apply(this);
                        };
                    }));
                },
                addMenuItems: function(e) {
                    var t = this, n = CKEDITOR.plugins.scayt;
                    e.addMenuGroup("scaytButton");
                    for (var i = e.config.scayt_contextMenuItemsOrder.split("|"), o = 0; o < i.length; o++) i[o] = "scayt_" + i[o];
                    if ((i = [ "grayt_description", "grayt_suggest", "grayt_control" ].concat(i)) && i.length) for (o = 0; o < i.length; o++) e.addMenuGroup(i[o], o - 10);
                    e.addCommand("scaytToggle", {
                        exec: function(e) {
                            var t = e.scayt;
                            n.state.scayt[e.name] = !n.state.scayt[e.name], !0 === n.state.scayt[e.name] ? t || n.createScayt(e) : t && n.destroy(e);
                        }
                    }), e.addCommand("scaytAbout", {
                        exec: function(e) {
                            e.scayt.tabToOpen = "about", e.lockSelection(), e.openDialog(t.dialogName);
                        }
                    }), e.addCommand("scaytOptions", {
                        exec: function(e) {
                            e.scayt.tabToOpen = "options", e.lockSelection(), e.openDialog(t.dialogName);
                        }
                    }), e.addCommand("scaytLangs", {
                        exec: function(e) {
                            e.scayt.tabToOpen = "langs", e.lockSelection(), e.openDialog(t.dialogName);
                        }
                    }), e.addCommand("scaytDict", {
                        exec: function(e) {
                            e.scayt.tabToOpen = "dictionaries", e.lockSelection(), e.openDialog(t.dialogName);
                        }
                    }), i = {
                        scaytToggle: {
                            label: e.lang.scayt.btn_enable,
                            group: "scaytButton",
                            command: "scaytToggle"
                        },
                        scaytAbout: {
                            label: e.lang.scayt.btn_about,
                            group: "scaytButton",
                            command: "scaytAbout"
                        },
                        scaytOptions: {
                            label: e.lang.scayt.btn_options,
                            group: "scaytButton",
                            command: "scaytOptions"
                        },
                        scaytLangs: {
                            label: e.lang.scayt.btn_langs,
                            group: "scaytButton",
                            command: "scaytLangs"
                        },
                        scaytDict: {
                            label: e.lang.scayt.btn_dictionaries,
                            group: "scaytButton",
                            command: "scaytDict"
                        }
                    }, e.plugins.wsc && (i.WSC = {
                        label: e.lang.wsc.toolbar,
                        group: "scaytButton",
                        onClick: function() {
                            var t = CKEDITOR.plugins.scayt, n = e.scayt, i = e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? e.container.getText() : e.document.getBody().getText();
                            (i = i.replace(/\s/g, "")) ? (n && t.state.scayt[e.name] && n.setMarkupPaused && n.setMarkupPaused(!0), 
                            e.lockSelection(), e.execCommand("checkspell")) : alert("Nothing to check!");
                        }
                    }), e.addMenuItems(i);
                },
                bindEvents: function(e) {
                    var t = CKEDITOR.plugins.scayt, n = e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE, i = function() {
                        t.destroy(e);
                    }, o = function() {
                        !t.state.scayt[e.name] || e.readOnly || e.scayt || t.createScayt(e);
                    }, a = function() {
                        var t = e.editable();
                        t.attachListener(t, "focus", function(t) {
                            CKEDITOR.plugins.scayt && !e.scayt && setTimeout(o, 0), t = CKEDITOR.plugins.scayt && CKEDITOR.plugins.scayt.state.scayt[e.name] && e.scayt;
                            var i, a;
                            if ((n || t) && e._.savedSelection) {
                                t = e._.savedSelection.getSelectedElement(), t = !t && e._.savedSelection.getRanges();
                                for (var r = 0; r < t.length; r++) a = t[r], "string" == typeof a.startContainer.$.nodeValue && ((i = a.startContainer.getText().length) < a.startOffset || i < a.endOffset) && e.unlockSelection(!1);
                            }
                        }, this, null, -10);
                    }, r = function() {
                        n ? e.config.scayt_inlineModeImmediateMarkup ? o() : (e.on("blur", function() {
                            setTimeout(i, 0);
                        }), e.on("focus", o), e.focusManager.hasFocus && o()) : o(), a();
                        var t = e.editable();
                        t.attachListener(t, "mousedown", function(t) {
                            t = t.data.getTarget();
                            var n = e.widgets && e.widgets.getByElement(t);
                            n && (n.wrapper = t.getAscendant(function(e) {
                                return e.hasAttribute("data-cke-widget-wrapper");
                            }, !0));
                        }, this, null, -10);
                    };
                    e.on("contentDom", r), e.on("beforeCommandExec", function(n) {
                        var i = e.scayt, o = !1, a = !1, r = !0;
                        n.data.name in t.options.disablingCommandExec && "wysiwyg" == e.mode ? i && (t.destroy(e), 
                        e.fire("scaytButtonState", CKEDITOR.TRISTATE_DISABLED)) : "bold" !== n.data.name && "italic" !== n.data.name && "underline" !== n.data.name && "strike" !== n.data.name && "subscript" !== n.data.name && "superscript" !== n.data.name && "enter" !== n.data.name && "cut" !== n.data.name && "language" !== n.data.name || !i || ("cut" === n.data.name && (r = !1, 
                        a = !0), "language" === n.data.name && (a = o = !0), e.fire("reloadMarkupScayt", {
                            removeOptions: {
                                removeInside: r,
                                forceBookmark: a,
                                language: o
                            },
                            timeout: 0
                        }));
                    }), e.on("beforeSetMode", function(n) {
                        "source" == n.data && ((n = e.scayt) && (t.destroy(e), e.fire("scaytButtonState", CKEDITOR.TRISTATE_DISABLED)), 
                        e.document && e.document.getBody().removeAttribute("_jquid"));
                    }), e.on("afterCommandExec", function(n) {
                        "wysiwyg" != e.mode || "undo" != n.data.name && "redo" != n.data.name || setTimeout(function() {
                            t.reloadMarkup(e.scayt);
                        }, 250);
                    }), e.on("readOnly", function(n) {
                        var i;
                        n && (i = e.scayt, !0 === n.editor.readOnly ? i && i.fire("removeMarkupInDocument", {}) : i ? t.reloadMarkup(i) : "wysiwyg" == n.editor.mode && !0 === t.state.scayt[n.editor.name] && (t.createScayt(e), 
                        n.editor.fire("scaytButtonState", CKEDITOR.TRISTATE_ON)));
                    }), e.on("beforeDestroy", i), e.on("setData", function() {
                        i(), (e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE || e.plugins.divarea) && r();
                    }, this, null, 50), e.on("reloadMarkupScayt", function(n) {
                        var i = n.data && n.data.removeOptions, o = n.data && n.data.timeout, a = n.data && n.data.language, r = e.scayt;
                        r && setTimeout(function() {
                            a && (i.selectionNode = e.plugins.language.getCurrentLangElement(e), i.selectionNode = i.selectionNode && i.selectionNode.$ || null), 
                            r.removeMarkupInSelectionNode(i), t.reloadMarkup(r);
                        }, o || 0);
                    }), e.on("insertElement", function() {
                        e.fire("reloadMarkupScayt", {
                            removeOptions: {
                                forceBookmark: !0
                            }
                        });
                    }, this, null, 50), e.on("insertHtml", function() {
                        e.scayt && e.scayt.setFocused && e.scayt.setFocused(!0), e.fire("reloadMarkupScayt");
                    }, this, null, 50), e.on("insertText", function() {
                        e.scayt && e.scayt.setFocused && e.scayt.setFocused(!0), e.fire("reloadMarkupScayt");
                    }, this, null, 50), e.on("scaytDialogShown", function(t) {
                        t.data.selectPage(e.scayt.tabToOpen);
                    });
                },
                parseConfig: function(e) {
                    var t = CKEDITOR.plugins.scayt;
                    if (t.replaceOldOptionsNames(e.config), "boolean" != typeof e.config.scayt_autoStartup && (e.config.scayt_autoStartup = !1), 
                    t.state.scayt[e.name] = e.config.scayt_autoStartup, "boolean" != typeof e.config.grayt_autoStartup && (e.config.grayt_autoStartup = !1), 
                    "boolean" != typeof e.config.scayt_inlineModeImmediateMarkup && (e.config.scayt_inlineModeImmediateMarkup = !1), 
                    t.state.grayt[e.name] = e.config.grayt_autoStartup, e.config.scayt_contextCommands || (e.config.scayt_contextCommands = "ignoreall|add"), 
                    e.config.scayt_contextMenuItemsOrder || (e.config.scayt_contextMenuItemsOrder = "suggest|moresuggest|control"), 
                    e.config.scayt_sLang || (e.config.scayt_sLang = "en_US"), (void 0 === e.config.scayt_maxSuggestions || "number" != typeof e.config.scayt_maxSuggestions || 0 > e.config.scayt_maxSuggestions) && (e.config.scayt_maxSuggestions = 5), 
                    (void 0 === e.config.scayt_minWordLength || "number" != typeof e.config.scayt_minWordLength || 1 > e.config.scayt_minWordLength) && (e.config.scayt_minWordLength = 4), 
                    void 0 !== e.config.scayt_customDictionaryIds && "string" == typeof e.config.scayt_customDictionaryIds || (e.config.scayt_customDictionaryIds = ""), 
                    void 0 !== e.config.scayt_userDictionaryName && "string" == typeof e.config.scayt_userDictionaryName || (e.config.scayt_userDictionaryName = null), 
                    "string" == typeof e.config.scayt_uiTabs && 3 === e.config.scayt_uiTabs.split(",").length) {
                        var n = [], i = [];
                        e.config.scayt_uiTabs = e.config.scayt_uiTabs.split(","), CKEDITOR.tools.search(e.config.scayt_uiTabs, function(e) {
                            1 === Number(e) || 0 === Number(e) ? (i.push(!0), n.push(Number(e))) : i.push(!1);
                        }), null === CKEDITOR.tools.search(i, !1) ? e.config.scayt_uiTabs = n : e.config.scayt_uiTabs = [ 1, 1, 1 ];
                    } else e.config.scayt_uiTabs = [ 1, 1, 1 ];
                    if ("string" != typeof e.config.scayt_serviceProtocol && (e.config.scayt_serviceProtocol = null), 
                    "string" != typeof e.config.scayt_serviceHost && (e.config.scayt_serviceHost = null), 
                    "string" != typeof e.config.scayt_servicePort && (e.config.scayt_servicePort = null), 
                    "string" != typeof e.config.scayt_servicePath && (e.config.scayt_servicePath = null), 
                    e.config.scayt_moreSuggestions || (e.config.scayt_moreSuggestions = "on"), "string" != typeof e.config.scayt_customerId && (e.config.scayt_customerId = "1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"), 
                    "string" != typeof e.config.scayt_customPunctuation && (e.config.scayt_customPunctuation = "-"), 
                    "string" != typeof e.config.scayt_srcUrl && (t = document.location.protocol, t = -1 != t.search(/https?:/) ? t : "http:", 
                    e.config.scayt_srcUrl = t + "//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js"), 
                    "boolean" != typeof CKEDITOR.config.scayt_handleCheckDirty && (CKEDITOR.config.scayt_handleCheckDirty = !0), 
                    "boolean" != typeof CKEDITOR.config.scayt_handleUndoRedo && (CKEDITOR.config.scayt_handleUndoRedo = !0), 
                    CKEDITOR.config.scayt_handleUndoRedo = !!CKEDITOR.plugins.undo && CKEDITOR.config.scayt_handleUndoRedo, 
                    "boolean" != typeof e.config.scayt_multiLanguageMode && (e.config.scayt_multiLanguageMode = !1), 
                    "object" != typeof e.config.scayt_multiLanguageStyles && (e.config.scayt_multiLanguageStyles = {}), 
                    e.config.scayt_ignoreAllCapsWords && "boolean" != typeof e.config.scayt_ignoreAllCapsWords && (e.config.scayt_ignoreAllCapsWords = !1), 
                    e.config.scayt_ignoreDomainNames && "boolean" != typeof e.config.scayt_ignoreDomainNames && (e.config.scayt_ignoreDomainNames = !1), 
                    e.config.scayt_ignoreWordsWithMixedCases && "boolean" != typeof e.config.scayt_ignoreWordsWithMixedCases && (e.config.scayt_ignoreWordsWithMixedCases = !1), 
                    e.config.scayt_ignoreWordsWithNumbers && "boolean" != typeof e.config.scayt_ignoreWordsWithNumbers && (e.config.scayt_ignoreWordsWithNumbers = !1), 
                    e.config.scayt_disableOptionsStorage) {
                        var t = CKEDITOR.tools.isArray(e.config.scayt_disableOptionsStorage) ? e.config.scayt_disableOptionsStorage : "string" == typeof e.config.scayt_disableOptionsStorage ? [ e.config.scayt_disableOptionsStorage ] : void 0, o = "all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "), a = [ "lang", "ignore-all-caps-words", "ignore-domain-names", "ignore-words-with-mixed-cases", "ignore-words-with-numbers" ], r = CKEDITOR.tools.search, s = CKEDITOR.tools.indexOf;
                        e.config.scayt_disableOptionsStorage = function(e) {
                            for (var t = [], n = 0; n < e.length; n++) {
                                var i = e[n], l = !!r(e, "options");
                                if (!r(o, i) || l && r(a, function(e) {
                                    if ("lang" === e) return !1;
                                })) return;
                                if (r(a, i) && a.splice(s(a, i), 1), "all" === i || l && r(e, "lang")) return [];
                                "options" === i && (a = [ "lang" ]);
                            }
                            return t = t.concat(a);
                        }(t);
                    }
                },
                addRule: function(e) {
                    var t = CKEDITOR.plugins.scayt, n = e.dataProcessor, i = n && n.htmlFilter, o = e._.elementsPath && e._.elementsPath.filters, n = n && n.dataFilter, a = e.addRemoveFormatFilter, r = function(n) {
                        if (e.scayt && (n.hasAttribute(t.options.data_attribute_name) || n.hasAttribute(t.options.problem_grammar_data_attribute))) return !1;
                    }, s = function(n) {
                        var i = !0;
                        return e.scayt && (n.hasAttribute(t.options.data_attribute_name) || n.hasAttribute(t.options.problem_grammar_data_attribute)) && (i = !1), 
                        i;
                    };
                    o && o.push(r), n && n.addRules({
                        elements: {
                            span: function(e) {
                                var n = e.hasClass(t.options.misspelled_word_class) && e.attributes[t.options.data_attribute_name], i = e.hasClass(t.options.problem_grammar_class) && e.attributes[t.options.problem_grammar_data_attribute];
                                return t && (n || i) && delete e.name, e;
                            }
                        }
                    }), i && i.addRules({
                        elements: {
                            span: function(e) {
                                var n = e.hasClass(t.options.misspelled_word_class) && e.attributes[t.options.data_attribute_name], i = e.hasClass(t.options.problem_grammar_class) && e.attributes[t.options.problem_grammar_data_attribute];
                                return t && (n || i) && delete e.name, e;
                            }
                        }
                    }), a && a.call(e, s);
                },
                scaytMenuDefinition: function(e) {
                    var t = this;
                    return e = e.scayt, {
                        scayt: {
                            scayt_ignore: {
                                label: e.getLocal("btn_ignore"),
                                group: "scayt_control",
                                order: 1,
                                exec: function(e) {
                                    e.scayt.ignoreWord();
                                }
                            },
                            scayt_ignoreall: {
                                label: e.getLocal("btn_ignoreAll"),
                                group: "scayt_control",
                                order: 2,
                                exec: function(e) {
                                    e.scayt.ignoreAllWords();
                                }
                            },
                            scayt_add: {
                                label: e.getLocal("btn_addWord"),
                                group: "scayt_control",
                                order: 3,
                                exec: function(e) {
                                    var t = e.scayt;
                                    setTimeout(function() {
                                        t.addWordToUserDictionary();
                                    }, 10);
                                }
                            },
                            scayt_option: {
                                label: e.getLocal("btn_options"),
                                group: "scayt_control",
                                order: 4,
                                exec: function(e) {
                                    e.scayt.tabToOpen = "options", e.lockSelection(), e.openDialog(t.dialogName);
                                },
                                verification: function(e) {
                                    return 1 == e.config.scayt_uiTabs[0];
                                }
                            },
                            scayt_language: {
                                label: e.getLocal("btn_langs"),
                                group: "scayt_control",
                                order: 5,
                                exec: function(e) {
                                    e.scayt.tabToOpen = "langs", e.lockSelection(), e.openDialog(t.dialogName);
                                },
                                verification: function(e) {
                                    return 1 == e.config.scayt_uiTabs[1];
                                }
                            },
                            scayt_dictionary: {
                                label: e.getLocal("btn_dictionaries"),
                                group: "scayt_control",
                                order: 6,
                                exec: function(e) {
                                    e.scayt.tabToOpen = "dictionaries", e.lockSelection(), e.openDialog(t.dialogName);
                                },
                                verification: function(e) {
                                    return 1 == e.config.scayt_uiTabs[2];
                                }
                            },
                            scayt_about: {
                                label: e.getLocal("btn_about"),
                                group: "scayt_control",
                                order: 7,
                                exec: function(e) {
                                    e.scayt.tabToOpen = "about", e.lockSelection(), e.openDialog(t.dialogName);
                                }
                            }
                        },
                        grayt: {
                            grayt_problemdescription: {
                                label: "Grammar problem description",
                                group: "grayt_description",
                                order: 1,
                                state: CKEDITOR.TRISTATE_DISABLED,
                                exec: function(e) {}
                            },
                            grayt_ignore: {
                                label: e.getLocal("btn_ignore"),
                                group: "grayt_control",
                                order: 2,
                                exec: function(e) {
                                    e.scayt.ignorePhrase();
                                }
                            },
                            grayt_ignoreall: {
                                label: e.getLocal("btn_ignoreAll"),
                                group: "grayt_control",
                                order: 3,
                                exec: function(e) {
                                    e.scayt.ignoreAllPhrases();
                                }
                            }
                        }
                    };
                },
                buildSuggestionMenuItems: function(e, t, n) {
                    var i = {}, o = {}, a = n ? "word" : "phrase", r = n ? "startGrammarCheck" : "startSpellCheck", s = e.scayt;
                    if (0 < t.length && "no_any_suggestions" !== t[0]) if (n) for (n = 0; n < t.length; n++) {
                        var l = "scayt_suggest_" + CKEDITOR.plugins.scayt.suggestions[n].replace(" ", "_");
                        e.addCommand(l, this.createCommand(CKEDITOR.plugins.scayt.suggestions[n], a, r)), 
                        n < e.config.scayt_maxSuggestions ? (e.addMenuItem(l, {
                            label: t[n],
                            command: l,
                            group: "scayt_suggest",
                            order: n + 1
                        }), i[l] = CKEDITOR.TRISTATE_OFF) : (e.addMenuItem(l, {
                            label: t[n],
                            command: l,
                            group: "scayt_moresuggest",
                            order: n + 1
                        }), o[l] = CKEDITOR.TRISTATE_OFF, "on" === e.config.scayt_moreSuggestions && (e.addMenuItem("scayt_moresuggest", {
                            label: s.getLocal("btn_moreSuggestions"),
                            group: "scayt_moresuggest",
                            order: 10,
                            getItems: function() {
                                return o;
                            }
                        }), i.scayt_moresuggest = CKEDITOR.TRISTATE_OFF));
                    } else for (n = 0; n < t.length; n++) l = "grayt_suggest_" + CKEDITOR.plugins.scayt.suggestions[n].replace(" ", "_"), 
                    e.addCommand(l, this.createCommand(CKEDITOR.plugins.scayt.suggestions[n], a, r)), 
                    e.addMenuItem(l, {
                        label: t[n],
                        command: l,
                        group: "grayt_suggest",
                        order: n + 1
                    }), i[l] = CKEDITOR.TRISTATE_OFF; else i.no_scayt_suggest = CKEDITOR.TRISTATE_DISABLED, 
                    e.addCommand("no_scayt_suggest", {
                        exec: function() {}
                    }), e.addMenuItem("no_scayt_suggest", {
                        label: s.getLocal("btn_noSuggestions") || "no_scayt_suggest",
                        command: "no_scayt_suggest",
                        group: "scayt_suggest",
                        order: 0
                    });
                    return i;
                },
                menuGenerator: function(e, t) {
                    var n, i, o, a = e.scayt, r = this.scaytMenuDefinition(e), s = {}, l = e.config.scayt_contextCommands.split("|"), c = t.getAttribute(a.getLangAttribute()) || a.getLang();
                    if (n = a.isScaytNode(t), i = a.isGraytNode(t), n ? (r = r.scayt, s = t.getAttribute(a.getScaytNodeAttributeName()), 
                    a.fire("getSuggestionsList", {
                        lang: c,
                        word: s
                    }), s = this.buildSuggestionMenuItems(e, CKEDITOR.plugins.scayt.suggestions, n)) : i && (r = r.grayt, 
                    s = t.getAttribute(a.getGraytNodeAttributeName()), o = a.getProblemDescriptionText(s, c), 
                    r.grayt_problemdescription && o && (r.grayt_problemdescription.label = o), a.fire("getGrammarSuggestionsList", {
                        lang: c,
                        phrase: s
                    }), s = this.buildSuggestionMenuItems(e, CKEDITOR.plugins.scayt.suggestions, n)), 
                    n && "off" == e.config.scayt_contextCommands) return s;
                    for (var d in r) n && -1 == CKEDITOR.tools.indexOf(l, d.replace("scayt_", "")) && "all" != e.config.scayt_contextCommands || i && "grayt_problemdescription" !== d && -1 == CKEDITOR.tools.indexOf(l, d.replace("grayt_", "")) && "all" != e.config.scayt_contextCommands || (s[d] = void 0 !== r[d].state ? r[d].state : CKEDITOR.TRISTATE_OFF, 
                    "function" != typeof r[d].verification || r[d].verification(e) || delete s[d], e.addCommand(d, {
                        exec: r[d].exec
                    }), e.addMenuItem(d, {
                        label: e.lang.scayt[r[d].label] || r[d].label,
                        command: d,
                        group: r[d].group,
                        order: r[d].order
                    }));
                    return s;
                },
                createCommand: function(e, t, n) {
                    return {
                        exec: function(i) {
                            i = i.scayt;
                            var o = {};
                            o[t] = e, i.replaceSelectionNode(o), "startGrammarCheck" === n && i.removeMarkupInSelectionNode({
                                grammarOnly: !0
                            }), i.fire(n);
                        }
                    };
                }
            }), CKEDITOR.plugins.scayt = {
                charsToObserve: [ {
                    charName: "cke-fillingChar",
                    charCode: function() {
                        var e, t = CKEDITOR.version.match(/^\d(\.\d*)*/), t = t && t[0];
                        if (t) {
                            e = "4.5.7";
                            var n, t = t.replace(/\./g, "");
                            e = e.replace(/\./g, ""), n = t.length - e.length, n = 0 <= n ? n : 0, e = parseInt(t) >= parseInt(e) * Math.pow(10, n);
                        }
                        return e ? Array(7).join(String.fromCharCode(8203)) : String.fromCharCode(8203);
                    }()
                } ],
                onLoadTimestamp: "",
                state: {
                    scayt: {},
                    grayt: {}
                },
                warningCounter: 0,
                suggestions: [],
                options: {
                    disablingCommandExec: {
                        source: !0,
                        newpage: !0,
                        templates: !0
                    },
                    data_attribute_name: "data-scayt-word",
                    misspelled_word_class: "scayt-misspell-word",
                    problem_grammar_data_attribute: "data-grayt-phrase",
                    problem_grammar_class: "gramm-problem"
                },
                backCompatibilityMap: {
                    scayt_service_protocol: "scayt_serviceProtocol",
                    scayt_service_host: "scayt_serviceHost",
                    scayt_service_port: "scayt_servicePort",
                    scayt_service_path: "scayt_servicePath",
                    scayt_customerid: "scayt_customerId"
                },
                alarmCompatibilityMessage: function() {
                    5 > this.warningCounter && (console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."), 
                    this.warningCounter += 1);
                },
                isNewUdSupported: function(e) {
                    return !!e.getUserDictionary;
                },
                reloadMarkup: function(e) {
                    var t;
                    e && (t = e.getScaytLangList(), e.reloadMarkup ? e.reloadMarkup() : (this.alarmCompatibilityMessage(), 
                    t && t.ltr && t.rtl && e.fire("startSpellCheck, startGrammarCheck")));
                },
                replaceOldOptionsNames: function(e) {
                    for (var t in e) t in this.backCompatibilityMap && (e[this.backCompatibilityMap[t]] = e[t], 
                    delete e[t]);
                },
                createScayt: function(t) {
                    var n = this, i = CKEDITOR.plugins.scayt;
                    this.loadScaytLibrary(t, function(t) {
                        function e(e) {
                            return new SCAYT.CKSCAYT(e, function() {}, function() {});
                        }
                        var o = t.window && t.window.getFrame() || t.editable();
                        if (o) {
                            o = {
                                lang: t.config.scayt_sLang,
                                container: o.$,
                                customDictionary: t.config.scayt_customDictionaryIds,
                                userDictionaryName: t.config.scayt_userDictionaryName,
                                localization: t.langCode,
                                customer_id: t.config.scayt_customerId,
                                customPunctuation: t.config.scayt_customPunctuation,
                                debug: t.config.scayt_debug,
                                data_attribute_name: n.options.data_attribute_name,
                                misspelled_word_class: n.options.misspelled_word_class,
                                problem_grammar_data_attribute: n.options.problem_grammar_data_attribute,
                                problem_grammar_class: n.options.problem_grammar_class,
                                "options-to-restore": t.config.scayt_disableOptionsStorage,
                                focused: t.editable().hasFocus,
                                ignoreElementsRegex: t.config.scayt_elementsToIgnore,
                                ignoreGraytElementsRegex: t.config.grayt_elementsToIgnore,
                                minWordLength: t.config.scayt_minWordLength,
                                multiLanguageMode: t.config.scayt_multiLanguageMode,
                                multiLanguageStyles: t.config.scayt_multiLanguageStyles,
                                graytAutoStartup: t.config.grayt_autoStartup,
                                charsToObserve: i.charsToObserve
                            }, t.config.scayt_serviceProtocol && (o.service_protocol = t.config.scayt_serviceProtocol), 
                            t.config.scayt_serviceHost && (o.service_host = t.config.scayt_serviceHost), t.config.scayt_servicePort && (o.service_port = t.config.scayt_servicePort), 
                            t.config.scayt_servicePath && (o.service_path = t.config.scayt_servicePath), "boolean" == typeof t.config.scayt_ignoreAllCapsWords && (o["ignore-all-caps-words"] = t.config.scayt_ignoreAllCapsWords), 
                            "boolean" == typeof t.config.scayt_ignoreDomainNames && (o["ignore-domain-names"] = t.config.scayt_ignoreDomainNames), 
                            "boolean" == typeof t.config.scayt_ignoreWordsWithMixedCases && (o["ignore-words-with-mixed-cases"] = t.config.scayt_ignoreWordsWithMixedCases), 
                            "boolean" == typeof t.config.scayt_ignoreWordsWithNumbers && (o["ignore-words-with-numbers"] = t.config.scayt_ignoreWordsWithNumbers);
                            var a;
                            try {
                                a = e(o);
                            } catch (t) {
                                n.alarmCompatibilityMessage(), delete o.charsToObserve, a = e(o);
                            }
                            a.subscribe("suggestionListSend", function(e) {
                                for (var t = {}, n = [], i = 0; i < e.suggestionList.length; i++) t["word_" + e.suggestionList[i]] || (t["word_" + e.suggestionList[i]] = e.suggestionList[i], 
                                n.push(e.suggestionList[i]));
                                CKEDITOR.plugins.scayt.suggestions = n;
                            }), a.subscribe("selectionIsChanged", function(e) {
                                t.getSelection().isLocked && t.lockSelection();
                            }), a.subscribe("graytStateChanged", function(e) {
                                i.state.grayt[t.name] = e.state;
                            }), a.addMarkupHandler && a.addMarkupHandler(function(e) {
                                var n = t.editable(), i = n.getCustomData(e.charName);
                                i && (i.$ = e.node, n.setCustomData(e.charName, i));
                            }), t.scayt = a, t.fire("scaytButtonState", t.readOnly ? CKEDITOR.TRISTATE_DISABLED : CKEDITOR.TRISTATE_ON);
                        } else i.state.scayt[t.name] = !1;
                    });
                },
                destroy: function(e) {
                    e.scayt && e.scayt.destroy(), delete e.scayt, e.fire("scaytButtonState", CKEDITOR.TRISTATE_OFF);
                },
                loadScaytLibrary: function(e, t) {
                    var n, i = function() {
                        CKEDITOR.fireOnce("scaytReady"), e.scayt || "function" == typeof t && t(e);
                    };
                    void 0 === window.SCAYT || "function" != typeof window.SCAYT.CKSCAYT ? (n = e.config.scayt_srcUrl + "?" + this.onLoadTimestamp, 
                    CKEDITOR.scriptLoader.load(n, function(e) {
                        e && i();
                    })) : window.SCAYT && "function" == typeof window.SCAYT.CKSCAYT && i();
                }
            }, CKEDITOR.on("dialogDefinition", function(e) {
                var t = e.data.name;
                e = e.data.definition.dialog, "scaytDialog" === t && e.on("cancel", function(e) {
                    return !1;
                }, this, null, -1), "checkspell" === t && e.on("cancel", function(e) {
                    e = e.sender && e.sender.getParentEditor();
                    var t = CKEDITOR.plugins.scayt, n = e.scayt;
                    n && t.state.scayt[e.name] && n.setMarkupPaused && n.setMarkupPaused(!1), e.unlockSelection();
                }, this, null, -2), "link" === t && e.on("ok", function(e) {
                    var t = e.sender && e.sender.getParentEditor();
                    t && setTimeout(function() {
                        t.fire("reloadMarkupScayt", {
                            removeOptions: {
                                removeInside: !0,
                                forceBookmark: !0
                            },
                            timeout: 0
                        });
                    }, 0);
                }), "replace" === t && e.on("hide", function(e) {
                    e = e.sender && e.sender.getParentEditor();
                    var t = CKEDITOR.plugins.scayt, n = e.scayt;
                    e && setTimeout(function() {
                        n && (n.fire("removeMarkupInDocument", {}), t.reloadMarkup(n));
                    }, 0);
                });
            }), CKEDITOR.on("scaytReady", function() {
                if (!0 === CKEDITOR.config.scayt_handleCheckDirty) {
                    var e = CKEDITOR.editor.prototype;
                    e.checkDirty = CKEDITOR.tools.override(e.checkDirty, function(e) {
                        return function() {
                            var t = null, n = this.scayt;
                            if (CKEDITOR.plugins.scayt && CKEDITOR.plugins.scayt.state.scayt[this.name] && this.scayt) {
                                if (t = "ready" == this.status) var i = n.removeMarkupFromString(this.getSnapshot()), n = n.removeMarkupFromString(this._.previousValue), t = t && n !== i;
                            } else t = e.call(this);
                            return t;
                        };
                    }), e.resetDirty = CKEDITOR.tools.override(e.resetDirty, function(e) {
                        return function() {
                            var t = this.scayt;
                            CKEDITOR.plugins.scayt && CKEDITOR.plugins.scayt.state.scayt[this.name] && this.scayt ? this._.previousValue = t.removeMarkupFromString(this.getSnapshot()) : e.call(this);
                        };
                    });
                }
                if (!0 === CKEDITOR.config.scayt_handleUndoRedo) {
                    var e = CKEDITOR.plugins.undo.Image.prototype, t = "function" == typeof e.equalsContent ? "equalsContent" : "equals";
                    e[t] = CKEDITOR.tools.override(e[t], function(e) {
                        return function(t) {
                            var n = t.editor.scayt, i = this.contents, o = t.contents, a = null;
                            return CKEDITOR.plugins.scayt && CKEDITOR.plugins.scayt.state.scayt[t.editor.name] && t.editor.scayt && (this.contents = n.removeMarkupFromString(i) || "", 
                            t.contents = n.removeMarkupFromString(o) || ""), a = e.apply(this, arguments), this.contents = i, 
                            t.contents = o, a;
                        };
                    });
                }
            }), function() {
                var e = {
                    preserveState: !0,
                    editorFocus: !1,
                    readOnly: 1,
                    exec: function(e) {
                        this.toggleState(), this.refresh(e);
                    },
                    refresh: function(e) {
                        if (e.document) {
                            var t = this.state == CKEDITOR.TRISTATE_ON ? "attachClass" : "removeClass";
                            e.editable()[t]("cke_show_borders");
                        }
                    }
                };
                CKEDITOR.plugins.add("showborders", {
                    modes: {
                        wysiwyg: 1
                    },
                    onLoad: function() {
                        var e;
                        e = (CKEDITOR.env.ie6Compat ? [ ".%1 table.%2,", ".%1 table.%2 td, .%1 table.%2 th", "{", "border : #d3d3d3 1px dotted", "}" ] : ".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g, "cke_show_border").replace(/%1/g, "cke_show_borders "), 
                        CKEDITOR.addCss(e);
                    },
                    init: function(t) {
                        var n = t.addCommand("showborders", e);
                        n.canUndo = !1, !1 !== t.config.startupShowBorders && n.setState(CKEDITOR.TRISTATE_ON), 
                        t.on("mode", function() {
                            n.state != CKEDITOR.TRISTATE_DISABLED && n.refresh(t);
                        }, null, null, 100), t.on("contentDom", function() {
                            n.state != CKEDITOR.TRISTATE_DISABLED && n.refresh(t);
                        }), t.on("removeFormatCleanup", function(e) {
                            e = e.data, t.getCommand("showborders").state == CKEDITOR.TRISTATE_ON && e.is("table") && (!e.hasAttribute("border") || 0 >= parseInt(e.getAttribute("border"), 10)) && e.addClass("cke_show_border");
                        });
                    },
                    afterInit: function(e) {
                        var t = e.dataProcessor;
                        e = t && t.dataFilter, t = t && t.htmlFilter, e && e.addRules({
                            elements: {
                                table: function(e) {
                                    e = e.attributes;
                                    var t = e.class, n = parseInt(e.border, 10);
                                    n && !(0 >= n) || t && -1 != t.indexOf("cke_show_border") || (e.class = (t || "") + " cke_show_border");
                                }
                            }
                        }), t && t.addRules({
                            elements: {
                                table: function(e) {
                                    e = e.attributes;
                                    var t = e.class;
                                    t && (e.class = t.replace("cke_show_border", "").replace(/\s{2}/, " ").replace(/^\s+|\s+$/, ""));
                                }
                            }
                        });
                    }
                }), CKEDITOR.on("dialogDefinition", function(e) {
                    var t = e.data.name;
                    "table" != t && "tableProperties" != t || (e = e.data.definition, t = e.getContents("info").get("txtBorder"), 
                    t.commit = CKEDITOR.tools.override(t.commit, function(e) {
                        return function(t, n) {
                            e.apply(this, arguments);
                            var i = parseInt(this.getValue(), 10);
                            n[!i || 0 >= i ? "addClass" : "removeClass"]("cke_show_border");
                        };
                    }), (e = (e = e.getContents("advanced")) && e.get("advCSSClasses")) && (e.setup = CKEDITOR.tools.override(e.setup, function(e) {
                        return function() {
                            e.apply(this, arguments), this.setValue(this.getValue().replace(/cke_show_border/, ""));
                        };
                    }), e.commit = CKEDITOR.tools.override(e.commit, function(e) {
                        return function(t, n) {
                            e.apply(this, arguments), parseInt(n.getAttribute("border"), 10) || n.addClass("cke_show_border");
                        };
                    })));
                });
            }(), function() {
                CKEDITOR.plugins.add("sourcearea", {
                    init: function(t) {
                        function b() {
                            var e = i && this.equals(CKEDITOR.document.getActive());
                            this.hide(), this.setStyle("height", this.getParent().$.clientHeight + "px"), this.setStyle("width", this.getParent().$.clientWidth + "px"), 
                            this.show(), e && this.focus();
                        }
                        if (t.elementMode != CKEDITOR.ELEMENT_MODE_INLINE) {
                            var n = CKEDITOR.plugins.sourcearea;
                            t.addMode("source", function(n) {
                                var i = t.ui.space("contents").getDocument().createElement("textarea");
                                i.setStyles(CKEDITOR.tools.extend({
                                    width: CKEDITOR.env.ie7Compat ? "99%" : "100%",
                                    height: "100%",
                                    resize: "none",
                                    outline: "none",
                                    "text-align": "left"
                                }, CKEDITOR.tools.cssVendorPrefix("tab-size", t.config.sourceAreaTabSize || 4))), 
                                i.setAttribute("dir", "ltr"), i.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"), 
                                t.ui.space("contents").append(i), i = t.editable(new e(t, i)), i.setData(t.getData(1)), 
                                CKEDITOR.env.ie && (i.attachListener(t, "resize", b, i), i.attachListener(CKEDITOR.document.getWindow(), "resize", b, i), 
                                CKEDITOR.tools.setTimeout(b, 0, i)), t.fire("ariaWidget", this), n();
                            }), t.addCommand("source", n.commands.source), t.ui.addButton && t.ui.addButton("Source", {
                                label: t.lang.sourcearea.toolbar,
                                command: "source",
                                toolbar: "mode,10"
                            }), t.on("mode", function() {
                                t.getCommand("source").setState("source" == t.mode ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF);
                            });
                            var i = CKEDITOR.env.ie && 9 == CKEDITOR.env.version;
                        }
                    }
                });
                var e = CKEDITOR.tools.createClass({
                    base: CKEDITOR.editable,
                    proto: {
                        setData: function(e) {
                            this.setValue(e), this.status = "ready", this.editor.fire("dataReady");
                        },
                        getData: function() {
                            return this.getValue();
                        },
                        insertHtml: function() {},
                        insertElement: function() {},
                        insertText: function() {},
                        setReadOnly: function(e) {
                            this[(e ? "set" : "remove") + "Attribute"]("readOnly", "readonly");
                        },
                        detach: function() {
                            e.baseProto.detach.call(this), this.clearCustomData(), this.remove();
                        }
                    }
                });
            }(), CKEDITOR.plugins.sourcearea = {
                commands: {
                    source: {
                        modes: {
                            wysiwyg: 1,
                            source: 1
                        },
                        editorFocus: !1,
                        readOnly: 1,
                        exec: function(e) {
                            "wysiwyg" == e.mode && e.fire("saveSnapshot"), e.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED), 
                            e.setMode("source" == e.mode ? "wysiwyg" : "source");
                        },
                        canUndo: !1
                    }
                }
            }, CKEDITOR.plugins.add("specialchar", {
                availableLangs: {
                    af: 1,
                    ar: 1,
                    az: 1,
                    bg: 1,
                    ca: 1,
                    cs: 1,
                    cy: 1,
                    da: 1,
                    de: 1,
                    "de-ch": 1,
                    el: 1,
                    en: 1,
                    "en-au": 1,
                    "en-ca": 1,
                    "en-gb": 1,
                    eo: 1,
                    es: 1,
                    "es-mx": 1,
                    et: 1,
                    eu: 1,
                    fa: 1,
                    fi: 1,
                    fr: 1,
                    "fr-ca": 1,
                    gl: 1,
                    he: 1,
                    hr: 1,
                    hu: 1,
                    id: 1,
                    it: 1,
                    ja: 1,
                    km: 1,
                    ko: 1,
                    ku: 1,
                    lt: 1,
                    lv: 1,
                    nb: 1,
                    nl: 1,
                    no: 1,
                    oc: 1,
                    pl: 1,
                    pt: 1,
                    "pt-br": 1,
                    ru: 1,
                    si: 1,
                    sk: 1,
                    sl: 1,
                    sq: 1,
                    sv: 1,
                    th: 1,
                    tr: 1,
                    tt: 1,
                    ug: 1,
                    uk: 1,
                    vi: 1,
                    zh: 1,
                    "zh-cn": 1
                },
                requires: "dialog",
                init: function(e) {
                    var t = this;
                    CKEDITOR.dialog.add("specialchar", this.path + "dialogs/specialchar.js"), e.addCommand("specialchar", {
                        exec: function() {
                            var n = e.langCode, n = t.availableLangs[n] ? n : t.availableLangs[n.replace(/-.*/, "")] ? n.replace(/-.*/, "") : "en";
                            CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path + "dialogs/lang/" + n + ".js"), function() {
                                CKEDITOR.tools.extend(e.lang.specialchar, t.langEntries[n]), e.openDialog("specialchar");
                            });
                        },
                        modes: {
                            wysiwyg: 1
                        },
                        canUndo: !1
                    }), e.ui.addButton && e.ui.addButton("SpecialChar", {
                        label: e.lang.specialchar.toolbar,
                        command: "specialchar",
                        toolbar: "insert,50"
                    });
                }
            }), CKEDITOR.config.specialChars = "! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "), 
            function() {
                CKEDITOR.plugins.add("stylescombo", {
                    requires: "richcombo",
                    init: function(e) {
                        var t = e.config, n = e.lang.stylescombo, i = {}, o = [], a = [];
                        e.on("stylesSet", function(n) {
                            if (n = n.data.styles) {
                                for (var r, s, l, c = 0, d = n.length; c < d; c++) r = n[c], e.blockless && r.element in CKEDITOR.dtd.$block || "string" == typeof r.type && !CKEDITOR.style.customHandlers[r.type] || (s = r.name, 
                                r = new CKEDITOR.style(r), e.filter.customConfig && !e.filter.check(r)) || (r._name = s, 
                                r._.enterMode = t.enterMode, r._.type = l = r.assignedTo || r.type, r._.weight = c + 1e3 * (l == CKEDITOR.STYLE_OBJECT ? 1 : l == CKEDITOR.STYLE_BLOCK ? 2 : 3), 
                                i[s] = r, o.push(r), a.push(r));
                                o.sort(function(e, t) {
                                    return e._.weight - t._.weight;
                                });
                            }
                        }), e.ui.addRichCombo("Styles", {
                            label: n.label,
                            title: n.panelTitle,
                            toolbar: "styles,10",
                            allowedContent: a,
                            panel: {
                                css: [ CKEDITOR.skin.getPath("editor") ].concat(t.contentsCss),
                                multiSelect: !0,
                                attributes: {
                                    "aria-label": n.panelTitle
                                }
                            },
                            init: function() {
                                var e, t, i, a, r, s;
                                for (r = 0, s = o.length; r < s; r++) e = o[r], t = e._name, a = e._.type, a != i && (this.startGroup(n["panelTitle" + String(a)]), 
                                i = a), this.add(t, e.type == CKEDITOR.STYLE_OBJECT ? t : e.buildPreview(), t);
                                this.commit();
                            },
                            onClick: function(t) {
                                e.focus(), e.fire("saveSnapshot"), t = i[t];
                                var n = e.elementPath();
                                t.group && t.removeStylesFromSameGroup(e) ? e.applyStyle(t) : e[t.checkActive(n, e) ? "removeStyle" : "applyStyle"](t), 
                                e.fire("saveSnapshot");
                            },
                            onRender: function() {
                                e.on("selectionChange", function(t) {
                                    var n = this.getValue();
                                    t = t.data.path.elements;
                                    for (var o, a = 0, r = t.length; a < r; a++) {
                                        o = t[a];
                                        for (var s in i) if (i[s].checkElementRemovable(o, !0, e)) return void (s != n && this.setValue(s));
                                    }
                                    this.setValue("");
                                }, this);
                            },
                            onOpen: function() {
                                var t = e.getSelection().getSelectedElement() || e.editable(), t = e.elementPath(t), o = [ 0, 0, 0, 0 ];
                                this.showAll(), this.unmarkAll();
                                for (var a in i) {
                                    var r = i[a], s = r._.type;
                                    r.checkApplicable(t, e, e.activeFilter) ? o[s]++ : this.hideItem(a), r.checkActive(t, e) && this.mark(a);
                                }
                                o[CKEDITOR.STYLE_BLOCK] || this.hideGroup(n["panelTitle" + String(CKEDITOR.STYLE_BLOCK)]), 
                                o[CKEDITOR.STYLE_INLINE] || this.hideGroup(n["panelTitle" + String(CKEDITOR.STYLE_INLINE)]), 
                                o[CKEDITOR.STYLE_OBJECT] || this.hideGroup(n["panelTitle" + String(CKEDITOR.STYLE_OBJECT)]);
                            },
                            refresh: function() {
                                var t = e.elementPath();
                                if (t) {
                                    for (var n in i) if (i[n].checkApplicable(t, e, e.activeFilter)) return;
                                    this.setState(CKEDITOR.TRISTATE_DISABLED);
                                }
                            },
                            reset: function() {
                                i = {}, o = [];
                            }
                        });
                    }
                });
            }(), function() {
                function a(e) {
                    return {
                        editorFocus: !1,
                        canUndo: !1,
                        modes: {
                            wysiwyg: 1
                        },
                        exec: function(t) {
                            if (t.editable().hasFocus) {
                                var n, i = t.getSelection();
                                if (n = new CKEDITOR.dom.elementPath(i.getCommonAncestor(), i.root).contains({
                                    td: 1,
                                    th: 1
                                }, 1)) {
                                    var i = t.createRange(), o = CKEDITOR.tools.tryThese(function() {
                                        var t = n.getParent().$.cells[n.$.cellIndex + (e ? -1 : 1)];
                                        return t.parentNode.parentNode, t;
                                    }, function() {
                                        var t = n.getParent(), t = t.getAscendant("table").$.rows[t.$.rowIndex + (e ? -1 : 1)];
                                        return t.cells[e ? t.cells.length - 1 : 0];
                                    });
                                    if (o || e) {
                                        if (!o) return !0;
                                        o = new CKEDITOR.dom.element(o), i.moveToElementEditStart(o), i.checkStartOfBlock() && i.checkEndOfBlock() || i.selectNodeContents(o);
                                    } else {
                                        for (var a = n.getAscendant("table").$, o = n.getParent().$.cells, a = new CKEDITOR.dom.element(a.insertRow(-1), t.document), r = 0, s = o.length; r < s; r++) a.append(new CKEDITOR.dom.element(o[r], t.document).clone(!1, !1)).appendBogus();
                                        i.moveToElementEditStart(a);
                                    }
                                    return i.select(!0), !0;
                                }
                            }
                            return !1;
                        }
                    };
                }
                var e = {
                    editorFocus: !1,
                    modes: {
                        wysiwyg: 1,
                        source: 1
                    }
                }, t = {
                    exec: function(e) {
                        e.container.focusNext(!0, e.tabIndex);
                    }
                }, n = {
                    exec: function(e) {
                        e.container.focusPrevious(!0, e.tabIndex);
                    }
                };
                CKEDITOR.plugins.add("tab", {
                    init: function(i) {
                        for (var o = !1 !== i.config.enableTabKeyTools, r = i.config.tabSpaces || 0, s = ""; r--; ) s += " ";
                        s && i.on("key", function(e) {
                            9 == e.data.keyCode && (i.insertText(s), e.cancel());
                        }), o && i.on("key", function(e) {
                            (9 == e.data.keyCode && i.execCommand("selectNextCell") || e.data.keyCode == CKEDITOR.SHIFT + 9 && i.execCommand("selectPreviousCell")) && e.cancel();
                        }), i.addCommand("blur", CKEDITOR.tools.extend(t, e)), i.addCommand("blurBack", CKEDITOR.tools.extend(n, e)), 
                        i.addCommand("selectNextCell", a()), i.addCommand("selectPreviousCell", a(!0));
                    }
                });
            }(), CKEDITOR.dom.element.prototype.focusNext = function(e, t) {
                var n, i, o, a, r, s, l = void 0 === t ? this.getTabIndex() : t;
                if (0 >= l) for (r = this.getNextSourceNode(e, CKEDITOR.NODE_ELEMENT); r; ) {
                    if (r.isVisible() && 0 === r.getTabIndex()) {
                        o = r;
                        break;
                    }
                    r = r.getNextSourceNode(!1, CKEDITOR.NODE_ELEMENT);
                } else for (r = this.getDocument().getBody().getFirst(); r = r.getNextSourceNode(!1, CKEDITOR.NODE_ELEMENT); ) {
                    if (!n) if (!i && r.equals(this)) {
                        if (i = !0, e) {
                            if (!(r = r.getNextSourceNode(!0, CKEDITOR.NODE_ELEMENT))) break;
                            n = 1;
                        }
                    } else i && !this.contains(r) && (n = 1);
                    if (r.isVisible() && !(0 > (s = r.getTabIndex()))) {
                        if (n && s == l) {
                            o = r;
                            break;
                        }
                        s > l && (!o || !a || s < a) ? (o = r, a = s) : o || 0 !== s || (o = r, a = s);
                    }
                }
                o && o.focus();
            }, CKEDITOR.dom.element.prototype.focusPrevious = function(e, t) {
                for (var n, i, o, a, r = void 0 === t ? this.getTabIndex() : t, s = 0, l = this.getDocument().getBody().getLast(); l = l.getPreviousSourceNode(!1, CKEDITOR.NODE_ELEMENT); ) {
                    if (!n) if (!i && l.equals(this)) {
                        if (i = !0, e) {
                            if (!(l = l.getPreviousSourceNode(!0, CKEDITOR.NODE_ELEMENT))) break;
                            n = 1;
                        }
                    } else i && !this.contains(l) && (n = 1);
                    if (l.isVisible() && !(0 > (a = l.getTabIndex()))) if (0 >= r) {
                        if (n && 0 === a) {
                            o = l;
                            break;
                        }
                        a > s && (o = l, s = a);
                    } else {
                        if (n && a == r) {
                            o = l;
                            break;
                        }
                        a < r && (!o || a > s) && (o = l, s = a);
                    }
                }
                o && o.focus();
            }, CKEDITOR.plugins.add("table", {
                requires: "dialog",
                init: function(e) {
                    function f(e) {
                        return CKEDITOR.tools.extend(e || {}, {
                            contextSensitive: 1,
                            refresh: function(e, t) {
                                this.setState(t.contains("table", 1) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
                            }
                        });
                    }
                    if (!e.blockless) {
                        var t = e.lang.table;
                        e.addCommand("table", new CKEDITOR.dialogCommand("table", {
                            context: "table",
                            allowedContent: "table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];" + (e.plugins.dialogadvtab ? "table" + e.plugins.dialogadvtab.allowedContent() : ""),
                            requiredContent: "table",
                            contentTransformations: [ [ "table{width}: sizeToStyle", "table[width]: sizeToAttribute" ], [ "td: splitBorderShorthand" ], [ {
                                element: "table",
                                right: function(e) {
                                    e.styles && (e.styles.border && e.styles.border.match(/solid/) && (e.attributes.border = 1), 
                                    "collapse" == e.styles["border-collapse"] && (e.attributes.cellspacing = 0));
                                }
                            } ] ]
                        })), e.addCommand("tableProperties", new CKEDITOR.dialogCommand("tableProperties", f())), 
                        e.addCommand("tableDelete", f({
                            exec: function(e) {
                                var t = e.elementPath().contains("table", 1);
                                if (t) {
                                    var n = t.getParent(), i = e.editable();
                                    1 != n.getChildCount() || n.is("td", "th") || n.equals(i) || (t = n), e = e.createRange(), 
                                    e.moveToPosition(t, CKEDITOR.POSITION_BEFORE_START), t.remove(), e.select();
                                }
                            }
                        })), e.ui.addButton && e.ui.addButton("Table", {
                            label: t.toolbar,
                            command: "table",
                            toolbar: "insert,30"
                        }), CKEDITOR.dialog.add("table", this.path + "dialogs/table.js"), CKEDITOR.dialog.add("tableProperties", this.path + "dialogs/table.js"), 
                        e.addMenuItems && e.addMenuItems({
                            table: {
                                label: t.menu,
                                command: "tableProperties",
                                group: "table",
                                order: 5
                            },
                            tabledelete: {
                                label: t.deleteTable,
                                command: "tableDelete",
                                group: "table",
                                order: 1
                            }
                        }), e.on("doubleclick", function(e) {
                            e.data.element.is("table") && (e.data.dialog = "tableProperties");
                        }), e.contextMenu && e.contextMenu.addListener(function() {
                            return {
                                tabledelete: CKEDITOR.TRISTATE_OFF,
                                table: CKEDITOR.TRISTATE_OFF
                            };
                        });
                    }
                }
            }), function() {
                function a(e, n) {
                    function c(e) {
                        return !n || n.contains(e) && e.getAscendant("table", !0).equals(n);
                    }
                    function d(e) {
                        0 < i.length || e.type != CKEDITOR.NODE_ELEMENT || !t.test(e.getName()) || e.getCustomData("selected_cell") || (CKEDITOR.dom.element.setMarker(o, e, "selected_cell", !0), 
                        i.push(e));
                    }
                    var i = [], o = {};
                    if (!e) return i;
                    for (var a = e.getRanges(), r = 0; r < a.length; r++) {
                        var s = a[r];
                        if (s.collapsed) (s = s.getCommonAncestor().getAscendant({
                            td: 1,
                            th: 1
                        }, !0)) && c(s) && i.push(s); else {
                            var l, s = new CKEDITOR.dom.walker(s);
                            for (s.guard = d; l = s.next(); ) l.type == CKEDITOR.NODE_ELEMENT && l.is(CKEDITOR.dtd.table) || (l = l.getAscendant({
                                td: 1,
                                th: 1
                            }, !0)) && !l.getCustomData("selected_cell") && c(l) && (CKEDITOR.dom.element.setMarker(o, l, "selected_cell", !0), 
                            i.push(l));
                        }
                    }
                    return CKEDITOR.dom.element.clearAllMarkers(o), i;
                }
                function f(e, t) {
                    for (var n = i(e) ? e : a(e), o = n[0], r = o.getAscendant("table"), o = o.getDocument(), s = n[0].getParent(), l = s.$.rowIndex, n = n[n.length - 1], c = n.getParent().$.rowIndex + n.$.rowSpan - 1, n = new CKEDITOR.dom.element(r.$.rows[c]), l = t ? l : c, s = t ? s : n, n = CKEDITOR.tools.buildTableMap(r), r = n[l], l = t ? n[l - 1] : n[l + 1], n = n[0].length, o = o.createElement("tr"), c = 0; r[c] && c < n; c++) {
                        var d;
                        1 < r[c].rowSpan && l && r[c] == l[c] ? (d = r[c], d.rowSpan += 1) : (d = new CKEDITOR.dom.element(r[c]).clone(), 
                        d.removeAttribute("rowSpan"), d.appendBogus(), o.append(d), d = d.$), c += d.colSpan - 1;
                    }
                    return t ? o.insertBefore(s) : o.insertAfter(s), o;
                }
                function b(e) {
                    if (e instanceof CKEDITOR.dom.selection) {
                        var t = e.getRanges(), n = a(e), i = n[0].getAscendant("table"), o = CKEDITOR.tools.buildTableMap(i), r = n[0].getParent().$.rowIndex, n = n[n.length - 1], s = n.getParent().$.rowIndex + n.$.rowSpan - 1, n = [];
                        for (e.reset(), e = r; e <= s; e++) {
                            for (var l = o[e], c = new CKEDITOR.dom.element(i.$.rows[e]), d = 0; d < l.length; d++) {
                                var u = new CKEDITOR.dom.element(l[d]), h = u.getParent().$.rowIndex;
                                1 == u.$.rowSpan ? u.remove() : (--u.$.rowSpan, h == e && (h = o[e + 1], h[d - 1] ? u.insertAfter(new CKEDITOR.dom.element(h[d - 1])) : new CKEDITOR.dom.element(i.$.rows[e + 1]).append(u, 1))), 
                                d += u.$.colSpan - 1;
                            }
                            n.push(c);
                        }
                        for (o = i.$.rows, t[0].moveToPosition(i, CKEDITOR.POSITION_BEFORE_START), r = new CKEDITOR.dom.element(o[s + 1] || (0 < r ? o[r - 1] : null) || i.$.parentNode), 
                        e = n.length; 0 <= e; e--) b(n[e]);
                        return i.$.parentNode ? r : (t[0].select(), null);
                    }
                    return e instanceof CKEDITOR.dom.element && (i = e.getAscendant("table"), 1 == i.$.rows.length ? i.remove() : e.remove()), 
                    null;
                }
                function c(e, t) {
                    for (var n = e.getParent().$.cells, i = 0, o = 0; o < n.length; o++) {
                        var a = n[o], i = i + (t ? 1 : a.colSpan);
                        if (a == e.$) break;
                    }
                    return i - 1;
                }
                function e(e, t) {
                    for (var n = t ? 1 / 0 : 0, i = 0; i < e.length; i++) {
                        var o = c(e[i], t);
                        (t ? o < n : o > n) && (n = o);
                    }
                    return n;
                }
                function l(t, n) {
                    for (var o = i(t) ? t : a(t), r = o[0].getAscendant("table"), s = e(o, 1), o = e(o), l = n ? s : o, c = CKEDITOR.tools.buildTableMap(r), r = [], s = [], o = [], d = c.length, u = 0; u < d; u++) r.push(c[u][l]), 
                    s.push(n ? c[u][l - 1] : c[u][l + 1]);
                    for (u = 0; u < d; u++) r[u] && (1 < r[u].colSpan && s[u] == r[u] ? (c = r[u], c.colSpan += 1) : (l = new CKEDITOR.dom.element(r[u]), 
                    c = l.clone(), c.removeAttribute("colSpan"), c.appendBogus(), c[n ? "insertBefore" : "insertAfter"].call(c, l), 
                    o.push(c), c = c.$), u += c.rowSpan - 1);
                    return o;
                }
                function k(e, t) {
                    var n = e.getStartElement().getAscendant({
                        td: 1,
                        th: 1
                    }, !0);
                    if (n) {
                        var i = n.clone();
                        i.appendBogus(), t ? i.insertBefore(n) : i.insertAfter(n);
                    }
                }
                function d(e) {
                    if (e instanceof CKEDITOR.dom.selection) {
                        var t, n = e.getRanges(), i = a(e), o = i[0] && i[0].getAscendant("table");
                        e: {
                            var r = 0;
                            t = i.length - 1;
                            for (var s, l, c = {}; s = i[r++]; ) CKEDITOR.dom.element.setMarker(c, s, "delete_cell", !0);
                            for (r = 0; s = i[r++]; ) if ((l = s.getPrevious()) && !l.getCustomData("delete_cell") || (l = s.getNext()) && !l.getCustomData("delete_cell")) {
                                CKEDITOR.dom.element.clearAllMarkers(c), t = l;
                                break e;
                            }
                            CKEDITOR.dom.element.clearAllMarkers(c), r = i[0].getParent(), (r = r.getPrevious()) ? t = r.getLast() : (r = i[t].getParent(), 
                            t = (r = r.getNext()) ? r.getChild(0) : null);
                        }
                        for (e.reset(), e = i.length - 1; 0 <= e; e--) d(i[e]);
                        t ? h(t, !0) : o && (n[0].moveToPosition(o, CKEDITOR.POSITION_BEFORE_START), n[0].select(), 
                        o.remove());
                    } else e instanceof CKEDITOR.dom.element && (n = e.getParent(), 1 == n.getChildCount() ? n.remove() : e.remove());
                }
                function h(e, t) {
                    var n = e.getDocument(), i = CKEDITOR.document;
                    CKEDITOR.env.ie && 10 == CKEDITOR.env.version && (i.focus(), n.focus()), n = new CKEDITOR.dom.range(n), 
                    n["moveToElementEdit" + (t ? "End" : "Start")](e) || (n.selectNodeContents(e), n.collapse(!t)), 
                    n.select(!0);
                }
                function m(e, t, n) {
                    if (e = e[t], void 0 === n) return e;
                    for (t = 0; e && t < e.length; t++) {
                        if (n.is && e[t] == n.$) return t;
                        if (t == n) return new CKEDITOR.dom.element(e[t]);
                    }
                    return n.is ? -1 : null;
                }
                function g(e, t, n) {
                    var i, o = a(e);
                    if ((t ? 1 != o.length : 2 > o.length) || (i = e.getCommonAncestor()) && i.type == CKEDITOR.NODE_ELEMENT && i.is("table")) return !1;
                    var r;
                    e = o[0], i = e.getAscendant("table");
                    var s = CKEDITOR.tools.buildTableMap(i), l = s.length, c = s[0].length, d = e.getParent().$.rowIndex, u = m(s, d, e);
                    if (t) {
                        var h;
                        try {
                            var f = parseInt(e.getAttribute("rowspan"), 10) || 1;
                            r = parseInt(e.getAttribute("colspan"), 10) || 1, h = s["up" == t ? d - f : "down" == t ? d + f : d]["left" == t ? u - r : "right" == t ? u + r : u];
                        } catch (e) {
                            return !1;
                        }
                        if (!h || e.$ == h) return !1;
                        o["up" == t || "left" == t ? "unshift" : "push"](new CKEDITOR.dom.element(h));
                    }
                    t = e.getDocument();
                    var g = d, f = h = 0, E = !n && new CKEDITOR.dom.documentFragment(t), p = 0;
                    for (t = 0; t < o.length; t++) {
                        r = o[t];
                        var T = r.getParent(), C = r.getFirst(), I = r.$.colSpan, O = r.$.rowSpan, T = T.$.rowIndex, D = m(s, T, r), p = p + I * O, f = Math.max(f, D - u + I);
                        h = Math.max(h, T - d + O), n || (I = r, (O = I.getBogus()) && O.remove(), I.trim(), 
                        r.getChildren().count() && (T == g || !C || C.isBlockBoundary && C.isBlockBoundary({
                            br: 1
                        }) || !(g = E.getLast(CKEDITOR.dom.walker.whitespaces(!0))) || g.is && g.is("br") || E.append("br"), 
                        r.moveChildren(E)), t ? r.remove() : r.setHtml("")), g = T;
                    }
                    if (n) return h * f == p;
                    for (E.moveChildren(e), e.appendBogus(), f >= c ? e.removeAttribute("rowSpan") : e.$.rowSpan = h, 
                    h >= l ? e.removeAttribute("colSpan") : e.$.colSpan = f, n = new CKEDITOR.dom.nodeList(i.$.rows), 
                    o = n.count(), t = o - 1; 0 <= t; t--) i = n.getItem(t), i.$.cells.length || (i.remove(), 
                    o++);
                    return e;
                }
                function n(e, t) {
                    var n = a(e);
                    if (1 < n.length) return !1;
                    if (t) return !0;
                    var i, n = n[0], o = n.getParent(), r = o.getAscendant("table"), s = CKEDITOR.tools.buildTableMap(r), l = o.$.rowIndex, c = m(s, l, n), d = n.$.rowSpan;
                    if (1 < d) {
                        i = Math.ceil(d / 2);
                        for (var u, d = Math.floor(d / 2), o = l + i, r = new CKEDITOR.dom.element(r.$.rows[o]), s = m(s, o), o = n.clone(), l = 0; l < s.length; l++) {
                            if (u = s[l], u.parentNode == r.$ && l > c) {
                                o.insertBefore(new CKEDITOR.dom.element(u));
                                break;
                            }
                            u = null;
                        }
                        u || r.append(o);
                    } else for (d = i = 1, r = o.clone(), r.insertAfter(o), r.append(o = n.clone()), 
                    u = m(s, l), c = 0; c < u.length; c++) u[c].rowSpan++;
                    return o.appendBogus(), n.$.rowSpan = i, o.$.rowSpan = d, 1 == i && n.removeAttribute("rowSpan"), 
                    1 == d && o.removeAttribute("rowSpan"), o;
                }
                function r(e, t) {
                    var n = a(e);
                    if (1 < n.length) return !1;
                    if (t) return !0;
                    var n = n[0], i = n.getParent(), o = i.getAscendant("table"), o = CKEDITOR.tools.buildTableMap(o), r = m(o, i.$.rowIndex, n), s = n.$.colSpan;
                    if (1 < s) i = Math.ceil(s / 2), s = Math.floor(s / 2); else {
                        for (var s = i = 1, l = [], c = 0; c < o.length; c++) {
                            var d = o[c];
                            l.push(d[r]), 1 < d[r].rowSpan && (c += d[r].rowSpan - 1);
                        }
                        for (o = 0; o < l.length; o++) l[o].colSpan++;
                    }
                    return o = n.clone(), o.insertAfter(n), o.appendBogus(), n.$.colSpan = i, o.$.colSpan = s, 
                    1 == i && n.removeAttribute("colSpan"), 1 == s && o.removeAttribute("colSpan"), 
                    o;
                }
                var t = /^(?:td|th)$/, i = CKEDITOR.tools.isArray;
                CKEDITOR.plugins.tabletools = {
                    requires: "table,dialog,contextmenu",
                    init: function(t) {
                        function e(e) {
                            return CKEDITOR.tools.extend(e || {}, {
                                contextSensitive: 1,
                                refresh: function(e, t) {
                                    this.setState(t.contains({
                                        td: 1,
                                        th: 1
                                    }, 1) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
                                }
                            });
                        }
                        function m(e, n) {
                            var i = t.addCommand(e, n);
                            t.addFeature(i);
                        }
                        var i = t.lang.table, o = CKEDITOR.tools.style.parse;
                        m("cellProperties", new CKEDITOR.dialogCommand("cellProperties", e({
                            allowedContent: "td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",
                            requiredContent: "table",
                            contentTransformations: [ [ {
                                element: "td",
                                left: function(e) {
                                    return e.styles.background && o.background(e.styles.background).color;
                                },
                                right: function(e) {
                                    e.styles["background-color"] = o.background(e.styles.background).color;
                                }
                            }, {
                                element: "td",
                                check: "td{vertical-align}",
                                left: function(e) {
                                    return e.attributes && e.attributes.valign;
                                },
                                right: function(e) {
                                    e.styles["vertical-align"] = e.attributes.valign, delete e.attributes.valign;
                                }
                            } ], [ {
                                element: "tr",
                                check: "td{height}",
                                left: function(e) {
                                    return e.styles && e.styles.height;
                                },
                                right: function(e) {
                                    CKEDITOR.tools.array.forEach(e.children, function(t) {
                                        t.name in {
                                            td: 1,
                                            th: 1
                                        } && (t.attributes["cke-row-height"] = e.styles.height);
                                    }), delete e.styles.height;
                                }
                            } ], [ {
                                element: "td",
                                check: "td{height}",
                                left: function(e) {
                                    return (e = e.attributes) && e["cke-row-height"];
                                },
                                right: function(e) {
                                    e.styles.height = e.attributes["cke-row-height"], delete e.attributes["cke-row-height"];
                                }
                            } ] ]
                        }))), CKEDITOR.dialog.add("cellProperties", this.path + "dialogs/tableCell.js"), 
                        m("rowDelete", e({
                            requiredContent: "table",
                            exec: function(e) {
                                e = e.getSelection(), (e = b(e)) && h(e);
                            }
                        })), m("rowInsertBefore", e({
                            requiredContent: "table",
                            exec: function(e) {
                                e = e.getSelection(), e = a(e), f(e, !0);
                            }
                        })), m("rowInsertAfter", e({
                            requiredContent: "table",
                            exec: function(e) {
                                e = e.getSelection(), e = a(e), f(e);
                            }
                        })), m("columnDelete", e({
                            requiredContent: "table",
                            exec: function(e) {
                                var t = e.getSelection();
                                e = t.getRanges();
                                var n, i, o = a(t), r = o[0], s = o[o.length - 1], o = r.getAscendant("table"), l = CKEDITOR.tools.buildTableMap(o), c = [];
                                t.reset();
                                for (var d = 0, t = l.length; d < t; d++) for (var u = 0, f = l[d].length; u < f; u++) l[d][u] == r.$ && (n = u), 
                                l[d][u] == s.$ && (i = u);
                                for (d = n; d <= i; d++) for (u = 0; u < l.length; u++) s = l[u], r = new CKEDITOR.dom.element(o.$.rows[u]), 
                                s = new CKEDITOR.dom.element(s[d]), s.$ && (1 == s.$.colSpan ? s.remove() : --s.$.colSpan, 
                                u += s.$.rowSpan - 1, r.$.cells.length || c.push(r));
                                i = o.$.rows[0] && o.$.rows[0].cells, n = new CKEDITOR.dom.element(i[n] || (n ? i[n - 1] : o.$.parentNode)), 
                                c.length == t && (e[0].moveToPosition(o, CKEDITOR.POSITION_AFTER_END), e[0].select(), 
                                o.remove()), n && h(n, !0);
                            }
                        })), m("columnInsertBefore", e({
                            requiredContent: "table",
                            exec: function(e) {
                                e = e.getSelection(), e = a(e), l(e, !0);
                            }
                        })), m("columnInsertAfter", e({
                            requiredContent: "table",
                            exec: function(e) {
                                e = e.getSelection(), e = a(e), l(e);
                            }
                        })), m("cellDelete", e({
                            requiredContent: "table",
                            exec: function(e) {
                                e = e.getSelection(), d(e);
                            }
                        })), m("cellMerge", e({
                            allowedContent: "td[colspan,rowspan]",
                            requiredContent: "td[colspan,rowspan]",
                            exec: function(e, t) {
                                t.cell = g(e.getSelection()), h(t.cell, !0);
                            }
                        })), m("cellMergeRight", e({
                            allowedContent: "td[colspan]",
                            requiredContent: "td[colspan]",
                            exec: function(e, t) {
                                t.cell = g(e.getSelection(), "right"), h(t.cell, !0);
                            }
                        })), m("cellMergeDown", e({
                            allowedContent: "td[rowspan]",
                            requiredContent: "td[rowspan]",
                            exec: function(e, t) {
                                t.cell = g(e.getSelection(), "down"), h(t.cell, !0);
                            }
                        })), m("cellVerticalSplit", e({
                            allowedContent: "td[rowspan]",
                            requiredContent: "td[rowspan]",
                            exec: function(e) {
                                h(r(e.getSelection()));
                            }
                        })), m("cellHorizontalSplit", e({
                            allowedContent: "td[colspan]",
                            requiredContent: "td[colspan]",
                            exec: function(e) {
                                h(n(e.getSelection()));
                            }
                        })), m("cellInsertBefore", e({
                            requiredContent: "table",
                            exec: function(e) {
                                e = e.getSelection(), k(e, !0);
                            }
                        })), m("cellInsertAfter", e({
                            requiredContent: "table",
                            exec: function(e) {
                                e = e.getSelection(), k(e);
                            }
                        })), t.addMenuItems && t.addMenuItems({
                            tablecell: {
                                label: i.cell.menu,
                                group: "tablecell",
                                order: 1,
                                getItems: function() {
                                    var e = t.getSelection(), i = a(e);
                                    return {
                                        tablecell_insertBefore: CKEDITOR.TRISTATE_OFF,
                                        tablecell_insertAfter: CKEDITOR.TRISTATE_OFF,
                                        tablecell_delete: CKEDITOR.TRISTATE_OFF,
                                        tablecell_merge: g(e, null, !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                        tablecell_merge_right: g(e, "right", !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                        tablecell_merge_down: g(e, "down", !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                        tablecell_split_vertical: r(e, !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                        tablecell_split_horizontal: n(e, !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                        tablecell_properties: 0 < i.length ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED
                                    };
                                }
                            },
                            tablecell_insertBefore: {
                                label: i.cell.insertBefore,
                                group: "tablecell",
                                command: "cellInsertBefore",
                                order: 5
                            },
                            tablecell_insertAfter: {
                                label: i.cell.insertAfter,
                                group: "tablecell",
                                command: "cellInsertAfter",
                                order: 10
                            },
                            tablecell_delete: {
                                label: i.cell.deleteCell,
                                group: "tablecell",
                                command: "cellDelete",
                                order: 15
                            },
                            tablecell_merge: {
                                label: i.cell.merge,
                                group: "tablecell",
                                command: "cellMerge",
                                order: 16
                            },
                            tablecell_merge_right: {
                                label: i.cell.mergeRight,
                                group: "tablecell",
                                command: "cellMergeRight",
                                order: 17
                            },
                            tablecell_merge_down: {
                                label: i.cell.mergeDown,
                                group: "tablecell",
                                command: "cellMergeDown",
                                order: 18
                            },
                            tablecell_split_horizontal: {
                                label: i.cell.splitHorizontal,
                                group: "tablecell",
                                command: "cellHorizontalSplit",
                                order: 19
                            },
                            tablecell_split_vertical: {
                                label: i.cell.splitVertical,
                                group: "tablecell",
                                command: "cellVerticalSplit",
                                order: 20
                            },
                            tablecell_properties: {
                                label: i.cell.title,
                                group: "tablecellproperties",
                                command: "cellProperties",
                                order: 21
                            },
                            tablerow: {
                                label: i.row.menu,
                                group: "tablerow",
                                order: 1,
                                getItems: function() {
                                    return {
                                        tablerow_insertBefore: CKEDITOR.TRISTATE_OFF,
                                        tablerow_insertAfter: CKEDITOR.TRISTATE_OFF,
                                        tablerow_delete: CKEDITOR.TRISTATE_OFF
                                    };
                                }
                            },
                            tablerow_insertBefore: {
                                label: i.row.insertBefore,
                                group: "tablerow",
                                command: "rowInsertBefore",
                                order: 5
                            },
                            tablerow_insertAfter: {
                                label: i.row.insertAfter,
                                group: "tablerow",
                                command: "rowInsertAfter",
                                order: 10
                            },
                            tablerow_delete: {
                                label: i.row.deleteRow,
                                group: "tablerow",
                                command: "rowDelete",
                                order: 15
                            },
                            tablecolumn: {
                                label: i.column.menu,
                                group: "tablecolumn",
                                order: 1,
                                getItems: function() {
                                    return {
                                        tablecolumn_insertBefore: CKEDITOR.TRISTATE_OFF,
                                        tablecolumn_insertAfter: CKEDITOR.TRISTATE_OFF,
                                        tablecolumn_delete: CKEDITOR.TRISTATE_OFF
                                    };
                                }
                            },
                            tablecolumn_insertBefore: {
                                label: i.column.insertBefore,
                                group: "tablecolumn",
                                command: "columnInsertBefore",
                                order: 5
                            },
                            tablecolumn_insertAfter: {
                                label: i.column.insertAfter,
                                group: "tablecolumn",
                                command: "columnInsertAfter",
                                order: 10
                            },
                            tablecolumn_delete: {
                                label: i.column.deleteColumn,
                                group: "tablecolumn",
                                command: "columnDelete",
                                order: 15
                            }
                        }), t.contextMenu && t.contextMenu.addListener(function(e, t, n) {
                            return (e = n.contains({
                                td: 1,
                                th: 1
                            }, 1)) && !e.isReadOnly() ? {
                                tablecell: CKEDITOR.TRISTATE_OFF,
                                tablerow: CKEDITOR.TRISTATE_OFF,
                                tablecolumn: CKEDITOR.TRISTATE_OFF
                            } : null;
                        });
                    },
                    getCellColIndex: c,
                    insertRow: f,
                    insertColumn: l,
                    getSelectedCells: a
                }, CKEDITOR.plugins.add("tabletools", CKEDITOR.plugins.tabletools);
            }(), CKEDITOR.tools.buildTableMap = function(e, t, n, i, o) {
                e = e.$.rows, n = n || 0, i = "number" == typeof i ? i : e.length - 1, o = "number" == typeof o ? o : -1;
                var a = -1, r = [];
                for (t = t || 0; t <= i; t++) {
                    a++, !r[a] && (r[a] = []);
                    for (var s = -1, l = n; l <= (-1 === o ? e[t].cells.length - 1 : o); l++) {
                        var c = e[t].cells[l];
                        if (!c) break;
                        for (s++; r[a][s]; ) s++;
                        for (var d = isNaN(c.colSpan) ? 1 : c.colSpan, c = isNaN(c.rowSpan) ? 1 : c.rowSpan, u = 0; u < c && !(t + u > i); u++) {
                            r[a + u] || (r[a + u] = []);
                            for (var h = 0; h < d; h++) r[a + u][s + h] = e[t].cells[l];
                        }
                        if (s += d - 1, -1 !== o && s >= o) break;
                    }
                }
                return r;
            }, function() {
                function a(e, t) {
                    var n, i, o = e.getAscendant("table"), a = t.getAscendant("table"), r = CKEDITOR.tools.buildTableMap(o), s = m(e), l = m(t), c = [], d = {};
                    for (o.contains(a) && (t = t.getAscendant({
                        td: 1,
                        th: 1
                    }), l = m(t)), s > l && (o = s, s = l, l = o, o = e, e = t, t = o), o = 0; o < r[s].length; o++) if (e.$ === r[s][o]) {
                        n = o;
                        break;
                    }
                    for (o = 0; o < r[l].length; o++) if (t.$ === r[l][o]) {
                        i = o;
                        break;
                    }
                    for (n > i && (o = n, n = i, i = o), o = s; o <= l; o++) for (s = n; s <= i; s++) a = new CKEDITOR.dom.element(r[o][s]), 
                    a.$ && !a.getCustomData("selected_cell") && (c.push(a), CKEDITOR.dom.element.setMarker(d, a, "selected_cell", !0));
                    return CKEDITOR.dom.element.clearAllMarkers(d), c;
                }
                function f(e) {
                    return e = e.data.$, CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? 1 === e.button : 0 === e.button;
                }
                function b(e) {
                    if (e) return e = e.clone(), e.enlarge(CKEDITOR.ENLARGE_ELEMENT), (e = e.getEnclosedNode()) && e.is && e.is(CKEDITOR.dtd.$tableContent);
                }
                function c(e) {
                    return (e = e.editable().findOne(".cke_table-faked-selection")) && e.getAscendant("table");
                }
                function e(e, t) {
                    var n, i = e.editable().find(".cke_table-faked-selection");
                    for (e.fire("lockSnapshot"), e.editable().removeClass("cke_table-faked-selection-editor"), 
                    n = 0; n < i.count(); n++) i.getItem(n).removeClass("cke_table-faked-selection");
                    0 < i.count() && i.getItem(0).getAscendant("table").data("cke-table-faked-selection-table", !1), 
                    e.fire("unlockSnapshot"), t && (E = {
                        active: !1
                    }, e.getSelection().isInTable() && e.getSelection().reset());
                }
                function l(e, t) {
                    var n, i, o = [];
                    for (i = 0; i < t.length; i++) n = e.createRange(), n.setStartBefore(t[i]), n.setEndAfter(t[i]), 
                    o.push(n);
                    e.getSelection().selectRanges(o);
                }
                function k(e) {
                    var t = e.editable().find(".cke_table-faked-selection");
                    1 > t.count() || (t = a(t.getItem(0), t.getItem(t.count() - 1)), l(e, t));
                }
                function d(t, n, o) {
                    var r = i(t.getSelection(!0));
                    n = n.is("table") ? null : n;
                    var s;
                    if ((s = E.active && !E.first) && !(s = n) && (s = t.getSelection().getRanges(), 
                    s = !!(1 < r.length || s[0] && !s[0].collapsed)), s) E.first = n || r[0], E.dirty = !n && 1 !== r.length; else if (E.active && n && E.first.getAscendant("table").equals(n.getAscendant("table"))) {
                        if (r = a(E.first, n), !E.dirty && 1 === r.length) return e(t, "mouseup" === o.name);
                        E.dirty = !0, E.last = n, l(t, r);
                    }
                }
                function h(t) {
                    var n, o = (t = t.editor || t.sender.editor) && t.getSelection(), a = o && o.getRanges() || [];
                    if (o && (e(t), o.isInTable() && o.isFake)) {
                        for (1 === a.length && a[0]._getTableElement() && a[0]._getTableElement().is("table") && (n = a[0]._getTableElement()), 
                        n = i(o, n), t.fire("lockSnapshot"), o = 0; o < n.length; o++) n[o].addClass("cke_table-faked-selection");
                        0 < n.length && (t.editable().addClass("cke_table-faked-selection-editor"), n[0].getAscendant("table").data("cke-table-faked-selection-table", "")), 
                        t.fire("unlockSnapshot");
                    }
                }
                function m(e) {
                    return e.getAscendant("tr", !0).$.rowIndex;
                }
                function g(t) {
                    function b(e, t) {
                        return !(!e || !t) && (e.equals(t) || e.contains(t) || t.contains(e) || e.getCommonAncestor(t).is(s));
                    }
                    function h(e) {
                        return !e.getAscendant("table", !0) && e.getDocument().equals(n.document);
                    }
                    if (t.data.getTarget().getName) {
                        var n = t.editor || t.listenerData.editor, i = n.getSelection(1), o = c(n), a = t.data.getTarget(), r = a && a.getAscendant({
                            td: 1,
                            th: 1
                        }, !0), a = a && a.getAscendant("table", !0), s = {
                            table: 1,
                            thead: 1,
                            tbody: 1,
                            tfoot: 1,
                            tr: 1,
                            td: 1,
                            th: 1
                        };
                        (function(e, t, n, i) {
                            return !(("mousedown" !== e.name || !f(e) && i) && ("mouseup" !== e.name || h(e.data.getTarget()) || b(n, i)));
                        })(t, i, o, a) && e(n, !0), !E.active && "mousedown" === t.name && f(t) && a && (E = {
                            active: !0
                        }, CKEDITOR.document.on("mouseup", g, null, {
                            editor: n
                        })), (r || a) && d(n, r || a, t), "mouseup" === t.name && (f(t) && (h(t.data.getTarget()) || b(o, a)) && k(n), 
                        E = {
                            active: !1
                        }, CKEDITOR.document.removeListener("mouseup", g));
                    }
                }
                function n(e) {
                    var t = e.data.getTarget().getAscendant({
                        td: 1,
                        th: 1
                    }, !0);
                    t && !t.hasClass("cke_table-faked-selection") && (e.cancel(), e.data.preventDefault());
                }
                function r(e, t) {
                    function c(e) {
                        e.cancel();
                    }
                    var n, i, o, a, r = e.getSelection(), s = r.createBookmarks(), l = e.document, d = e.createRange(), u = l.getDocumentElement().$, h = CKEDITOR.env.ie && 9 > CKEDITOR.env.version, f = e.blockless || CKEDITOR.env.ie ? "span" : "div";
                    l.getById("cke_table_copybin") || (n = l.createElement(f), i = l.createElement(f), 
                    i.setAttributes({
                        id: "cke_table_copybin",
                        "data-cke-temp": "1"
                    }), n.setStyles({
                        position: "absolute",
                        width: "1px",
                        height: "1px",
                        overflow: "hidden"
                    }), n.setStyle("ltr" == e.config.contentsLangDirection ? "left" : "right", "-5000px"), 
                    n.setHtml(e.getSelectedHtml(!0)), e.fire("lockSnapshot"), i.append(n), e.editable().append(i), 
                    a = e.on("selectionChange", c, null, null, 0), h && (o = u.scrollTop), d.selectNodeContents(n), 
                    d.select(), h && (u.scrollTop = o), setTimeout(function() {
                        i.remove(), r.selectBookmarks(s), a.removeListener(), e.fire("unlockSnapshot"), 
                        t && (e.extractSelectedHtml(), e.fire("saveSnapshot"));
                    }, 100));
                }
                function q(e) {
                    var t = e.editor || e.sender.editor;
                    t.getSelection().isInTable() && r(t, "cut" === e.name);
                }
                function y(e) {
                    this._reset(), e && this.setSelectedCells(e);
                }
                function w(e, t, n) {
                    e.on("beforeCommandExec", function(n) {
                        -1 !== CKEDITOR.tools.array.indexOf(t, n.data.name) && (n.data.selectedCells = i(e.getSelection()));
                    }), e.on("afterCommandExec", function(i) {
                        -1 !== CKEDITOR.tools.array.indexOf(t, i.data.name) && n(e, i.data);
                    });
                }
                var t, i, o, s, u, E = {
                    active: !1
                };
                y.prototype = {}, y.prototype._reset = function() {
                    this.cells = {
                        first: null,
                        last: null,
                        all: []
                    }, this.rows = {
                        first: null,
                        last: null
                    };
                }, y.prototype.setSelectedCells = function(e) {
                    this._reset(), e = e.slice(0), this._arraySortByDOMOrder(e), this.cells.all = e, 
                    this.cells.first = e[0], this.cells.last = e[e.length - 1], this.rows.first = e[0].getAscendant("tr"), 
                    this.rows.last = this.cells.last.getAscendant("tr");
                }, y.prototype.getTableMap = function() {
                    var e, t = o(this.cells.first, !0);
                    e: {
                        e = this.cells.last;
                        var n, i = e.getAscendant("table"), a = m(e), i = CKEDITOR.tools.buildTableMap(i);
                        for (n = 0; n < i[a].length; n++) if (new CKEDITOR.dom.element(i[a][n]).equals(e)) {
                            e = n;
                            break e;
                        }
                        e = void 0;
                    }
                    return CKEDITOR.tools.buildTableMap(this._getTable(), m(this.rows.first), t, m(this.rows.last), e);
                }, y.prototype._getTable = function() {
                    return this.rows.first.getAscendant("table");
                }, y.prototype.insertRow = function(e, t, n) {
                    if (void 0 === e) e = 1; else if (0 >= e) return;
                    for (var i, o = this.cells.first.$.cellIndex, a = this.cells.last.$.cellIndex, r = n ? [] : this.cells.all, l = 0; l < e; l++) i = s(n ? this.cells.all : r, t), 
                    i = CKEDITOR.tools.array.filter(i.find("td, th").toArray(), function(e) {
                        return !!n || e.$.cellIndex >= o && e.$.cellIndex <= a;
                    }), r = t ? i.concat(r) : r.concat(i);
                    this.setSelectedCells(r);
                }, y.prototype.insertColumn = function(e) {
                    function b(e) {
                        return (e = m(e)) >= i && e <= o;
                    }
                    if (void 0 === e) e = 1; else if (0 >= e) return;
                    for (var t = this.cells, n = t.all, i = m(t.first), o = m(t.last), t = 0; t < e; t++) n = n.concat(CKEDITOR.tools.array.filter(u(n), b));
                    this.setSelectedCells(n);
                }, y.prototype.emptyCells = function(e) {
                    e = e || this.cells.all;
                    for (var t = 0; t < e.length; t++) e[t].setHtml("");
                }, y.prototype._arraySortByDOMOrder = function(e) {
                    e.sort(function(e, t) {
                        return e.getPosition(t) & CKEDITOR.POSITION_PRECEDING ? -1 : 1;
                    });
                };
                var p = {
                    onPaste: function(e) {
                        function d(e) {
                            return Math.max.apply(null, CKEDITOR.tools.array.map(e, function(e) {
                                return e.length;
                            }, 0));
                        }
                        var t, n, o = e.editor, r = o.getSelection(), s = i(r), c = this.findTableInPastedContent(o, e.data.dataValue), u = r.isInTable(!0) && this.isBoundarySelection(r);
                        !s.length || 1 === s.length && !b(r.getRanges()[0]) && !u || u && !c || (s = s[0].getAscendant("table"), 
                        t = new y(i(r, s)), o.once("afterPaste", function() {
                            var e;
                            if (n) {
                                e = new CKEDITOR.dom.element(n[0][0]);
                                var i = n[n.length - 1];
                                e = a(e, new CKEDITOR.dom.element(i[i.length - 1]));
                            } else e = t.cells.all;
                            l(o, e);
                        }), c ? (e.stop(), u ? (t.insertRow(1, 1 === u, !0), r.selectElement(t.rows.first)) : (t.emptyCells(), 
                        l(o, t.cells.all)), e = t.getTableMap(), n = CKEDITOR.tools.buildTableMap(c), t.insertRow(n.length - e.length), 
                        t.insertColumn(d(n) - d(e)), e = t.getTableMap(), this.pasteTable(t, e, n), o.fire("saveSnapshot"), 
                        setTimeout(function() {
                            o.fire("afterPaste");
                        }, 0)) : (function(e) {
                            var t = o.createRange();
                            t.selectNodeContents(e), t.select();
                        }(t.cells.first), o.once("afterPaste", function() {
                            o.fire("lockSnapshot"), t.emptyCells(t.cells.all.slice(1)), l(o, t.cells.all), o.fire("unlockSnapshot");
                        })));
                    },
                    isBoundarySelection: function(e) {
                        e = e.getRanges()[0];
                        var t = e.endContainer.getAscendant("tr", !0);
                        if (t && e.collapsed) {
                            if (e.checkBoundaryOfElement(t, CKEDITOR.START)) return 1;
                            if (e.checkBoundaryOfElement(t, CKEDITOR.END)) return 2;
                        }
                        return 0;
                    },
                    findTableInPastedContent: function(e, t) {
                        var n = e.dataProcessor, i = new CKEDITOR.dom.element("body");
                        return n || (n = new CKEDITOR.htmlDataProcessor(e)), i.setHtml(n.toHtml(t), {
                            fixForBody: !1
                        }), 1 < i.getChildCount() ? null : i.findOne("table");
                    },
                    pasteTable: function(e, t, n) {
                        var i, a, r, s, l, c = o(e.cells.first, !0), d = e._getTable(), u = {};
                        for (s = 0; s < n.length; s++) for (a = new CKEDITOR.dom.element(d.$.rows[e.rows.first.$.rowIndex + s]), 
                        l = 0; l < n[s].length; l++) r = new CKEDITOR.dom.element(n[s][l]), i = t[s] && t[s][l] ? new CKEDITOR.dom.element(t[s][l]) : null, 
                        r && !r.getCustomData("processed") ? (i && i.getParent() ? r.replace(i) : (0 === l || n[s][l - 1]) && ((i = 0 !== l ? new CKEDITOR.dom.element(n[s][l - 1]) : null) && a.equals(i.getParent()) ? r.insertAfter(i) : 0 < c ? a.$.cells[c] ? r.insertAfter(new CKEDITOR.dom.element(a.$.cells[c])) : a.append(r) : a.append(r, !0)), 
                        CKEDITOR.dom.element.setMarker(u, r, "processed", !0)) : r.getCustomData("processed") && i && i.remove();
                        CKEDITOR.dom.element.clearAllMarkers(u);
                    }
                };
                CKEDITOR.plugins.tableselection = {
                    getCellsBetween: a,
                    keyboardIntegration: function(e) {
                        function b(e) {
                            e.getEnclosedNode() ? e.getEnclosedNode().setText("") : e.deleteContents(), CKEDITOR.tools.array.forEach(e._find("td"), function(e) {
                                e.appendBogus();
                            });
                        }
                        var t = e.editable();
                        t.attachListener(t, "keydown", function(e) {
                            function c(t, i) {
                                if (!i.length) return null;
                                var o = e.createRange(), a = CKEDITOR.dom.range.mergeRanges(i);
                                CKEDITOR.tools.array.forEach(a, function(e) {
                                    e.enlarge(CKEDITOR.ENLARGE_ELEMENT);
                                });
                                var r = a[0].getBoundaryNodes(), s = r.startNode, r = r.endNode;
                                if (s && s.is && s.is(n)) {
                                    for (var l = s.getAscendant("table", !0), c = s.getPreviousSourceNode(!1, CKEDITOR.NODE_ELEMENT, l), d = !1; c && !function(e) {
                                        return !s.contains(e) && e.is && e.is("td", "th");
                                    }(c); ) c = c.getPreviousSourceNode(!1, CKEDITOR.NODE_ELEMENT, l);
                                    return !c && r && r.is && !r.is("table") && r.getNext() && (c = r.getNext().findOne("td, th"), 
                                    d = !0), c ? o["moveToElementEdit" + (d ? "Start" : "End")](c) : (o.setStartBefore(s.getAscendant("table", !0)), 
                                    o.collapse(!0)), a[0].deleteContents(), [ o ];
                                }
                                return s ? (o.moveToElementEditablePosition(s), [ o ]) : void 0;
                            }
                            var t = {
                                37: 1,
                                38: 1,
                                39: 1,
                                40: 1,
                                8: 1,
                                46: 1
                            }, n = CKEDITOR.tools.extend({
                                table: 1
                            }, CKEDITOR.dtd.$tableContent);
                            return delete n.td, delete n.th, function(n) {
                                var i, o, a, r, s = n.data.getKey(), l = 37 === s || 38 == s;
                                if (t[s] && (i = e.getSelection()) && i.isInTable() && i.isFake) if (o = i.getRanges(), 
                                a = o[0]._getTableElement(), r = o[o.length - 1]._getTableElement(), n.data.preventDefault(), 
                                n.cancel(), 8 < s && 46 > s) o[0].moveToElementEditablePosition(l ? a : r, !l), 
                                i.selectRanges([ o[0] ]); else {
                                    for (n = 0; n < o.length; n++) b(o[n]);
                                    (n = c(a, o)) ? o = n : o[0].moveToElementEditablePosition(a), i.selectRanges(o), 
                                    e.fire("saveSnapshot");
                                }
                            };
                        }(e), null, null, -1), t.attachListener(t, "keypress", function(t) {
                            var n, i = e.getSelection(), o = t.data.$.charCode || 13 === t.data.getKey();
                            if (i && i.isInTable() && i.isFake && o && !(t.data.getKeystroke() & CKEDITOR.CTRL)) {
                                for (t = i.getRanges(), o = t[0].getEnclosedNode().getAscendant({
                                    td: 1,
                                    th: 1
                                }, !0), n = 0; n < t.length; n++) b(t[n]);
                                t[0].moveToElementEditablePosition(o), i.selectRanges([ t[0] ]);
                            }
                        }, null, null, -1);
                    },
                    isSupportedEnvironment: !(CKEDITOR.env.ie && 11 > CKEDITOR.env.version)
                }, CKEDITOR.plugins.add("tableselection", {
                    requires: "clipboard,tabletools",
                    onLoad: function() {
                        t = CKEDITOR.plugins.tabletools, i = t.getSelectedCells, o = t.getCellColIndex, 
                        s = t.insertRow, u = t.insertColumn, CKEDITOR.document.appendStyleSheet(this.path + "styles/tableselection.css");
                    },
                    init: function(t) {
                        CKEDITOR.plugins.tableselection.isSupportedEnvironment && (t.addContentsCss && t.addContentsCss(this.path + "styles/tableselection.css"), 
                        t.on("contentDom", function() {
                            var e = t.editable(), i = e.isInline() ? e : t.document, o = {
                                editor: t
                            };
                            e.attachListener(i, "mousedown", g, null, o), e.attachListener(i, "mousemove", g, null, o), 
                            e.attachListener(i, "mouseup", g, null, o), e.attachListener(e, "dragstart", n), 
                            e.attachListener(t, "selectionCheck", h), CKEDITOR.plugins.tableselection.keyboardIntegration(t), 
                            CKEDITOR.plugins.clipboard && !CKEDITOR.plugins.clipboard.isCustomCopyCutSupported && (e.attachListener(e, "cut", q), 
                            e.attachListener(e, "copy", q));
                        }), t.on("paste", p.onPaste, p), w(t, "rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "), function(e, t) {
                            l(e, t.selectedCells);
                        }), w(t, [ "cellMerge", "cellMergeRight", "cellMergeDown" ], function(e, t) {
                            l(e, [ t.commandData.cell ]);
                        }), w(t, [ "cellDelete" ], function(t) {
                            e(t, !0);
                        }));
                    }
                });
            }(), function() {
                var t = [ CKEDITOR.CTRL + 90, CKEDITOR.CTRL + 89, CKEDITOR.CTRL + CKEDITOR.SHIFT + 90 ], n = {
                    8: 1,
                    46: 1
                };
                CKEDITOR.plugins.add("undo", {
                    init: function(n) {
                        function e(e) {
                            o.enabled && !1 !== e.data.command.canUndo && o.save();
                        }
                        function f() {
                            o.enabled = !n.readOnly && "wysiwyg" == n.mode, o.onChange();
                        }
                        var o = n.undoManager = new i(n), a = o.editingHandler = new r(o), s = n.addCommand("undo", {
                            exec: function() {
                                o.undo() && (n.selectionChange(), this.fire("afterUndo"));
                            },
                            startDisabled: !0,
                            canUndo: !1
                        }), l = n.addCommand("redo", {
                            exec: function() {
                                o.redo() && (n.selectionChange(), this.fire("afterRedo"));
                            },
                            startDisabled: !0,
                            canUndo: !1
                        });
                        n.setKeystroke([ [ t[0], "undo" ], [ t[1], "redo" ], [ t[2], "redo" ] ]), o.onChange = function() {
                            s.setState(o.undoable() ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED), l.setState(o.redoable() ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
                        }, n.on("beforeCommandExec", e), n.on("afterCommandExec", e), n.on("saveSnapshot", function(e) {
                            o.save(e.data && e.data.contentOnly);
                        }), n.on("contentDom", a.attachListeners, a), n.on("instanceReady", function() {
                            n.fire("saveSnapshot");
                        }), n.on("beforeModeUnload", function() {
                            "wysiwyg" == n.mode && o.save(!0);
                        }), n.on("mode", f), n.on("readOnly", f), n.ui.addButton && (n.ui.addButton("Undo", {
                            label: n.lang.undo.undo,
                            command: "undo",
                            toolbar: "undo,10"
                        }), n.ui.addButton("Redo", {
                            label: n.lang.undo.redo,
                            command: "redo",
                            toolbar: "undo,20"
                        })), n.resetUndo = function() {
                            o.reset(), n.fire("saveSnapshot");
                        }, n.on("updateSnapshot", function() {
                            o.currentImage && o.update();
                        }), n.on("lockSnapshot", function(e) {
                            e = e.data, o.lock(e && e.dontUpdate, e && e.forceUpdate);
                        }), n.on("unlockSnapshot", o.unlock, o);
                    }
                }), CKEDITOR.plugins.undo = {};
                var i = CKEDITOR.plugins.undo.UndoManager = function(e) {
                    this.strokesRecorded = [ 0, 0 ], this.locked = null, this.previousKeyGroup = -1, 
                    this.limit = e.config.undoStackSize || 20, this.strokesLimit = 25, this.editor = e, 
                    this.reset();
                };
                i.prototype = {
                    type: function(e, t) {
                        var n = i.getKeyGroup(e), o = this.strokesRecorded[n] + 1;
                        t = t || o >= this.strokesLimit, this.typing || (this.hasUndo = this.typing = !0, 
                        this.hasRedo = !1, this.onChange()), t ? (o = 0, this.editor.fire("saveSnapshot")) : this.editor.fire("change"), 
                        this.strokesRecorded[n] = o, this.previousKeyGroup = n;
                    },
                    keyGroupChanged: function(e) {
                        return i.getKeyGroup(e) != this.previousKeyGroup;
                    },
                    reset: function() {
                        this.snapshots = [], this.index = -1, this.currentImage = null, this.hasRedo = this.hasUndo = !1, 
                        this.locked = null, this.resetType();
                    },
                    resetType: function() {
                        this.strokesRecorded = [ 0, 0 ], this.typing = !1, this.previousKeyGroup = -1;
                    },
                    refreshState: function() {
                        this.hasUndo = !!this.getNextImage(!0), this.hasRedo = !!this.getNextImage(!1), 
                        this.resetType(), this.onChange();
                    },
                    save: function(e, t, n) {
                        var i = this.editor;
                        if (this.locked || "ready" != i.status || "wysiwyg" != i.mode) return !1;
                        var a = i.editable();
                        if (!a || "ready" != a.status) return !1;
                        if (a = this.snapshots, t || (t = new o(i)), !1 === t.contents) return !1;
                        if (this.currentImage) if (t.equalsContent(this.currentImage)) {
                            if (e || t.equalsSelection(this.currentImage)) return !1;
                        } else !1 !== n && i.fire("change");
                        return a.splice(this.index + 1, a.length - this.index - 1), a.length == this.limit && a.shift(), 
                        this.index = a.push(t) - 1, this.currentImage = t, !1 !== n && this.refreshState(), 
                        !0;
                    },
                    restoreImage: function(e) {
                        var t, n = this.editor;
                        e.bookmarks && (n.focus(), t = n.getSelection()), this.locked = {
                            level: 999
                        }, this.editor.loadSnapshot(e.contents), e.bookmarks ? t.selectBookmarks(e.bookmarks) : CKEDITOR.env.ie && (t = this.editor.document.getBody().$.createTextRange(), 
                        t.collapse(!0), t.select()), this.locked = null, this.index = e.index, this.currentImage = this.snapshots[this.index], 
                        this.update(), this.refreshState(), n.fire("change");
                    },
                    getNextImage: function(e) {
                        var t, n = this.snapshots, i = this.currentImage;
                        if (i) if (e) {
                            for (t = this.index - 1; 0 <= t; t--) if (e = n[t], !i.equalsContent(e)) return e.index = t, 
                            e;
                        } else for (t = this.index + 1; t < n.length; t++) if (e = n[t], !i.equalsContent(e)) return e.index = t, 
                        e;
                        return null;
                    },
                    redoable: function() {
                        return this.enabled && this.hasRedo;
                    },
                    undoable: function() {
                        return this.enabled && this.hasUndo;
                    },
                    undo: function() {
                        if (this.undoable()) {
                            this.save(!0);
                            var e = this.getNextImage(!0);
                            if (e) return this.restoreImage(e), !0;
                        }
                        return !1;
                    },
                    redo: function() {
                        if (this.redoable() && (this.save(!0), this.redoable())) {
                            var e = this.getNextImage(!1);
                            if (e) return this.restoreImage(e), !0;
                        }
                        return !1;
                    },
                    update: function(e) {
                        if (!this.locked) {
                            e || (e = new o(this.editor));
                            for (var t = this.index, n = this.snapshots; 0 < t && this.currentImage.equalsContent(n[t - 1]); ) --t;
                            n.splice(t, this.index - t + 1, e), this.index = t, this.currentImage = e;
                        }
                    },
                    updateSelection: function(e) {
                        if (!this.snapshots.length) return !1;
                        var t = this.snapshots, n = t[t.length - 1];
                        return !(!n.equalsContent(e) || n.equalsSelection(e)) && (this.currentImage = t[t.length - 1] = e, 
                        !0);
                    },
                    lock: function(e, t) {
                        if (this.locked) this.locked.level++; else if (e) this.locked = {
                            level: 1
                        }; else {
                            var n = null;
                            if (t) n = !0; else {
                                var i = new o(this.editor, !0);
                                this.currentImage && this.currentImage.equalsContent(i) && (n = i);
                            }
                            this.locked = {
                                update: n,
                                level: 1
                            };
                        }
                    },
                    unlock: function() {
                        if (this.locked && !--this.locked.level) {
                            var e = this.locked.update;
                            if (this.locked = null, !0 === e) this.update(); else if (e) {
                                var t = new o(this.editor, !0);
                                e.equalsContent(t) || this.update();
                            }
                        }
                    }
                }, i.navigationKeyCodes = {
                    37: 1,
                    38: 1,
                    39: 1,
                    40: 1,
                    36: 1,
                    35: 1,
                    33: 1,
                    34: 1
                }, i.keyGroups = {
                    PRINTABLE: 0,
                    FUNCTIONAL: 1
                }, i.isNavigationKey = function(e) {
                    return !!i.navigationKeyCodes[e];
                }, i.getKeyGroup = function(e) {
                    var t = i.keyGroups;
                    return n[e] ? t.FUNCTIONAL : t.PRINTABLE;
                }, i.getOppositeKeyGroup = function(e) {
                    var t = i.keyGroups;
                    return e == t.FUNCTIONAL ? t.PRINTABLE : t.FUNCTIONAL;
                }, i.ieFunctionalKeysBug = function(e) {
                    return CKEDITOR.env.ie && i.getKeyGroup(e) == i.keyGroups.FUNCTIONAL;
                };
                var o = CKEDITOR.plugins.undo.Image = function(e, t) {
                    this.editor = e, e.fire("beforeUndoImage");
                    var n = e.getSnapshot();
                    CKEDITOR.env.ie && n && (n = n.replace(/\s+data-cke-expando=".*?"/g, "")), this.contents = n, 
                    t || (this.bookmarks = (n = n && e.getSelection()) && n.createBookmarks2(!0)), e.fire("afterUndoImage");
                }, a = /\b(?:href|src|name)="[^"]*?"/gi;
                o.prototype = {
                    equalsContent: function(e) {
                        var t = this.contents;
                        return e = e.contents, CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) && (t = t.replace(a, ""), 
                        e = e.replace(a, "")), t == e;
                    },
                    equalsSelection: function(e) {
                        var t = this.bookmarks;
                        if (e = e.bookmarks, t || e) {
                            if (!t || !e || t.length != e.length) return !1;
                            for (var n = 0; n < t.length; n++) {
                                var i = t[n], o = e[n];
                                if (i.startOffset != o.startOffset || i.endOffset != o.endOffset || !CKEDITOR.tools.arrayCompare(i.start, o.start) || !CKEDITOR.tools.arrayCompare(i.end, o.end)) return !1;
                            }
                        }
                        return !0;
                    }
                };
                var r = CKEDITOR.plugins.undo.NativeEditingHandler = function(e) {
                    this.undoManager = e, this.ignoreInputEvent = !1, this.keyEventsStack = new s(), 
                    this.lastKeydownImage = null;
                };
                r.prototype = {
                    onKeydown: function(e) {
                        var n = e.data.getKey();
                        229 !== n && (-1 < CKEDITOR.tools.indexOf(t, e.data.getKeystroke()) ? e.data.preventDefault() : (this.keyEventsStack.cleanUp(e), 
                        e = this.undoManager, this.keyEventsStack.getLast(n) || this.keyEventsStack.push(n), 
                        this.lastKeydownImage = new o(e.editor), (i.isNavigationKey(n) || this.undoManager.keyGroupChanged(n)) && (e.strokesRecorded[0] || e.strokesRecorded[1]) && (e.save(!1, this.lastKeydownImage, !1), 
                        e.resetType())));
                    },
                    onInput: function() {
                        if (this.ignoreInputEvent) this.ignoreInputEvent = !1; else {
                            var e = this.keyEventsStack.getLast();
                            e || (e = this.keyEventsStack.push(0)), this.keyEventsStack.increment(e.keyCode), 
                            this.keyEventsStack.getTotalInputs() >= this.undoManager.strokesLimit && (this.undoManager.type(e.keyCode, !0), 
                            this.keyEventsStack.resetInputs());
                        }
                    },
                    onKeyup: function(e) {
                        var t = this.undoManager;
                        e = e.data.getKey();
                        var n = this.keyEventsStack.getTotalInputs();
                        this.keyEventsStack.remove(e), i.ieFunctionalKeysBug(e) && this.lastKeydownImage && this.lastKeydownImage.equalsContent(new o(t.editor, !0)) || (0 < n ? t.type(e) : i.isNavigationKey(e) && this.onNavigationKey(!0));
                    },
                    onNavigationKey: function(e) {
                        var t = this.undoManager;
                        !e && t.save(!0, null, !1) || t.updateSelection(new o(t.editor)), t.resetType();
                    },
                    ignoreInputEventListener: function() {
                        this.ignoreInputEvent = !0;
                    },
                    attachListeners: function() {
                        var e = this.undoManager.editor, t = e.editable(), n = this;
                        t.attachListener(t, "keydown", function(e) {
                            n.onKeydown(e), i.ieFunctionalKeysBug(e.data.getKey()) && n.onInput();
                        }, null, null, 999), t.attachListener(t, CKEDITOR.env.ie ? "keypress" : "input", n.onInput, n, null, 999), 
                        t.attachListener(t, "keyup", n.onKeyup, n, null, 999), t.attachListener(t, "paste", n.ignoreInputEventListener, n, null, 999), 
                        t.attachListener(t, "drop", n.ignoreInputEventListener, n, null, 999), t.attachListener(t.isInline() ? t : e.document.getDocumentElement(), "click", function() {
                            n.onNavigationKey();
                        }, null, null, 999), t.attachListener(this.undoManager.editor, "blur", function() {
                            n.keyEventsStack.remove(9);
                        }, null, null, 999);
                    }
                };
                var s = CKEDITOR.plugins.undo.KeyEventsStack = function() {
                    this.stack = [];
                };
                s.prototype = {
                    push: function(e) {
                        return e = this.stack.push({
                            keyCode: e,
                            inputs: 0
                        }), this.stack[e - 1];
                    },
                    getLastIndex: function(e) {
                        if ("number" != typeof e) return this.stack.length - 1;
                        for (var t = this.stack.length; t--; ) if (this.stack[t].keyCode == e) return t;
                        return -1;
                    },
                    getLast: function(e) {
                        return e = this.getLastIndex(e), -1 != e ? this.stack[e] : null;
                    },
                    increment: function(e) {
                        this.getLast(e).inputs++;
                    },
                    remove: function(e) {
                        -1 != (e = this.getLastIndex(e)) && this.stack.splice(e, 1);
                    },
                    resetInputs: function(e) {
                        if ("number" == typeof e) this.getLast(e).inputs = 0; else for (e = this.stack.length; e--; ) this.stack[e].inputs = 0;
                    },
                    getTotalInputs: function() {
                        for (var e = this.stack.length, t = 0; e--; ) t += this.stack[e].inputs;
                        return t;
                    },
                    cleanUp: function(e) {
                        e = e.data.$, e.ctrlKey || e.metaKey || this.remove(17), e.shiftKey || this.remove(16), 
                        e.altKey || this.remove(18);
                    }
                };
            }(), CKEDITOR.plugins.add("wsc", {
                requires: "dialog",
                parseApi: function(e) {
                    e.config.wsc_onFinish = "function" == typeof e.config.wsc_onFinish ? e.config.wsc_onFinish : function() {}, 
                    e.config.wsc_onClose = "function" == typeof e.config.wsc_onClose ? e.config.wsc_onClose : function() {};
                },
                parseConfig: function(e) {
                    e.config.wsc_customerId = e.config.wsc_customerId || CKEDITOR.config.wsc_customerId || "1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk", 
                    e.config.wsc_customDictionaryIds = e.config.wsc_customDictionaryIds || CKEDITOR.config.wsc_customDictionaryIds || "", 
                    e.config.wsc_userDictionaryName = e.config.wsc_userDictionaryName || CKEDITOR.config.wsc_userDictionaryName || "", 
                    e.config.wsc_customLoaderScript = e.config.wsc_customLoaderScript || CKEDITOR.config.wsc_customLoaderScript, 
                    e.config.wsc_interfaceLang = e.config.wsc_interfaceLang, CKEDITOR.config.wsc_cmd = e.config.wsc_cmd || CKEDITOR.config.wsc_cmd || "spell", 
                    CKEDITOR.config.wsc_version = "v4.3.0-master-d769233", CKEDITOR.config.wsc_removeGlobalVariable = !0;
                },
                onLoad: function(e) {
                    "moono-lisa" == (CKEDITOR.skinName || e.config.skin) && CKEDITOR.document.appendStyleSheet(this.path + "skins/" + CKEDITOR.skin.name + "/wsc.css");
                },
                init: function(e) {
                    var t = CKEDITOR.env;
                    this.parseConfig(e), this.parseApi(e), e.addCommand("checkspell", new CKEDITOR.dialogCommand("checkspell")).modes = {
                        wysiwyg: !(CKEDITOR.env.opera || CKEDITOR.env.air || document.domain != window.location.hostname || t.ie && (8 > t.version || t.quirks))
                    }, void 0 === e.plugins.scayt && e.ui.addButton && e.ui.addButton("SpellChecker", {
                        label: e.lang.wsc.toolbar,
                        click: function(e) {
                            var t = e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? e.container.getText() : e.document.getBody().getText();
                            (t = t.replace(/\s/g, "")) ? e.execCommand("checkspell") : alert("Nothing to check!");
                        },
                        toolbar: "spellchecker,10"
                    }), CKEDITOR.dialog.add("checkspell", this.path + (CKEDITOR.env.ie && 7 >= CKEDITOR.env.version ? "dialogs/wsc_ie.js" : window.postMessage ? "dialogs/wsc.js" : "dialogs/wsc_ie.js"));
                }
            }), function() {
                function a(e) {
                    function b(e) {
                        var t = !1;
                        a.attachListener(a, "keydown", function() {
                            var i = n.getBody().getElementsByTag(e);
                            if (!t) {
                                for (var o = 0; o < i.count(); o++) i.getItem(o).setCustomData("retain", !0);
                                t = !0;
                            }
                        }, null, null, 1), a.attachListener(a, "keyup", function() {
                            var i = n.getElementsByTag(e);
                            t && (1 != i.count() || i.getItem(0).getCustomData("retain") || i.getItem(0).hasAttribute("data-cke-temp") || i.getItem(0).remove(1), 
                            t = !1);
                        });
                    }
                    var t = this.editor, n = e.document, i = n.body, o = n.getElementById("cke_actscrpt");
                    o && o.parentNode.removeChild(o), (o = n.getElementById("cke_shimscrpt")) && o.parentNode.removeChild(o), 
                    (o = n.getElementById("cke_basetagscrpt")) && o.parentNode.removeChild(o), i.contentEditable = !0, 
                    CKEDITOR.env.ie && (i.hideFocus = !0, i.disabled = !0, i.removeAttribute("disabled")), 
                    delete this._.isLoadingData, this.$ = i, n = new CKEDITOR.dom.document(n), this.setup(), 
                    this.fixInitialSelection();
                    var a = this;
                    CKEDITOR.env.ie && !CKEDITOR.env.edge && n.getDocumentElement().addClass(n.$.compatMode), 
                    CKEDITOR.env.ie && !CKEDITOR.env.edge && t.enterMode != CKEDITOR.ENTER_P ? b("p") : CKEDITOR.env.edge && t.enterMode != CKEDITOR.ENTER_DIV && b("div"), 
                    (CKEDITOR.env.webkit || CKEDITOR.env.ie && 10 < CKEDITOR.env.version) && n.getDocumentElement().on("mousedown", function(e) {
                        e.data.getTarget().is("html") && setTimeout(function() {
                            t.editable().focus();
                        });
                    }), f(t);
                    try {
                        t.document.$.execCommand("2D-position", !1, !0);
                    } catch (e) {}
                    (CKEDITOR.env.gecko || CKEDITOR.env.ie && "CSS1Compat" == t.document.$.compatMode) && this.attachListener(this, "keydown", function(e) {
                        var n = e.data.getKeystroke();
                        if (33 == n || 34 == n) if (CKEDITOR.env.ie) setTimeout(function() {
                            t.getSelection().scrollIntoView();
                        }, 0); else if (t.window.$.innerHeight > this.$.offsetHeight) {
                            var i = t.createRange();
                            i[33 == n ? "moveToElementEditStart" : "moveToElementEditEnd"](this), i.select(), 
                            e.data.preventDefault();
                        }
                    }), CKEDITOR.env.ie && this.attachListener(n, "blur", function() {
                        try {
                            n.$.selection.empty();
                        } catch (e) {}
                    }), CKEDITOR.env.iOS && this.attachListener(n, "touchend", function() {
                        e.focus();
                    }), i = t.document.getElementsByTag("title").getItem(0), i.data("cke-title", i.getText()), 
                    CKEDITOR.env.ie && (t.document.$.title = this._.docTitle), CKEDITOR.tools.setTimeout(function() {
                        "unloaded" == this.status && (this.status = "ready"), t.fire("contentDom"), this._.isPendingFocus && (t.focus(), 
                        this._.isPendingFocus = !1), setTimeout(function() {
                            t.fire("dataReady");
                        }, 0);
                    }, 0, this);
                }
                function f(e) {
                    function c(e) {
                        e.returnValue = !1;
                    }
                    if (CKEDITOR.env.gecko) try {
                        var t = e.document.$;
                        t.execCommand("enableObjectResizing", !1, !e.config.disableObjectResizing), t.execCommand("enableInlineTableEditing", !1, !e.config.disableNativeTableHandles);
                    } catch (e) {} else CKEDITOR.env.ie && 11 > CKEDITOR.env.version && e.config.disableObjectResizing && function() {
                        var t;
                        e.editable().attachListener(e, "selectionChange", function() {
                            var n = e.getSelection().getSelectedElement();
                            n && (t && (t.detachEvent("onresizestart", c), t = null), n.$.attachEvent("onresizestart", c), 
                            t = n.$);
                        });
                    }();
                }
                function b() {
                    var e = [];
                    if (8 <= CKEDITOR.document.$.documentMode) {
                        e.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");
                        var t, n = [];
                        for (t in CKEDITOR.dtd.$removeEmpty) n.push("html.CSS1Compat " + t + "[contenteditable=false]");
                        e.push(n.join(",") + "{display:inline-block}");
                    } else CKEDITOR.env.gecko && (e.push("html{height:100% !important}"), e.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));
                    return e.push("html{cursor:text;*cursor:auto}"), e.push("img,input,textarea{cursor:default}"), 
                    e.join("\n");
                }
                var e;
                CKEDITOR.plugins.add("wysiwygarea", {
                    init: function(t) {
                        t.config.fullPage && t.addFeature({
                            allowedContent: "html head title; style [media,type]; body (*)[id]; meta link [*]",
                            requiredContent: "body"
                        }), t.addMode("wysiwyg", function(n) {
                            function f(i) {
                                i && i.removeListener(), t.editable(new e(t, o.$.contentWindow.document.body)), 
                                t.setData(t.getData(1), n);
                            }
                            var i = "document.open();" + (CKEDITOR.env.ie ? "(" + CKEDITOR.tools.fixDomain + ")();" : "") + "document.close();", i = CKEDITOR.env.air ? "javascript:void(0)" : CKEDITOR.env.ie && !CKEDITOR.env.edge ? "javascript:void(function(){" + encodeURIComponent(i) + "}())" : "", o = CKEDITOR.dom.element.createFromHtml('<iframe src="' + i + '" frameBorder="0"></iframe>');
                            o.setStyles({
                                width: "100%",
                                height: "100%"
                            }), o.addClass("cke_wysiwyg_frame").addClass("cke_reset"), i = t.ui.space("contents"), 
                            i.append(o);
                            var a = CKEDITOR.env.ie && !CKEDITOR.env.edge || CKEDITOR.env.gecko;
                            a && o.on("load", f);
                            var r = t.title, s = t.fire("ariaEditorHelpLabel", {}).label;
                            if (r && (CKEDITOR.env.ie && s && (r += ", " + s), o.setAttribute("title", r)), 
                            s) {
                                var r = CKEDITOR.tools.getNextId(), l = CKEDITOR.dom.element.createFromHtml('<span id="' + r + '" class="cke_voice_label">' + s + "</span>");
                                i.append(l, 1), o.setAttribute("aria-describedby", r);
                            }
                            t.on("beforeModeUnload", function(e) {
                                e.removeListener(), l && l.remove();
                            }), o.setAttributes({
                                tabIndex: t.tabIndex,
                                allowTransparency: "true"
                            }), !a && f(), t.fire("ariaWidget", o);
                        });
                    }
                }), CKEDITOR.editor.prototype.addContentsCss = function(e) {
                    var t = this.config, n = t.contentsCss;
                    CKEDITOR.tools.isArray(n) || (t.contentsCss = n ? [ n ] : []), t.contentsCss.push(e);
                }, e = CKEDITOR.tools.createClass({
                    $: function() {
                        this.base.apply(this, arguments), this._.frameLoadedHandler = CKEDITOR.tools.addFunction(function(e) {
                            CKEDITOR.tools.setTimeout(a, 0, this, e);
                        }, this), this._.docTitle = this.getWindow().getFrame().getAttribute("title");
                    },
                    base: CKEDITOR.editable,
                    proto: {
                        setData: function(e, t) {
                            var n = this.editor;
                            if (t) this.setHtml(e), this.fixInitialSelection(), n.fire("dataReady"); else {
                                this._.isLoadingData = !0, n._.dataStore = {
                                    id: 1
                                };
                                var i = n.config, o = i.fullPage, a = i.docType, r = CKEDITOR.tools.buildStyleHtml(b()).replace(/<style>/, '<style data-cke-temp="1">');
                                o || (r += CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));
                                var s = i.baseHref ? '<base href="' + i.baseHref + '" data-cke-temp="1" />' : "";
                                o && (e = e.replace(/<!DOCTYPE[^>]*>/i, function(e) {
                                    return n.docType = a = e, "";
                                }).replace(/<\?xml\s[^\?]*\?>/i, function(e) {
                                    return n.xmlDeclaration = e, "";
                                })), e = n.dataProcessor.toHtml(e), o ? (/<body[\s|>]/.test(e) || (e = "<body>" + e), 
                                /<html[\s|>]/.test(e) || (e = "<html>" + e + "</html>"), /<head[\s|>]/.test(e) ? /<title[\s|>]/.test(e) || (e = e.replace(/<head[^>]*>/, "$&<title></title>")) : e = e.replace(/<html[^>]*>/, "$&<head><title></title></head>"), 
                                s && (e = e.replace(/<head[^>]*?>/, "$&" + s)), e = e.replace(/<\/head\s*>/, r + "$&"), 
                                e = a + e) : e = i.docType + '<html dir="' + i.contentsLangDirection + '" lang="' + (i.contentsLanguage || n.langCode) + '"><head><title>' + this._.docTitle + "</title>" + s + r + "</head><body" + (i.bodyId ? ' id="' + i.bodyId + '"' : "") + (i.bodyClass ? ' class="' + i.bodyClass + '"' : "") + ">" + e + "</body></html>", 
                                CKEDITOR.env.gecko && (e = e.replace(/<body/, '<body contenteditable="true" '), 
                                2e4 > CKEDITOR.env.version && (e = e.replace(/<body[^>]*>/, "$&\x3c!-- cke-content-start --\x3e"))), 
                                i = '<script id="cke_actscrpt" type="text/javascript"' + (CKEDITOR.env.ie ? ' defer="defer" ' : "") + ">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction(" + this._.frameLoadedHandler + ",window);wasLoaded=1;}" + (CKEDITOR.env.ie ? "onload();" : 'document.addEventListener("DOMContentLoaded", onload, false );') + "<\/script>", 
                                CKEDITOR.env.ie && 9 > CKEDITOR.env.version && (i += '<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)<\/script>'), 
                                s && CKEDITOR.env.ie && 10 > CKEDITOR.env.version && (i += '<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;<\/script>'), 
                                e = e.replace(/(?=\s*<\/(:?head)>)/, i), this.clearCustomData(), this.clearListeners(), 
                                n.fire("contentDomUnload");
                                var l = this.getDocument();
                                try {
                                    l.write(e);
                                } catch (t) {
                                    setTimeout(function() {
                                        l.write(e);
                                    }, 0);
                                }
                            }
                        },
                        getData: function(e) {
                            if (e) return this.getHtml();
                            e = this.editor;
                            var t = e.config, n = t.fullPage, i = n && e.docType, o = n && e.xmlDeclaration, a = this.getDocument(), n = n ? a.getDocumentElement().getOuterHtml() : a.getBody().getHtml();
                            return CKEDITOR.env.gecko && t.enterMode != CKEDITOR.ENTER_BR && (n = n.replace(/<br>(?=\s*(:?$|<\/body>))/, "")), 
                            n = e.dataProcessor.toDataFormat(n), o && (n = o + "\n" + n), i && (n = i + "\n" + n), 
                            n;
                        },
                        focus: function() {
                            this._.isLoadingData ? this._.isPendingFocus = !0 : e.baseProto.focus.call(this);
                        },
                        detach: function() {
                            var t, n = this.editor, i = n.document;
                            try {
                                t = n.window.getFrame();
                            } catch (e) {}
                            e.baseProto.detach.call(this), this.clearCustomData(), i.getDocumentElement().clearCustomData(), 
                            CKEDITOR.tools.removeFunction(this._.frameLoadedHandler), t && t.getParent() ? (t.clearCustomData(), 
                            (n = t.removeCustomData("onResize")) && n.removeListener(), t.remove()) : CKEDITOR.warn("editor-destroy-iframe");
                        }
                    }
                });
            }(), CKEDITOR.config.disableObjectResizing = !1, CKEDITOR.config.disableNativeTableHandles = !0, 
            CKEDITOR.config.disableNativeSpellChecker = !0, CKEDITOR.config.plugins = "dialogui,dialog,a11yhelp,about,basicstyles,blockquote,notification,button,toolbar,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filebrowser,floatingspace,listblock,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,tableselection,undo,wsc,wysiwygarea", 
            CKEDITOR.config.skin = "moono-lisa", function() {
                var e = function(e, t) {
                    var n = CKEDITOR.getUrl("plugins/" + t);
                    e = e.split(",");
                    for (var i = 0; i < e.length; i++) CKEDITOR.skin.icons[e[i]] = {
                        path: n,
                        offset: -e[++i],
                        bgsize: e[++i]
                    };
                };
                CKEDITOR.env.hidpi ? e("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,copyformatting,456,,creatediv,480,,docprops-rtl,504,,docprops,528,,embed,552,,embedsemantic,576,,find-rtl,600,,find,624,,replace,648,,flash,672,,button,696,,checkbox,720,,form,744,,hiddenfield,768,,imagebutton,792,,radio,816,,select-rtl,840,,select,864,,textarea-rtl,888,,textarea,912,,textfield-rtl,936,,textfield,960,,horizontalrule,984,,iframe,1008,,image,1032,,indent-rtl,1056,,indent,1080,,outdent-rtl,1104,,outdent,1128,,justifyblock,1152,,justifycenter,1176,,justifyleft,1200,,justifyright,1224,,language,1248,,anchor-rtl,1272,,anchor,1296,,link,1320,,unlink,1344,,bulletedlist-rtl,1368,,bulletedlist,1392,,numberedlist-rtl,1416,,numberedlist,1440,,mathjax,1464,,maximize,1488,,newpage-rtl,1512,,newpage,1536,,pagebreak-rtl,1560,,pagebreak,1584,,pastefromword-rtl,1608,,pastefromword,1632,,pastetext-rtl,1656,,pastetext,1680,,placeholder,1704,,preview-rtl,1728,,preview,1752,,print,1776,,removeformat,1800,,save,1824,,scayt,1848,,selectall,1872,,showblocks-rtl,1896,,showblocks,1920,,smiley,1944,,source-rtl,1968,,source,1992,,sourcedialog-rtl,2016,,sourcedialog,2040,,specialchar,2064,,table,2088,,templates-rtl,2112,,templates,2136,,uicolor,2160,,redo-rtl,2184,,redo,2208,,undo-rtl,2232,,undo,2256,,simplebox,4560,auto,spellchecker,2304,", "icons_hidpi.png") : e("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,copyformatting,456,auto,creatediv,480,auto,docprops-rtl,504,auto,docprops,528,auto,embed,552,auto,embedsemantic,576,auto,find-rtl,600,auto,find,624,auto,replace,648,auto,flash,672,auto,button,696,auto,checkbox,720,auto,form,744,auto,hiddenfield,768,auto,imagebutton,792,auto,radio,816,auto,select-rtl,840,auto,select,864,auto,textarea-rtl,888,auto,textarea,912,auto,textfield-rtl,936,auto,textfield,960,auto,horizontalrule,984,auto,iframe,1008,auto,image,1032,auto,indent-rtl,1056,auto,indent,1080,auto,outdent-rtl,1104,auto,outdent,1128,auto,justifyblock,1152,auto,justifycenter,1176,auto,justifyleft,1200,auto,justifyright,1224,auto,language,1248,auto,anchor-rtl,1272,auto,anchor,1296,auto,link,1320,auto,unlink,1344,auto,bulletedlist-rtl,1368,auto,bulletedlist,1392,auto,numberedlist-rtl,1416,auto,numberedlist,1440,auto,mathjax,1464,auto,maximize,1488,auto,newpage-rtl,1512,auto,newpage,1536,auto,pagebreak-rtl,1560,auto,pagebreak,1584,auto,pastefromword-rtl,1608,auto,pastefromword,1632,auto,pastetext-rtl,1656,auto,pastetext,1680,auto,placeholder,1704,auto,preview-rtl,1728,auto,preview,1752,auto,print,1776,auto,removeformat,1800,auto,save,1824,auto,scayt,1848,auto,selectall,1872,auto,showblocks-rtl,1896,auto,showblocks,1920,auto,smiley,1944,auto,source-rtl,1968,auto,source,1992,auto,sourcedialog-rtl,2016,auto,sourcedialog,2040,auto,specialchar,2064,auto,table,2088,auto,templates-rtl,2112,auto,templates,2136,auto,uicolor,2160,auto,redo-rtl,2184,auto,redo,2208,auto,undo-rtl,2232,auto,undo,2256,auto,simplebox,2280,auto,spellchecker,2304,auto", "icons.png");
            }());
        }();
    }
});
//# sourceMappingURL=ckeditor.js.map